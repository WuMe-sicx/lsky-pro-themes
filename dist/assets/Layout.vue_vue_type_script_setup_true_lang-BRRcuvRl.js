var e=Object.defineProperty,t=(t,n,r)=>((t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r)(t,"symbol"!=typeof n?n+"":n,r);import{o as n,an as r,cq as o,I as i,c as a,bu as l,cr as s,bl as d,cs as c,ct as u,bk as h,a7 as p,a as f,a3 as v,a9 as m,cu as g,cv as b,cw as w,cx as y,d as x,cy as k,a4 as C,C as S,cz as z,cA as $,$ as M,cB as R,cC as A,cD as O,a5 as T,cE as P,au as D,bm as F,bg as _,cF as B,bw as E,bd as j,b0 as I,i as L,cG as N,cH as H,cI as Y,cJ as W,r as U,cK as V,cL as q,cM as X,cN as Q,cO as K,cP as Z,t as G,cQ as J,cR as ee,cS as te,cT as ne,cU as re,cV as oe,cW as ie,cX as ae,cY as le,cZ as se,c_ as de,c$ as ce,d0 as ue,d1 as he,d2 as pe,d3 as fe,d4 as ve,d5 as me,bp as ge,cd as be,W as we,V as ye,X as xe,br as ke,bi as Ce,aY as Se,a1 as ze,ba as $e,a0 as Me,aF as Re,b1 as Ae,aH as Oe,d6 as Te,d7 as Pe,T as De,Z as Fe,b5 as _e,bq as Be,aE as Ee,a$ as je,bj as Ie,a2 as Le,d8 as Ne,c0 as He,d9 as Ye,w as We,da as Ue,D as Ve,db as qe,dc as Xe,dd as Qe,de as Ke,F as Ze,aZ as Ge,df as Je,dg as et,dh as tt,aa as nt,bc as rt,b$ as ot,di as it,dj as at,dk as lt,dl as st,dm as dt,dn as ct,dp as ut,bz as ht,bG as pt,dq as ft,be as vt,dr as mt,ce as gt,b3 as bt,b4 as wt,ds as yt,dt as xt,du as kt,dv as Ct,dw as St,dx as zt,dy as $t,dz as Mt,dA as Rt,dB as At,dC as Ot,dD as Tt,dE as Pt,dF as Dt,dG as Ft,a6 as _t,dH as Bt,bZ as Et,dI as jt,dJ as It,dK as Lt,bn as Nt,dL as Ht,dM as Yt,dN as Wt,B as Ut,a8 as Vt,dO as qt,dP as Xt,dQ as Qt,dR as Kt,dS as Zt,a_ as Gt,dT as Jt,dU as en,dV as tn,b6 as nn,dW as rn,dX as on,dY as an,dZ as ln,d_ as sn,bs as dn,d$ as cn,e0 as un,e1 as hn,af as pn,e2 as fn,e3 as vn,e4 as mn,c2 as gn,bY as bn,c1 as wn,c3 as yn,e5 as xn,e6 as kn,e7 as Cn,e8 as Sn,e9 as zn,ea as $n,b as Mn,e as Rn,f as An,aN as On,m as Tn,u as Pn,H as Dn,k as Fn,eb as _n,l as Bn,h as En,v as jn,g as In,z as Ln,j as Nn,y as Hn,x as Yn,n as Wn,s as Un,aP as Vn,_ as qn,ec as Xn,aI as Qn,A as Kn,ak as Zn,ed as Gn,bL as Jn,ee as er,Q as tr,av as nr,az as rr,aA as or,am as ir,aw as ar,ef as lr,eg as sr,eh as dr,ei as cr,at as ur,q as hr,p as pr}from"./index-DKzf3TMO.js";let fr=[];const vr=new WeakMap;function mr(){fr.forEach(e=>e(...vr.get(e))),fr=[]}function gr(e,...t){vr.set(e,t),fr.includes(e)||1===fr.push(e)&&requestAnimationFrame(mr)}function br(e,t){let{target:n}=e;for(;n;){if(n.dataset&&void 0!==n.dataset[t])return!0;n=n.parentElement}return!1}let wr,yr;var xr,kr;function Cr(e){if(yr)return;let t=!1;n(()=>{yr||null==wr||wr.then(()=>{t||e()})}),r(()=>{t=!0})}function Sr(e,t){return i(e,e=>{void 0!==e&&(t.value=e)}),a(()=>void 0===e.value?t.value:e.value)}function zr(e,t){return a(()=>{for(const n of t)if(void 0!==e[n])return e[n];return e[t[t.length-1]]})}function $r(e={},t){const n=l({ctrl:!1,command:!1,win:!1,shift:!1,tab:!1}),{keydown:o,keyup:a}=e,p=e=>{switch(e.key){case"Control":n.ctrl=!0;break;case"Meta":n.command=!0,n.win=!0;break;case"Shift":n.shift=!0;break;case"Tab":n.tab=!0}void 0!==o&&Object.keys(o).forEach(t=>{if(t!==e.key)return;const n=o[t];if("function"==typeof n)n(e);else{const{stop:t=!1,prevent:r=!1}=n;t&&e.stopPropagation(),r&&e.preventDefault(),n.handler(e)}})},f=e=>{switch(e.key){case"Control":n.ctrl=!1;break;case"Meta":n.command=!1,n.win=!1;break;case"Shift":n.shift=!1;break;case"Tab":n.tab=!1}void 0!==a&&Object.keys(a).forEach(t=>{if(t!==e.key)return;const n=a[t];if("function"==typeof n)n(e);else{const{stop:t=!1,prevent:r=!1}=n;t&&e.stopPropagation(),r&&e.preventDefault(),n.handler(e)}})},v=()=>{(void 0===t||t.value)&&(d("keydown",document,p),d("keyup",document,f)),void 0!==t&&i(t,e=>{e?(d("keydown",document,p),d("keyup",document,f)):(h("keydown",document,p),h("keyup",document,f))})};return c()?(u(v),r(()=>{(void 0===t||t.value)&&(h("keydown",document,p),h("keyup",document,f))})):v(),s(n)}wr=o?null===(kr=null===(xr=document)||void 0===xr?void 0:xr.fonts)||void 0===kr?void 0:kr.ready:void 0,yr=!1,void 0!==wr?wr.then(()=>{yr=!0}):yr=!0;const Mr=p("n-internal-select-menu"),Rr=p("n-internal-select-menu-body"),Ar="__disabled__";function Or(e){const t=m(g,null),o=m(b,null),i=m(w,null),a=m(Rr,null),l=f();if("undefined"!=typeof document){l.value=document.fullscreenElement;const e=()=>{l.value=document.fullscreenElement};n(()=>{d("fullscreenchange",document,e)}),r(()=>{h("fullscreenchange",document,e)})}return v(()=>{var n;const{to:r}=e;return void 0!==r?!1===r?Ar:!0===r?l.value||"body":r:(null==t?void 0:t.value)?null!==(n=t.value.$el)&&void 0!==n?n:t.value:(null==o?void 0:o.value)?o.value:(null==i?void 0:i.value)?i.value:(null==a?void 0:a.value)?a.value:null!=r?r:l.value||"body"})}function Tr(e,t,n){var o;const a=m(e,null);if(null===a)return;const l=null===(o=y())||void 0===o?void 0:o.proxy;function s(e,n){if(!a)return;const r=a[t];void 0!==n&&function(e,t){e[t]||(e[t]=[]);e[t].splice(e[t].findIndex(e=>e===l),1)}(r,n),void 0!==e&&function(e,t){e[t]||(e[t]=[]);~e[t].findIndex(e=>e===l)||e[t].push(l)}(r,e)}i(n,s),s(n.value),r(()=>{s(void 0,n.value)})}Or.tdkey=Ar,Or.propTo={type:[String,Object,Boolean],default:void 0};let Pr=null;function Dr(){if(null===Pr&&(Pr=document.getElementById("v-binder-view-measurer"),null===Pr)){Pr=document.createElement("div"),Pr.id="v-binder-view-measurer";const{style:e}=Pr;e.position="fixed",e.left="0",e.right="0",e.top="0",e.bottom="0",e.pointerEvents="none",e.visibility="hidden",document.body.appendChild(Pr)}return Pr.getBoundingClientRect()}function Fr(e){const t=e.getBoundingClientRect(),n=Dr();return{left:t.left-n.left,top:t.top-n.top,bottom:n.height+n.top-t.bottom,right:n.width+n.left-t.right,width:t.width,height:t.height}}function _r(e){if(null===e)return null;const t=function(e){return 9===e.nodeType?null:e.parentNode}(e);if(null===t)return null;if(9===t.nodeType)return document;if(1===t.nodeType){const{overflow:e,overflowX:n,overflowY:r}=getComputedStyle(t);if(/(auto|scroll|overlay)/.test(e+r+n))return t}return _r(t)}const Br=x({name:"Binder",props:{syncTargetWithParent:Boolean,syncTarget:{type:Boolean,default:!0}},setup(e){var t;C("VBinder",null===(t=y())||void 0===t?void 0:t.proxy);const n=m("VBinder",null),o=f(null);let i=[];const a=()=>{for(const e of i)h("scroll",e,s,!0);i=[]},l=new Set,s=()=>{gr(c)},c=()=>{l.forEach(e=>e())},u=new Set,p=()=>{u.forEach(e=>e())};return r(()=>{h("resize",window,p),a()}),{targetRef:o,setTargetRef:t=>{o.value=t,n&&e.syncTargetWithParent&&n.setTargetRef(t)},addScrollListener:e=>{0===l.size&&(()=>{let e=o.value;for(;e=_r(e),null!==e;)i.push(e);for(const t of i)d("scroll",t,s,!0)})(),l.has(e)||l.add(e)},removeScrollListener:e=>{l.has(e)&&l.delete(e),0===l.size&&a()},addResizeListener:e=>{0===u.size&&d("resize",window,p),u.has(e)||u.add(e)},removeResizeListener:e=>{u.has(e)&&u.delete(e),0===u.size&&h("resize",window,p)}}},render(){return k("binder",this.$slots)}}),Er=x({name:"Target",setup(){const{setTargetRef:e,syncTarget:t}=m("VBinder");return{syncTarget:t,setTargetDirective:{mounted:e,updated:e}}},render(){const{syncTarget:e,setTargetDirective:t}=this;return e?S(z("follower",this.$slots),[[t]]):z("follower",this.$slots)}}),jr="@@mmoContext",Ir={mounted(e,{value:t}){e[jr]={handler:void 0},"function"==typeof t&&(e[jr].handler=t,d("mousemoveoutside",e,t))},updated(e,{value:t}){const n=e[jr];"function"==typeof t?n.handler?n.handler!==t&&(h("mousemoveoutside",e,n.handler),n.handler=t,d("mousemoveoutside",e,t)):(e[jr].handler=t,d("mousemoveoutside",e,t)):n.handler&&(h("mousemoveoutside",e,n.handler),n.handler=void 0)},unmounted(e){const{handler:t}=e[jr];t&&h("mousemoveoutside",e,t),e[jr].handler=void 0}},{c:Lr}=$(),Nr="vueuc-style";function Hr(e){return e&-e}class Yr{constructor(e,t){this.l=e,this.min=t;const n=new Array(e+1);for(let r=0;r<e+1;++r)n[r]=0;this.ft=n}add(e,t){if(0===t)return;const{l:n,ft:r}=this;for(e+=1;e<=n;)r[e]+=t,e+=Hr(e)}get(e){return this.sum(e+1)-this.sum(e)}sum(e){if(void 0===e&&(e=this.l),e<=0)return 0;const{ft:t,min:n,l:r}=this;if(e>r)throw new Error("[FinweckTree.sum]: `i` is larger than length.");let o=e*n;for(;e>0;)o+=t[e],e-=Hr(e);return o}getBound(e){let t=0,n=this.l;for(;n>t;){const r=Math.floor((t+n)/2),o=this.sum(r);if(o>e)n=r;else{if(!(o<e))return r;if(t===r)return this.sum(t+1)<=e?t+1:r;t=r}}return t}}const Wr={top:"bottom",bottom:"top",left:"right",right:"left"},Ur={start:"end",center:"center",end:"start"},Vr={top:"height",bottom:"height",left:"width",right:"width"},qr={"bottom-start":"top left",bottom:"top center","bottom-end":"top right","top-start":"bottom left",top:"bottom center","top-end":"bottom right","right-start":"top left",right:"center left","right-end":"bottom left","left-start":"top right",left:"center right","left-end":"bottom right"},Xr={"bottom-start":"bottom left",bottom:"bottom center","bottom-end":"bottom right","top-start":"top left",top:"top center","top-end":"top right","right-start":"top right",right:"center right","right-end":"bottom right","left-start":"top left",left:"center left","left-end":"bottom left"},Qr={"bottom-start":"right","bottom-end":"left","top-start":"right","top-end":"left","right-start":"bottom","right-end":"top","left-start":"bottom","left-end":"top"},Kr={top:!0,bottom:!1,left:!0,right:!1},Zr={top:"end",bottom:"start",left:"end",right:"start"};const Gr=Lr([Lr(".v-binder-follower-container",{position:"absolute",left:"0",right:"0",top:"0",height:"0",pointerEvents:"none",zIndex:"auto"}),Lr(".v-binder-follower-content",{position:"absolute",zIndex:"auto"},[Lr("> *",{pointerEvents:"all"})])]),Jr=x({name:"Follower",inheritAttrs:!1,props:{show:Boolean,enabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom"},syncTrigger:{type:Array,default:["resize","scroll"]},to:[String,Object],flip:{type:Boolean,default:!0},internalShift:Boolean,x:Number,y:Number,width:String,minWidth:String,containerClass:String,teleportDisabled:Boolean,zindexable:{type:Boolean,default:!0},zIndex:Number,overlap:Boolean},setup(e){const t=m("VBinder"),o=v(()=>void 0!==e.enabled?e.enabled:e.show),a=f(null),l=f(null),s=()=>{const{syncTrigger:n}=e;n.includes("scroll")&&t.addScrollListener(u),n.includes("resize")&&t.addResizeListener(u)},d=()=>{t.removeScrollListener(u),t.removeResizeListener(u)};n(()=>{o.value&&(u(),s())});const c=O();Gr.mount({id:"vueuc/binder",head:!0,anchorMetaName:Nr,ssr:c}),r(()=>{d()}),Cr(()=>{o.value&&u()});const u=()=>{if(!o.value)return;const n=a.value;if(null===n)return;const r=t.targetRef,{x:i,y:s,overlap:d}=e,c=void 0!==i&&void 0!==s?function(e,t){const n=Dr();return{top:t,left:e,height:0,width:0,right:n.width-e,bottom:n.height-t}}(i,s):Fr(r);n.style.setProperty("--v-target-width",`${Math.round(c.width)}px`),n.style.setProperty("--v-target-height",`${Math.round(c.height)}px`);const{width:u,minWidth:h,placement:p,internalShift:f,flip:v}=e;n.setAttribute("v-placement",p),d?n.setAttribute("v-overlap",""):n.removeAttribute("v-overlap");const{style:m}=n;m.width="target"===u?`${c.width}px`:void 0!==u?u:"",m.minWidth="target"===h?`${c.width}px`:void 0!==h?h:"";const g=Fr(n),b=Fr(l.value),{left:w,top:y,placement:x}=function(e,t,n,r,o,i){if(!o||i)return{placement:e,top:0,left:0};const[a,l]=e.split("-");let s=null!=l?l:"center",d={top:0,left:0};const c=(e,o,i)=>{let a=0,l=0;const s=n[e]-t[o]-t[e];return s>0&&r&&(i?l=Kr[o]?s:-s:a=Kr[o]?s:-s),{left:a,top:l}},u="left"===a||"right"===a;if("center"!==s){const r=Qr[e],o=Wr[r],i=Vr[r];if(n[i]>t[i]){if(t[r]+t[i]<n[i]){const e=(n[i]-t[i])/2;t[r]<e||t[o]<e?t[r]<t[o]?(s=Ur[l],d=c(i,o,u)):d=c(i,r,u):s="center"}}else n[i]<t[i]&&t[o]<0&&t[r]>t[o]&&(s=Ur[l])}else{const e="bottom"===a||"top"===a?"left":"top",r=Wr[e],o=Vr[e],i=(n[o]-t[o])/2;(t[e]<i||t[r]<i)&&(t[e]>t[r]?(s=Zr[e],d=c(o,e,u)):(s=Zr[r],d=c(o,r,u)))}let h=a;return t[a]<n[Vr[a]]&&t[a]<t[Wr[a]]&&(h=Wr[a]),{placement:"center"!==s?`${h}-${s}`:h,left:d.left,top:d.top}}(p,c,g,f,v,d),k=function(e,t){return t?Xr[e]:qr[e]}(x,d),{left:C,top:S,transform:z}=function(e,t,n,r,o,i){if(i)switch(e){case"bottom-start":case"left-end":return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left)}px`,transform:"translateY(-100%)"};case"bottom-end":case"right-end":return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top-start":case"left-start":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left)}px`,transform:""};case"top-end":case"right-start":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%)"};case"top":return{top:`${Math.round(n.top-t.top)}px`,left:`${Math.round(n.left-t.left+n.width/2)}px`,transform:"translateX(-50%)"};case"right":return{top:`${Math.round(n.top-t.top+n.height/2)}px`,left:`${Math.round(n.left-t.left+n.width)}px`,transform:"translateX(-100%) translateY(-50%)"};case"left":return{top:`${Math.round(n.top-t.top+n.height/2)}px`,left:`${Math.round(n.left-t.left)}px`,transform:"translateY(-50%)"};default:return{top:`${Math.round(n.top-t.top+n.height)}px`,left:`${Math.round(n.left-t.left+n.width/2)}px`,transform:"translateX(-50%) translateY(-100%)"}}switch(e){case"bottom-start":return{top:`${Math.round(n.top-t.top+n.height+r)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:""};case"bottom-end":return{top:`${Math.round(n.top-t.top+n.height+r)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:"translateX(-100%)"};case"top-start":return{top:`${Math.round(n.top-t.top+r)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:"translateY(-100%)"};case"top-end":return{top:`${Math.round(n.top-t.top+r)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:"translateX(-100%) translateY(-100%)"};case"right-start":return{top:`${Math.round(n.top-t.top+r)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:""};case"right-end":return{top:`${Math.round(n.top-t.top+n.height+r)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:"translateY(-100%)"};case"left-start":return{top:`${Math.round(n.top-t.top+r)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:"translateX(-100%)"};case"left-end":return{top:`${Math.round(n.top-t.top+n.height+r)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:"translateX(-100%) translateY(-100%)"};case"top":return{top:`${Math.round(n.top-t.top+r)}px`,left:`${Math.round(n.left-t.left+n.width/2+o)}px`,transform:"translateY(-100%) translateX(-50%)"};case"right":return{top:`${Math.round(n.top-t.top+n.height/2+r)}px`,left:`${Math.round(n.left-t.left+n.width+o)}px`,transform:"translateY(-50%)"};case"left":return{top:`${Math.round(n.top-t.top+n.height/2+r)}px`,left:`${Math.round(n.left-t.left+o)}px`,transform:"translateY(-50%) translateX(-100%)"};default:return{top:`${Math.round(n.top-t.top+n.height+r)}px`,left:`${Math.round(n.left-t.left+n.width/2+o)}px`,transform:"translateX(-50%)"}}}(x,b,c,y,w,d);n.setAttribute("v-placement",x),n.style.setProperty("--v-offset-left",`${Math.round(w)}px`),n.style.setProperty("--v-offset-top",`${Math.round(y)}px`),n.style.transform=`translateX(${C}) translateY(${S}) ${z}`,n.style.setProperty("--v-transform-origin",k),n.style.transformOrigin=k};i(o,e=>{e?(s(),h()):d()});const h=()=>{D().then(u).catch(e=>{})};["placement","x","y","internalShift","flip","width","overlap","minWidth"].forEach(t=>{i(T(e,t),u)}),["teleportDisabled"].forEach(t=>{i(T(e,t),h)}),i(T(e,"syncTrigger"),e=>{e.includes("resize")?t.addResizeListener(u):t.removeResizeListener(u),e.includes("scroll")?t.addScrollListener(u):t.removeScrollListener(u)});const p=P(),g=v(()=>{const{to:t}=e;if(void 0!==t)return t;p.value});return{VBinder:t,mergedEnabled:o,offsetContainerRef:l,followerRef:a,mergedTo:g,syncPosition:u}},render(){return M(R,{show:this.show,to:this.mergedTo,disabled:this.teleportDisabled},{default:()=>{var e,t;const n=M("div",{class:["v-binder-follower-container",this.containerClass],ref:"offsetContainerRef"},[M("div",{class:"v-binder-follower-content",ref:"followerRef"},null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e))]);return this.zindexable?S(n,[[A,{enabled:this.mergedEnabled,zIndex:this.zIndex}]]):n}})}});let eo,to;function no(){return"undefined"==typeof document?1:(void 0===to&&(to="chrome"in window?window.devicePixelRatio:1),to)}const ro="VVirtualListXScroll";const oo=x({name:"VirtualListRow",props:{index:{type:Number,required:!0},item:{type:Object,required:!0}},setup(){const{startIndexRef:e,endIndexRef:t,columnsRef:n,getLeft:r,renderColRef:o,renderItemWithColsRef:i}=m(ro);return{startIndex:e,endIndex:t,columns:n,renderCol:o,renderItemWithCols:i,getLeft:r}},render(){const{startIndex:e,endIndex:t,columns:n,renderCol:r,renderItemWithCols:o,getLeft:i,item:a}=this;if(null!=o)return o({itemIndex:this.index,startColIndex:e,endColIndex:t,allColumns:n,item:a,getLeft:i});if(null!=r){const o=[];for(let l=e;l<=t;++l){const e=n[l];o.push(r({column:e,left:i(l),item:a}))}return o}return null}}),io=Lr(".v-vl",{maxHeight:"inherit",height:"100%",overflow:"auto",minWidth:"1px"},[Lr("&:not(.v-vl--show-scrollbar)",{scrollbarWidth:"none"},[Lr("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",{width:0,height:0,display:"none"})])]),ao=x({name:"VirtualList",inheritAttrs:!1,props:{showScrollbar:{type:Boolean,default:!0},columns:{type:Array,default:()=>[]},renderCol:Function,renderItemWithCols:Function,items:{type:Array,default:()=>[]},itemSize:{type:Number,required:!0},itemResizable:Boolean,itemsStyle:[String,Object],visibleItemsTag:{type:[String,Object],default:"div"},visibleItemsProps:Object,ignoreItemResize:Boolean,onScroll:Function,onWheel:Function,onResize:Function,defaultScrollKey:[Number,String],defaultScrollIndex:Number,keyField:{type:String,default:"key"},paddingTop:{type:[Number,String],default:0},paddingBottom:{type:[Number,String],default:0}},setup(e){const t=O();io.mount({id:"vueuc/virtual-list",head:!0,anchorMetaName:Nr,ssr:t}),n(()=>{const{defaultScrollIndex:t,defaultScrollKey:n}=e;null!=t?y({index:t}):null!=n&&y({key:n})});let r=!1,o=!1;B(()=>{r=!1,o?y({top:g.value,left:s.value}):o=!0}),E(()=>{r=!0,o||(o=!0)});const i=v(()=>{if(null==e.renderCol&&null==e.renderItemWithCols)return;if(0===e.columns.length)return;let t=0;return e.columns.forEach(e=>{t+=e.width}),t}),l=a(()=>{const t=new Map,{keyField:n}=e;return e.items.forEach((e,r)=>{t.set(e[n],r)}),t}),{scrollLeftRef:s,listWidthRef:d}=function({columnsRef:e,renderColRef:t,renderItemWithColsRef:n}){const r=f(0),o=f(0),i=a(()=>{const t=e.value;if(0===t.length)return null;const n=new Yr(t.length,0);return t.forEach((e,t)=>{n.add(t,e.width)}),n}),l=v(()=>{const e=i.value;return null!==e?Math.max(e.getBound(o.value)-1,0):0}),s=v(()=>{const t=i.value;return null!==t?Math.min(t.getBound(o.value+r.value)+1,e.value.length-1):0});return C(ro,{startIndexRef:l,endIndexRef:s,columnsRef:e,renderColRef:t,renderItemWithColsRef:n,getLeft:e=>{const t=i.value;return null!==t?t.sum(e):0}}),{listWidthRef:r,scrollLeftRef:o}}({columnsRef:T(e,"columns"),renderColRef:T(e,"renderCol"),renderItemWithColsRef:T(e,"renderItemWithCols")}),c=f(null),u=f(void 0),h=new Map,p=a(()=>{const{items:t,itemSize:n,keyField:r}=e,o=new Yr(t.length,n);return t.forEach((e,t)=>{const n=e[r],i=h.get(n);void 0!==i&&o.add(t,i)}),o}),m=f(0),g=f(0),b=v(()=>Math.max(p.value.getBound(g.value-j(e.paddingTop))-1,0)),w=a(()=>{const{value:t}=u;if(void 0===t)return[];const{items:n,itemSize:r}=e,o=b.value,i=Math.min(o+Math.ceil(t/r+1),n.length-1),a=[];for(let e=o;e<=i;++e)a.push(n[e]);return a}),y=(e,t)=>{if("number"==typeof e)return void z(e,t,"auto");const{left:n,top:r,index:o,key:i,position:a,behavior:s,debounce:d=!0}=e;if(void 0!==n||void 0!==r)z(n,r,s);else if(void 0!==o)S(o,s,d);else if(void 0!==i){const e=l.value.get(i);void 0!==e&&S(e,s,d)}else"bottom"===a?z(0,Number.MAX_SAFE_INTEGER,s):"top"===a&&z(0,0,s)};let x,k=null;function S(t,n,r){const{value:o}=p,i=o.sum(t)+j(e.paddingTop);if(r){x=t,null!==k&&window.clearTimeout(k),k=window.setTimeout(()=>{x=void 0,k=null},16);const{scrollTop:e,offsetHeight:r}=c.value;if(i>e){const a=o.get(t);i+a<=e+r||c.value.scrollTo({left:0,top:i+a-r,behavior:n})}else c.value.scrollTo({left:0,top:i,behavior:n})}else c.value.scrollTo({left:0,top:i,behavior:n})}function z(e,t,n){c.value.scrollTo({left:e,top:t,behavior:n})}const $=!("undefined"!=typeof document&&(void 0===eo&&(eo="matchMedia"in window&&window.matchMedia("(pointer:coarse)").matches),eo));let M=!1;function R(){const{value:e}=c;null!=e&&(g.value=e.scrollTop,s.value=e.scrollLeft)}function A(e){let t=e;for(;null!==t;){if("none"===t.style.display)return!0;t=t.parentElement}return!1}return{listHeight:u,listStyle:{overflow:"auto"},keyToIndex:l,itemsStyle:a(()=>{const{itemResizable:t}=e,n=I(p.value.sum());return m.value,[e.itemsStyle,{boxSizing:"content-box",width:I(i.value),height:t?"":n,minHeight:t?n:"",paddingTop:I(e.paddingTop),paddingBottom:I(e.paddingBottom)}]}),visibleItemsStyle:a(()=>(m.value,{transform:`translateY(${I(p.value.sum(b.value))})`})),viewportItems:w,listElRef:c,itemsElRef:f(null),scrollTo:y,handleListResize:function(t){if(r)return;if(A(t.target))return;if(null==e.renderCol&&null==e.renderItemWithCols){if(t.contentRect.height===u.value)return}else if(t.contentRect.height===u.value&&t.contentRect.width===d.value)return;u.value=t.contentRect.height,d.value=t.contentRect.width;const{onResize:n}=e;void 0!==n&&n(t)},handleListScroll:function(t){var n;null===(n=e.onScroll)||void 0===n||n.call(e,t),$&&M||R()},handleListWheel:function(t){var n;if(null===(n=e.onWheel)||void 0===n||n.call(e,t),$){const e=c.value;if(null!=e){if(0===t.deltaX){if(0===e.scrollTop&&t.deltaY<=0)return;if(e.scrollTop+e.offsetHeight>=e.scrollHeight&&t.deltaY>=0)return}t.preventDefault(),e.scrollTop+=t.deltaY/no(),e.scrollLeft+=t.deltaX/no(),R(),M=!0,gr(()=>{M=!1})}}},handleItemResize:function(t,n){var o,i,a;if(r)return;if(e.ignoreItemResize)return;if(A(n.target))return;const{value:s}=p,d=l.value.get(t),u=s.get(d),f=null!==(a=null===(i=null===(o=n.borderBoxSize)||void 0===o?void 0:o[0])||void 0===i?void 0:i.blockSize)&&void 0!==a?a:n.contentRect.height;if(f===u)return;0===f-e.itemSize?h.delete(t):h.set(t,f-e.itemSize);const v=f-u;if(0===v)return;s.add(d,v);const g=c.value;if(null!=g){if(void 0===x){const e=s.sum(d);g.scrollTop>e&&g.scrollBy(0,v)}else if(d<x)g.scrollBy(0,v);else if(d===x){f+s.sum(d)>g.scrollTop+g.offsetHeight&&g.scrollBy(0,v)}R()}m.value++}}},render(){const{itemResizable:e,keyField:t,keyToIndex:n,visibleItemsTag:r}=this;return M(F,{onResize:this.handleListResize},{default:()=>{var o,i;return M("div",_(this.$attrs,{class:["v-vl",this.showScrollbar&&"v-vl--show-scrollbar"],onScroll:this.handleListScroll,onWheel:this.handleListWheel,ref:"listElRef"}),[0!==this.items.length?M("div",{ref:"itemsElRef",class:"v-vl-items",style:this.itemsStyle},[M(r,Object.assign({class:"v-vl-visible-items",style:this.visibleItemsStyle},this.visibleItemsProps),{default:()=>{const{renderCol:r,renderItemWithCols:o}=this;return this.viewportItems.map(i=>{const a=i[t],l=n.get(a),s=null!=r?M(oo,{index:l,item:i}):void 0,d=null!=o?M(oo,{index:l,item:i}):void 0,c=this.$slots.default({item:i,renderedCols:s,renderedItemWithCols:d,index:l})[0];return e?M(F,{key:a,onResize:e=>this.handleItemResize(a,e)},{default:()=>c}):(c.key=a,c)})}})]):null===(i=(o=this.$slots).empty)||void 0===i?void 0:i.call(o)])}})}}),lo=Lr(".v-x-scroll",{overflow:"auto",scrollbarWidth:"none"},[Lr("&::-webkit-scrollbar",{width:0,height:0})]),so=x({name:"XScroll",props:{disabled:Boolean,onScroll:Function},setup(){const e=f(null);const t=O();lo.mount({id:"vueuc/x-scroll",head:!0,anchorMetaName:Nr,ssr:t});const n={scrollTo(...t){var n;null===(n=e.value)||void 0===n||n.scrollTo(...t)}};return Object.assign({selfRef:e,handleWheel:function(e){e.currentTarget.offsetWidth<e.currentTarget.scrollWidth&&0!==e.deltaY&&(e.currentTarget.scrollLeft+=e.deltaY+e.deltaX,e.preventDefault())}},n)},render(){return M("div",{ref:"selfRef",onScroll:this.onScroll,onWheel:this.disabled?void 0:this.handleWheel,class:"v-x-scroll"},this.$slots)}}),co="v-hidden",uo=Lr("[v-hidden]",{display:"none!important"}),ho=x({name:"Overflow",props:{getCounter:Function,getTail:Function,updateCounter:Function,onUpdateCount:Function,onUpdateOverflow:Function},setup(e,{slots:t}){const r=f(null),o=f(null);function i(n){const{value:i}=r,{getCounter:a,getTail:l}=e;let s;if(s=void 0!==a?a():o.value,!i||!s)return;s.hasAttribute(co)&&s.removeAttribute(co);const{children:d}=i;if(n.showAllItemsBeforeCalculate)for(const e of d)e.hasAttribute(co)&&e.removeAttribute(co);const c=i.offsetWidth,u=[],h=t.tail?null==l?void 0:l():null;let p=h?h.offsetWidth:0,f=!1;const v=i.children.length-(t.tail?1:0);for(let t=0;t<v-1;++t){if(t<0)continue;const n=d[t];if(f){n.hasAttribute(co)||n.setAttribute(co,"");continue}n.hasAttribute(co)&&n.removeAttribute(co);const r=n.offsetWidth;if(p+=r,u[t]=r,p>c){const{updateCounter:n}=e;for(let r=t;r>=0;--r){const o=v-1-r;void 0!==n?n(o):s.textContent=`${o}`;const i=s.offsetWidth;if(p-=u[r],p+i<=c||0===r){f=!0,t=r-1,h&&(-1===t?(h.style.maxWidth=c-i+"px",h.style.boxSizing="border-box"):h.style.maxWidth="");const{onUpdateCount:n}=e;n&&n(o);break}}}}const{onUpdateOverflow:m}=e;f?void 0!==m&&m(!0):(void 0!==m&&m(!1),s.setAttribute(co,""))}const a=O();return uo.mount({id:"vueuc/overflow",head:!0,anchorMetaName:Nr,ssr:a}),n(()=>i({showAllItemsBeforeCalculate:!1})),{selfRef:r,counterRef:o,sync:i}},render(){const{$slots:e}=this;return D(()=>this.sync({showAllItemsBeforeCalculate:!1})),M("div",{class:"v-overflow",ref:"selfRef"},[L(e,"default"),e.counter?e.counter():M("span",{style:{display:"inline-block"},ref:"counterRef"}),e.tail?e.tail():null])}});function po(e,t){t&&(n(()=>{const{value:n}=e;n&&N.registerHandler(n,t)}),i(e,(e,t)=>{t&&N.unregisterHandler(t)},{deep:!1}),r(()=>{const{value:t}=e;t&&N.unregisterHandler(t)}))}const fo=/^(\d|\.)+$/,vo=/(\d|\.)+/;function mo(e,{c:t=1,offset:n=0,attachPx:r=!0}={}){if("number"==typeof e){const r=(e+n)*t;return 0===r?"0":`${r}px`}if("string"==typeof e){if(fo.test(e)){const o=(Number(e)+n)*t;return r?0===o?"0":`${o}px`:`${o}`}{const r=vo.exec(e);return r?e.replace(vo,String((Number(r[0])+n)*t)):e}}return e}function go(e,t){if(!e)return;const n=document.createElement("a");n.href=e,void 0!==t&&(n.download=t),document.body.appendChild(n),n.click(),document.body.removeChild(n)}let bo;function wo(e){switch(typeof e){case"string":return e||void 0;case"number":return String(e);default:return}}const yo={tiny:"mini",small:"tiny",medium:"small",large:"medium",huge:"large"};function xo(e){const t=yo[e];if(void 0===t)throw new Error(`${e} has no smaller size.`);return t}function ko(e){return t=>{e.value=t?t.$el:null}}function Co(e,t="default",n=[]){const r=e.$slots[t];return void 0===r?n:r()}function So(e){const t=e.filter(e=>void 0!==e);if(0!==t.length)return 1===t.length?t[0]:t=>{e.forEach(e=>{e&&e(t)})}}var zo=/\s/;var $o=/^\s+/;function Mo(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&zo.test(e.charAt(t)););return t}(e)+1).replace($o,""):e}var Ro=/^[-+]0x[0-9a-f]+$/i,Ao=/^0b[01]+$/i,Oo=/^0o[0-7]+$/i,To=parseInt;function Po(e){if("number"==typeof e)return e;if(H(e))return NaN;if(Y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Mo(e);var n=Ao.test(e);return n||Oo.test(e)?To(e.slice(2),n?2:8):Ro.test(e)?NaN:+e}var Do=W(U,"WeakMap"),Fo=V(Object.keys,Object),_o=Object.prototype.hasOwnProperty;function Bo(e){return Q(e)?X(e):function(e){if(!q(e))return Fo(e);var t=[];for(var n in Object(e))_o.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}var Eo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jo=/^\w*$/;function Io(e,t){if(K(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!H(e))||(jo.test(e)||!Eo.test(e)||null!=t&&e in Object(t))}function Lo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Lo.Cache||Z),n}Lo.Cache=Z;var No,Ho,Yo,Wo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Uo=/\\(\\)?/g,Vo=(No=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Wo,function(e,n,r,o){t.push(r?o.replace(Uo,"$1"):n||e)}),t},Ho=Lo(No,function(e){return 500===Yo.size&&Yo.clear(),e}),Yo=Ho.cache,Ho);function qo(e,t){return K(e)?e:Io(e,t)?[e]:Vo(G(e))}function Xo(e){if("string"==typeof e||H(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Qo(e,t){for(var n=0,r=(t=qo(t,e)).length;null!=e&&n<r;)e=e[Xo(t[n++])];return n&&n==r?e:void 0}function Ko(e,t,n){var r=null==e?void 0:Qo(e,t);return void 0===r?n:r}var Zo,Go=(Zo={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},function(e){return null==Zo?void 0:Zo[e]}),Jo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ei=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var ti=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var ni=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var ri="\\ud800-\\udfff",oi="\\u2700-\\u27bf",ii="a-z\\xdf-\\xf6\\xf8-\\xff",ai="A-Z\\xc0-\\xd6\\xd8-\\xde",li="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",si="["+li+"]",di="\\d+",ci="["+oi+"]",ui="["+ii+"]",hi="[^"+ri+li+di+oi+ii+ai+"]",pi="(?:\\ud83c[\\udde6-\\uddff]){2}",fi="[\\ud800-\\udbff][\\udc00-\\udfff]",vi="["+ai+"]",mi="(?:"+ui+"|"+hi+")",gi="(?:"+vi+"|"+hi+")",bi="(?:['’](?:d|ll|m|re|s|t|ve))?",wi="(?:['’](?:D|LL|M|RE|S|T|VE))?",yi="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",xi="[\\ufe0e\\ufe0f]?",ki=xi+yi+("(?:\\u200d(?:"+["[^"+ri+"]",pi,fi].join("|")+")"+xi+yi+")*"),Ci="(?:"+[ci,pi,fi].join("|")+")"+ki,Si=RegExp([vi+"?"+ui+"+"+bi+"(?="+[si,vi,"$"].join("|")+")",gi+"+"+wi+"(?="+[si,vi+mi,"$"].join("|")+")",vi+"?"+mi+"+"+bi,vi+"+"+wi,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",di,Ci].join("|"),"g");function zi(e,t,n){return e=G(e),void 0===t?function(e){return ni.test(e)}(e)?function(e){return e.match(Si)||[]}(e):function(e){return e.match(ti)||[]}(e):e.match(t)||[]}var $i=RegExp("['’]","g");var Mi=Object.prototype.propertyIsEnumerable,Ri=Object.getOwnPropertySymbols,Ai=Ri?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}(Ri(e),function(t){return Mi.call(e,t)}))}:function(){return[]};function Oi(e){return function(e,t,n){var r=t(e);return K(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Bo,Ai)}var Ti=W(U,"DataView"),Pi=W(U,"Promise"),Di=W(U,"Set"),Fi="[object Map]",_i="[object Promise]",Bi="[object Set]",Ei="[object WeakMap]",ji="[object DataView]",Ii=ee(Ti),Li=ee(te),Ni=ee(Pi),Hi=ee(Di),Yi=ee(Do),Wi=J;(Ti&&Wi(new Ti(new ArrayBuffer(1)))!=ji||te&&Wi(new te)!=Fi||Pi&&Wi(Pi.resolve())!=_i||Di&&Wi(new Di)!=Bi||Do&&Wi(new Do)!=Ei)&&(Wi=function(e){var t=J(e),n="[object Object]"==t?e.constructor:void 0,r=n?ee(n):"";if(r)switch(r){case Ii:return ji;case Li:return Fi;case Ni:return _i;case Hi:return Bi;case Yi:return Ei}return t});function Ui(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Z;++t<n;)this.add(e[t])}function Vi(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function qi(e,t){return e.has(t)}Ui.prototype.add=Ui.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ui.prototype.has=function(e){return this.__data__.has(e)};function Xi(e,t,n,r,o,i){var a=1&n,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var d=i.get(e),c=i.get(t);if(d&&c)return d==t&&c==e;var u=-1,h=!0,p=2&n?new Ui:void 0;for(i.set(e,t),i.set(t,e);++u<l;){var f=e[u],v=t[u];if(r)var m=a?r(v,f,u,t,e,i):r(f,v,u,e,t,i);if(void 0!==m){if(m)continue;h=!1;break}if(p){if(!Vi(t,function(e,t){if(!qi(p,t)&&(f===e||o(f,e,n,r,i)))return p.push(t)})){h=!1;break}}else if(f!==v&&!o(f,v,n,r,i)){h=!1;break}}return i.delete(e),i.delete(t),h}function Qi(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function Ki(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var Zi=ne?ne.prototype:void 0,Gi=Zi?Zi.valueOf:void 0;var Ji=Object.prototype.hasOwnProperty;var ea="[object Arguments]",ta="[object Array]",na="[object Object]",ra=Object.prototype.hasOwnProperty;function oa(e,t,n,r,o,i){var a=K(e),l=K(t),s=a?ta:Wi(e),d=l?ta:Wi(t),c=(s=s==ea?na:s)==na,u=(d=d==ea?na:d)==na,h=s==d;if(h&&ie(e)){if(!ie(t))return!1;a=!0,c=!1}if(h&&!c)return i||(i=new ae),a||le(e)?Xi(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new oe(e),new oe(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return re(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Qi;case"[object Set]":var s=1&r;if(l||(l=Ki),e.size!=t.size&&!s)return!1;var d=a.get(e);if(d)return d==t;r|=2,a.set(e,t);var c=Xi(l(e),l(t),r,o,i,a);return a.delete(e),c;case"[object Symbol]":if(Gi)return Gi.call(e)==Gi.call(t)}return!1}(e,t,s,n,r,o,i);if(!(1&n)){var p=c&&ra.call(e,"__wrapped__"),f=u&&ra.call(t,"__wrapped__");if(p||f){var v=p?e.value():e,m=f?t.value():t;return i||(i=new ae),o(v,m,n,r,i)}}return!!h&&(i||(i=new ae),function(e,t,n,r,o,i){var a=1&n,l=Oi(e),s=l.length;if(s!=Oi(t).length&&!a)return!1;for(var d=s;d--;){var c=l[d];if(!(a?c in t:Ji.call(t,c)))return!1}var u=i.get(e),h=i.get(t);if(u&&h)return u==t&&h==e;var p=!0;i.set(e,t),i.set(t,e);for(var f=a;++d<s;){var v=e[c=l[d]],m=t[c];if(r)var g=a?r(m,v,c,t,e,i):r(v,m,c,e,t,i);if(!(void 0===g?v===m||o(v,m,n,r,i):g)){p=!1;break}f||(f="constructor"==c)}if(p&&!f){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(p=!1)}return i.delete(e),i.delete(t),p}(e,t,n,r,o,i))}function ia(e,t,n,r,o){return e===t||(null==e||null==t||!se(e)&&!se(t)?e!=e&&t!=t:oa(e,t,n,r,ia,o))}function aa(e){return e==e&&!Y(e)}function la(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function sa(e){var t=function(e){for(var t=Bo(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,aa(o)]}return t}(e);return 1==t.length&&t[0][2]?la(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var o=n.length,i=o;if(null==e)return!i;for(e=Object(e);o--;){var a=n[o];if(a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){var l=(a=n[o])[0],s=e[l],d=a[1];if(a[2]){if(void 0===s&&!(l in e))return!1}else if(!ia(d,s,3,r,new ae))return!1}return!0}(n,0,t)}}function da(e,t){return null!=e&&t in Object(e)}function ca(e,t){return null!=e&&function(e,t,n){for(var r=-1,o=(t=qo(t,e)).length,i=!1;++r<o;){var a=Xo(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&de(o)&&ce(a,o)&&(K(e)||ue(e))}(e,t,da)}function ua(e){return Io(e)?(t=Xo(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return Qo(t,e)}}(e);var t}function ha(e){return"function"==typeof e?e:null==e?he:"object"==typeof e?K(e)?(t=e[0],n=e[1],Io(t)&&aa(n)?la(Xo(t),n):function(e){var r=Ko(e,t);return void 0===r&&r===n?ca(e,t):ia(n,r,3)}):sa(e):ua(e);var t,n}var pa,fa=(pa=function(e,t){return e&&pe(e,t,Bo)},function(e,t){if(null==e)return e;if(!Q(e))return pa(e,t);for(var n=e.length,r=-1,o=Object(e);++r<n&&!1!==t(o[r],r,o););return e}),va=function(){return U.Date.now()},ma=Math.max,ga=Math.min;function ba(e,t,n){var r,o,i,a,l,s,d=0,c=!1,u=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,i=o;return r=o=void 0,d=t,a=e.apply(i,n)}function f(e){var n=e-s;return void 0===s||n>=t||n<0||u&&e-d>=i}function v(){var e=va();if(f(e))return m(e);l=setTimeout(v,function(e){var n=t-(e-s);return u?ga(n,i-(e-d)):n}(e))}function m(e){return l=void 0,h&&r?p(e):(r=o=void 0,a)}function g(){var e=va(),n=f(e);if(r=arguments,o=this,s=e,n){if(void 0===l)return function(e){return d=e,l=setTimeout(v,t),c?p(e):a}(s);if(u)return clearTimeout(l),l=setTimeout(v,t),p(s)}return void 0===l&&(l=setTimeout(v,t)),a}return t=Po(t)||0,Y(n)&&(c=!!n.leading,i=(u="maxWait"in n)?ma(Po(n.maxWait)||0,t):i,h="trailing"in n?!!n.trailing:h),g.cancel=function(){void 0!==l&&clearTimeout(l),d=0,r=s=o=l=void 0},g.flush=function(){return void 0===l?a:m(va())},g}function wa(e,t){var n=-1,r=Q(e)?Array(e.length):[];return fa(e,function(e,o,i){r[++n]=t(e,o,i)}),r}var ya,xa=(ya=function(e,t,n){return e+(n?"-":"")+t.toLowerCase()},function(e){return function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)n=t(n,e[r],r,e);return n}(zi(function(e){return(e=G(e))&&e.replace(Jo,Go).replace(ei,"")}(e).replace($i,"")),ya,"")});function ka(e){const{mergedLocaleRef:t,mergedDateLocaleRef:n}=m(ge,null)||{},r=a(()=>{var n,r;return null!==(r=null===(n=null==t?void 0:t.value)||void 0===n?void 0:n[e])&&void 0!==r?r:ve[e]}),o=a(()=>{var e;return null!==(e=null==n?void 0:n.value)&&void 0!==e?e:me});return{dateLocaleRef:o,localeRef:r}}const Ca=x({name:"Add",render:()=>M("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}),Sa=x({name:"Backward",render:()=>M("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M("path",{d:"M12.2674 15.793C11.9675 16.0787 11.4927 16.0672 11.2071 15.7673L6.20572 10.5168C5.9298 10.2271 5.9298 9.7719 6.20572 9.48223L11.2071 4.23177C11.4927 3.93184 11.9675 3.92031 12.2674 4.206C12.5673 4.49169 12.5789 4.96642 12.2932 5.26634L7.78458 9.99952L12.2932 14.7327C12.5789 15.0326 12.5673 15.5074 12.2674 15.793Z",fill:"currentColor"}))}),za=x({name:"Checkmark",render:()=>M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},M("g",{fill:"none"},M("path",{d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z",fill:"currentColor"})))}),$a=x({name:"ChevronDown",render:()=>M("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M("path",{d:"M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z",fill:"currentColor"}))}),Ma=x({name:"ChevronRight",render:()=>M("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M("path",{d:"M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z",fill:"currentColor"}))}),Ra=be("clear",()=>M("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},M("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},M("g",{fill:"currentColor","fill-rule":"nonzero"},M("path",{d:"M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z"}))))),Aa=be("date",()=>M("svg",{width:"28px",height:"28px",viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},M("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},M("g",{"fill-rule":"nonzero"},M("path",{d:"M21.75,3 C23.5449254,3 25,4.45507456 25,6.25 L25,21.75 C25,23.5449254 23.5449254,25 21.75,25 L6.25,25 C4.45507456,25 3,23.5449254 3,21.75 L3,6.25 C3,4.45507456 4.45507456,3 6.25,3 L21.75,3 Z M23.5,9.503 L4.5,9.503 L4.5,21.75 C4.5,22.7164983 5.28350169,23.5 6.25,23.5 L21.75,23.5 C22.7164983,23.5 23.5,22.7164983 23.5,21.75 L23.5,9.503 Z M21.75,4.5 L6.25,4.5 C5.28350169,4.5 4.5,5.28350169 4.5,6.25 L4.5,8.003 L23.5,8.003 L23.5,6.25 C23.5,5.28350169 22.7164983,4.5 21.75,4.5 Z"}))))),Oa=be("download",()=>M("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},M("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},M("g",{fill:"currentColor","fill-rule":"nonzero"},M("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),Ta=x({name:"Empty",render:()=>M("svg",{viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M("path",{d:"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z",fill:"currentColor"}),M("path",{d:"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z",fill:"currentColor"}))}),Pa=x({name:"Eye",render:()=>M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},M("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),M("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}),Da=x({name:"EyeOff",render:()=>M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},M("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),M("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),M("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),M("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),M("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}),Fa=x({name:"FastBackward",render:()=>M("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},M("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},M("g",{fill:"currentColor","fill-rule":"nonzero"},M("path",{d:"M8.73171,16.7949 C9.03264,17.0795 9.50733,17.0663 9.79196,16.7654 C10.0766,16.4644 10.0634,15.9897 9.76243,15.7051 L4.52339,10.75 L17.2471,10.75 C17.6613,10.75 17.9971,10.4142 17.9971,10 C17.9971,9.58579 17.6613,9.25 17.2471,9.25 L4.52112,9.25 L9.76243,4.29275 C10.0634,4.00812 10.0766,3.53343 9.79196,3.2325 C9.50733,2.93156 9.03264,2.91834 8.73171,3.20297 L2.31449,9.27241 C2.14819,9.4297 2.04819,9.62981 2.01448,9.8386 C2.00308,9.89058 1.99707,9.94459 1.99707,10 C1.99707,10.0576 2.00356,10.1137 2.01585,10.1675 C2.05084,10.3733 2.15039,10.5702 2.31449,10.7254 L8.73171,16.7949 Z"}))))}),_a=x({name:"FastForward",render:()=>M("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},M("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},M("g",{fill:"currentColor","fill-rule":"nonzero"},M("path",{d:"M11.2654,3.20511 C10.9644,2.92049 10.4897,2.93371 10.2051,3.23464 C9.92049,3.53558 9.93371,4.01027 10.2346,4.29489 L15.4737,9.25 L2.75,9.25 C2.33579,9.25 2,9.58579 2,10.0000012 C2,10.4142 2.33579,10.75 2.75,10.75 L15.476,10.75 L10.2346,15.7073 C9.93371,15.9919 9.92049,16.4666 10.2051,16.7675 C10.4897,17.0684 10.9644,17.0817 11.2654,16.797 L17.6826,10.7276 C17.8489,10.5703 17.9489,10.3702 17.9826,10.1614 C17.994,10.1094 18,10.0554 18,10.0000012 C18,9.94241 17.9935,9.88633 17.9812,9.83246 C17.9462,9.62667 17.8467,9.42976 17.6826,9.27455 L11.2654,3.20511 Z"}))))}),Ba=x({name:"Forward",render:()=>M("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M("path",{d:"M7.73271 4.20694C8.03263 3.92125 8.50737 3.93279 8.79306 4.23271L13.7944 9.48318C14.0703 9.77285 14.0703 10.2281 13.7944 10.5178L8.79306 15.7682C8.50737 16.0681 8.03263 16.0797 7.73271 15.794C7.43279 15.5083 7.42125 15.0336 7.70694 14.7336L12.2155 10.0005L7.70694 5.26729C7.42125 4.96737 7.43279 4.49264 7.73271 4.20694Z",fill:"currentColor"}))}),Ea=x({name:"ResizeSmall",render:()=>M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},M("g",{fill:"none"},M("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}),ja=be("rotateClockwise",()=>M("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),M("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),Ia=be("rotateClockwise",()=>M("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),M("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),La=be("time",()=>M("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},M("path",{d:"M256,64C150,64,64,150,64,256s86,192,192,192,192-86,192-192S362,64,256,64Z",style:"\n        fill: none;\n        stroke: currentColor;\n        stroke-miterlimit: 10;\n        stroke-width: 32px;\n      "}),M("polyline",{points:"256 128 256 272 352 272",style:"\n        fill: none;\n        stroke: currentColor;\n        stroke-linecap: round;\n        stroke-linejoin: round;\n        stroke-width: 32px;\n      "}))),Na=be("to",()=>M("svg",{viewBox:"0 0 20 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},M("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},M("g",{fill:"currentColor","fill-rule":"nonzero"},M("path",{d:"M11.2654,3.20511 C10.9644,2.92049 10.4897,2.93371 10.2051,3.23464 C9.92049,3.53558 9.93371,4.01027 10.2346,4.29489 L15.4737,9.25 L2.75,9.25 C2.33579,9.25 2,9.58579 2,10.0000012 C2,10.4142 2.33579,10.75 2.75,10.75 L15.476,10.75 L10.2346,15.7073 C9.93371,15.9919 9.92049,16.4666 10.2051,16.7675 C10.4897,17.0684 10.9644,17.0817 11.2654,16.797 L17.6826,10.7276 C17.8489,10.5703 17.9489,10.3702 17.9826,10.1614 C17.994,10.1094 18,10.0554 18,10.0000012 C18,9.94241 17.9935,9.88633 17.9812,9.83246 C17.9462,9.62667 17.8467,9.42976 17.6826,9.27455 L11.2654,3.20511 Z"}))))),Ha=be("zoomIn",()=>M("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),M("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),Ya=be("zoomOut",()=>M("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),M("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),Wa=we("base-clear","\n flex-shrink: 0;\n height: 1em;\n width: 1em;\n position: relative;\n",[ye(">",[xe("clear","\n font-size: var(--n-clear-size);\n height: 1em;\n width: 1em;\n cursor: pointer;\n color: var(--n-clear-color);\n transition: color .3s var(--n-bezier);\n display: flex;\n ",[ye("&:hover","\n color: var(--n-clear-color-hover)!important;\n "),ye("&:active","\n color: var(--n-clear-color-pressed)!important;\n ")]),xe("placeholder","\n display: flex;\n "),xe("clear, placeholder","\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateX(-50%) translateY(-50%);\n ",[ke({originalTransform:"translateX(-50%) translateY(-50%)",left:"50%",top:"50%"})])])]),Ua=x({name:"BaseClear",props:{clsPrefix:{type:String,required:!0},show:Boolean,onClear:Function},setup:e=>(ze("-base-clear",Wa,T(e,"clsPrefix")),{handleMouseDown(e){e.preventDefault()}}),render(){const{clsPrefix:e}=this;return M("div",{class:`${e}-base-clear`},M(Ce,null,{default:()=>{var t,n;return this.show?M("div",{key:"dismiss",class:`${e}-base-clear__clear`,onClick:this.onClear,onMousedown:this.handleMouseDown,"data-clear":!0},Se(this.$slots.icon,()=>[M($e,{clsPrefix:e},{default:()=>M(Ra,null)})])):M("div",{key:"icon",class:`${e}-base-clear__placeholder`},null===(n=(t=this.$slots).placeholder)||void 0===n?void 0:n.call(t))}}))}}),Va=x({props:{onFocus:Function,onBlur:Function},setup:e=>()=>M("div",{style:"width: 0; height: 0",tabindex:0,onFocus:e.onFocus,onBlur:e.onBlur})});function qa(e){return Array.isArray(e)?e:[e]}const Xa="STOP";function Qa(e,t){const n=t(e);void 0!==e.children&&n!==Xa&&e.children.forEach(e=>Qa(e,t))}function Ka(e){return e.children}function Za(e){return e.key}function Ga(){return!1}function Ja(e){return!0===e.disabled}function el(e){var t;return null==e?[]:Array.isArray(e)?e:null!==(t=e.checkedKeys)&&void 0!==t?t:[]}function tl(e){var t;return null==e||Array.isArray(e)?[]:null!==(t=e.indeterminateKeys)&&void 0!==t?t:[]}function nl(e,t){const n=new Set(e);return t.forEach(e=>{n.has(e)||n.add(e)}),Array.from(n)}function rl(e,t){const n=new Set(e);return t.forEach(e=>{n.has(e)&&n.delete(e)}),Array.from(n)}function ol(e){return"group"===(null==e?void 0:e.type)}class il extends Error{constructor(){super(),this.message="SubtreeNotLoadedError: checking a subtree whose required nodes are not fully loaded."}}function al(e,t,n,r){const o=sl(t,n,r,!1),i=sl(e,n,r,!0),a=function(e,t){const n=new Set;return e.forEach(e=>{const r=t.treeNodeMap.get(e);if(void 0!==r){let e=r.parent;for(;null!==e&&!e.disabled&&!n.has(e.key);)n.add(e.key),e=e.parent}}),n}(e,n),l=[];return o.forEach(e=>{(i.has(e)||a.has(e))&&l.push(e)}),l.forEach(e=>o.delete(e)),o}function ll(e,t){const{checkedKeys:n,keysToCheck:r,keysToUncheck:o,indeterminateKeys:i,cascade:a,leafOnly:l,checkStrategy:s,allowNotLoaded:d}=e;if(!a)return void 0!==r?{checkedKeys:nl(n,r),indeterminateKeys:Array.from(i)}:void 0!==o?{checkedKeys:rl(n,o),indeterminateKeys:Array.from(i)}:{checkedKeys:Array.from(n),indeterminateKeys:Array.from(i)};const{levelTreeNodeMap:c}=t;let u;u=void 0!==o?al(o,n,t,d):void 0!==r?function(e,t,n,r){return sl(t.concat(e),n,r,!1)}(r,n,t,d):sl(n,t,d,!1);const h="parent"===s,p="child"===s||l,f=u,v=new Set;for(let m=Math.max.apply(null,Array.from(c.keys()));m>=0;m-=1){const e=0===m,t=c.get(m);for(const n of t){if(n.isLeaf)continue;const{key:t,shallowLoaded:r}=n;if(p&&r&&n.children.forEach(e=>{!e.disabled&&!e.isLeaf&&e.shallowLoaded&&f.has(e.key)&&f.delete(e.key)}),n.disabled||!r)continue;let o=!0,i=!1,a=!0;for(const e of n.children){const t=e.key;if(!e.disabled)if(a&&(a=!1),f.has(t))i=!0;else{if(v.has(t)){i=!0,o=!1;break}if(o=!1,i)break}}o&&!a?(h&&n.children.forEach(e=>{!e.disabled&&f.has(e.key)&&f.delete(e.key)}),f.add(t)):i&&v.add(t),e&&p&&f.has(t)&&f.delete(t)}}return{checkedKeys:Array.from(f),indeterminateKeys:Array.from(v)}}function sl(e,t,n,r){const{treeNodeMap:o,getChildren:i}=t,a=new Set,l=new Set(e);return e.forEach(e=>{const t=o.get(e);void 0!==t&&Qa(t,e=>{if(e.disabled)return Xa;const{key:t}=e;if(!a.has(t)&&(a.add(t),l.add(t),function(e,t){return!1===e.isLeaf&&!Array.isArray(t(e))}(e.rawNode,i))){if(r)return Xa;if(!n)throw new il}})}),l}function dl(e,t){const n=e.siblings,r=n.length,{index:o}=e;return t?n[(o+1)%r]:o===n.length-1?null:n[o+1]}function cl(e,t,{loop:n=!1,includeDisabled:r=!1}={}){const o="prev"===t?ul:dl,i={reverse:"prev"===t};let a=!1,l=null;return function t(s){if(null!==s){if(s===e)if(a){if(!e.disabled&&!e.isGroup)return void(l=e)}else a=!0;else if((!s.disabled||r)&&!s.ignored&&!s.isGroup)return void(l=s);if(s.isGroup){const e=hl(s,i);null!==e?l=e:t(o(s,n))}else{const e=o(s,!1);if(null!==e)t(e);else{const e=function(e){return e.parent}(s);(null==e?void 0:e.isGroup)?t(o(e,n)):n&&t(o(s,!0))}}}}(e),l}function ul(e,t){const n=e.siblings,r=n.length,{index:o}=e;return t?n[(o-1+r)%r]:0===o?null:n[o-1]}function hl(e,t={}){const{reverse:n=!1}=t,{children:r}=e;if(r){const{length:e}=r,o=n?-1:e,i=n?-1:1;for(let a=n?e-1:0;a!==o;a+=i){const e=r[a];if(!e.disabled&&!e.ignored){if(!e.isGroup)return e;{const n=hl(e,t);if(null!==n)return n}}}}return null}const pl={getChild(){return this.ignored?null:hl(this)},getParent(){const{parent:e}=this;return(null==e?void 0:e.isGroup)?e.getParent():e},getNext(e={}){return cl(this,"next",e)},getPrev(e={}){return cl(this,"prev",e)}};function fl(e,t,n,r,o,i=null,a=0){const l=[];return e.forEach((s,d)=>{var c;const u=Object.create(r);if(u.rawNode=s,u.siblings=l,u.level=a,u.index=d,u.isFirstChild=0===d,u.isLastChild=d+1===e.length,u.parent=i,!u.ignored){const e=o(s);Array.isArray(e)&&(u.children=fl(e,t,n,r,o,u,a+1))}l.push(u),t.set(u.key,u),n.has(a)||n.set(a,[]),null===(c=n.get(a))||void 0===c||c.push(u)}),l}function vl(e,t={}){var n;const r=new Map,o=new Map,{getDisabled:i=Ja,getIgnored:a=Ga,getIsGroup:l=ol,getKey:s=Za}=t,d=null!==(n=t.getChildren)&&void 0!==n?n:Ka,c=t.ignoreEmptyChildren?e=>{const t=d(e);return Array.isArray(t)?t.length?t:null:t}:d,u=Object.assign({get key(){return s(this.rawNode)},get disabled(){return i(this.rawNode)},get isGroup(){return l(this.rawNode)},get isLeaf(){return function(e,t){const{isLeaf:n}=e;return void 0!==n?n:!t(e)}(this.rawNode,c)},get shallowLoaded(){return function(e,t){const{isLeaf:n}=e;return!(!1===n&&!Array.isArray(t(e)))}(this.rawNode,c)},get ignored(){return a(this.rawNode)},contains(e){return function(e,t){const n=e.key;for(;t;){if(t.key===n)return!0;t=t.parent}return!1}(this,e)}},pl),h=fl(e,r,o,u,c);function p(e){if(null==e)return null;const t=r.get(e);return t&&!t.ignored?t:null}const f={treeNodes:h,treeNodeMap:r,levelTreeNodeMap:o,maxLevel:Math.max(...o.keys()),getChildren:c,getFlattenedNodes:e=>function(e,t){const n=t?new Set(t):void 0,r=[];return function e(t){t.forEach(t=>{r.push(t),t.isLeaf||!t.children||t.ignored||(t.isGroup||void 0===n||n.has(t.key))&&e(t.children)})}(e),r}(h,e),getNode:function(e){if(null==e)return null;const t=r.get(e);return!t||t.isGroup||t.ignored?null:t},getPrev:function(e,t){const n=p(e);return n?n.getPrev(t):null},getNext:function(e,t){const n=p(e);return n?n.getNext(t):null},getParent:function(e){const t=p(e);return t?t.getParent():null},getChild:function(e){const t=p(e);return t?t.getChild():null},getFirstAvailableNode:()=>function(e){if(0===e.length)return null;const t=e[0];return t.isGroup||t.ignored||t.disabled?t.getNext():t}(h),getPath:(e,t={})=>function(e,{includeGroup:t=!1,includeSelf:n=!0},r){var o;const i=r.treeNodeMap;let a=null==e?null:null!==(o=i.get(e))&&void 0!==o?o:null;const l={keyPath:[],treeNodePath:[],treeNode:a};if(null==a?void 0:a.ignored)return l.treeNode=null,l;for(;a;)a.ignored||!t&&a.isGroup||l.treeNodePath.push(a),a=a.parent;return l.treeNodePath.reverse(),n||l.treeNodePath.pop(),l.keyPath=l.treeNodePath.map(e=>e.key),l}(e,t,f),getCheckedKeys(e,t={}){const{cascade:n=!0,leafOnly:r=!1,checkStrategy:o="all",allowNotLoaded:i=!1}=t;return ll({checkedKeys:el(e),indeterminateKeys:tl(e),cascade:n,leafOnly:r,checkStrategy:o,allowNotLoaded:i},f)},check(e,t,n={}){const{cascade:r=!0,leafOnly:o=!1,checkStrategy:i="all",allowNotLoaded:a=!1}=n;return ll({checkedKeys:el(t),indeterminateKeys:tl(t),keysToCheck:null==e?[]:qa(e),cascade:r,leafOnly:o,checkStrategy:i,allowNotLoaded:a},f)},uncheck(e,t,n={}){const{cascade:r=!0,leafOnly:o=!1,checkStrategy:i="all",allowNotLoaded:a=!1}=n;return ll({checkedKeys:el(t),indeterminateKeys:tl(t),keysToUncheck:null==e?[]:qa(e),cascade:r,leafOnly:o,checkStrategy:i,allowNotLoaded:a},f)},getNonLeafKeys:(e={})=>function(e,t={}){const{preserveGroup:n=!1}=t,r=[],o=n?e=>{e.isLeaf||(r.push(e.key),i(e.children))}:e=>{e.isLeaf||(e.isGroup||r.push(e.key),i(e.children))};function i(e){e.forEach(o)}return i(e),r}(h,e)};return f}const ml=we("empty","\n display: flex;\n flex-direction: column;\n align-items: center;\n font-size: var(--n-font-size);\n",[xe("icon","\n width: var(--n-icon-size);\n height: var(--n-icon-size);\n font-size: var(--n-icon-size);\n line-height: var(--n-icon-size);\n color: var(--n-icon-color);\n transition:\n color .3s var(--n-bezier);\n ",[ye("+",[xe("description","\n margin-top: 8px;\n ")])]),xe("description","\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n "),xe("extra","\n text-align: center;\n transition: color .3s var(--n-bezier);\n margin-top: 12px;\n color: var(--n-extra-text-color);\n ")]),gl=Object.assign(Object.assign({},Re.props),{description:String,showDescription:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!0},size:{type:String,default:"medium"},renderIcon:Function}),bl=x({name:"Empty",props:gl,slots:Object,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n,mergedComponentPropsRef:r}=Me(e),o=Re("Empty","-empty",ml,Te,e,t),{localeRef:i}=ka("Empty"),l=a(()=>{var t,n,o;return null!==(t=e.description)&&void 0!==t?t:null===(o=null===(n=null==r?void 0:r.value)||void 0===n?void 0:n.Empty)||void 0===o?void 0:o.description}),s=a(()=>{var e,t;return(null===(t=null===(e=null==r?void 0:r.value)||void 0===e?void 0:e.Empty)||void 0===t?void 0:t.renderIcon)||(()=>M(Ta,null))}),d=a(()=>{const{size:t}=e,{common:{cubicBezierEaseInOut:n},self:{[Ae("iconSize",t)]:r,[Ae("fontSize",t)]:i,textColor:a,iconColor:l,extraTextColor:s}}=o.value;return{"--n-icon-size":r,"--n-font-size":i,"--n-bezier":n,"--n-text-color":a,"--n-icon-color":l,"--n-extra-text-color":s}}),c=n?Oe("empty",a(()=>{let t="";const{size:n}=e;return t+=n[0],t}),d,e):void 0;return{mergedClsPrefix:t,mergedRenderIcon:s,localizedDescription:a(()=>l.value||i.value.description),cssVars:n?void 0:d,themeClass:null==c?void 0:c.themeClass,onRender:null==c?void 0:c.onRender}},render(){const{$slots:e,mergedClsPrefix:t,onRender:n}=this;return null==n||n(),M("div",{class:[`${t}-empty`,this.themeClass],style:this.cssVars},this.showIcon?M("div",{class:`${t}-empty__icon`},e.icon?e.icon():M($e,{clsPrefix:t},{default:this.mergedRenderIcon})):null,this.showDescription?M("div",{class:`${t}-empty__description`},e.default?e.default():this.localizedDescription):null,e.extra?M("div",{class:`${t}-empty__extra`},e.extra()):null)}}),wl=x({name:"NBaseSelectGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{renderLabelRef:e,renderOptionRef:t,labelFieldRef:n,nodePropsRef:r}=m(Mr);return{labelField:n,nodeProps:r,renderLabel:e,renderOption:t}},render(){const{clsPrefix:e,renderLabel:t,renderOption:n,nodeProps:r,tmNode:{rawNode:o}}=this,i=null==r?void 0:r(o),a=t?t(o,!1):Pe(o[this.labelField],o,!1),l=M("div",Object.assign({},i,{class:[`${e}-base-select-group-header`,null==i?void 0:i.class]}),a);return o.render?o.render({node:l,option:o}):n?n({node:l,option:o,selected:!1}):l}});const yl=x({name:"NBaseSelectOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(e){const{valueRef:t,pendingTmNodeRef:n,multipleRef:r,valueSetRef:o,renderLabelRef:i,renderOptionRef:a,labelFieldRef:l,valueFieldRef:s,showCheckmarkRef:d,nodePropsRef:c,handleOptionClick:u,handleOptionMouseEnter:h}=m(Mr),p=v(()=>{const{value:t}=n;return!!t&&e.tmNode.key===t.key});return{multiple:r,isGrouped:v(()=>{const{tmNode:t}=e,{parent:n}=t;return n&&"group"===n.rawNode.type}),showCheckmark:d,nodeProps:c,isPending:p,isSelected:v(()=>{const{value:n}=t,{value:i}=r;if(null===n)return!1;const a=e.tmNode.rawNode[s.value];if(i){const{value:e}=o;return e.has(a)}return n===a}),labelField:l,renderLabel:i,renderOption:a,handleMouseMove:function(t){const{tmNode:n}=e,{value:r}=p;n.disabled||r||h(t,n)},handleMouseEnter:function(t){const{tmNode:n}=e;n.disabled||h(t,n)},handleClick:function(t){const{tmNode:n}=e;n.disabled||u(t,n)}}},render(){const{clsPrefix:e,tmNode:{rawNode:t},isSelected:n,isPending:r,isGrouped:o,showCheckmark:i,nodeProps:a,renderOption:l,renderLabel:s,handleClick:d,handleMouseEnter:c,handleMouseMove:u}=this,h=function(e,t){return M(De,{name:"fade-in-scale-up-transition"},{default:()=>e?M($e,{clsPrefix:t,class:`${t}-base-select-option__check`},{default:()=>M(za)}):null})}(n,e),p=s?[s(t,n),i&&h]:[Pe(t[this.labelField],t,n),i&&h],f=null==a?void 0:a(t),v=M("div",Object.assign({},f,{class:[`${e}-base-select-option`,t.class,null==f?void 0:f.class,{[`${e}-base-select-option--disabled`]:t.disabled,[`${e}-base-select-option--selected`]:n,[`${e}-base-select-option--grouped`]:o,[`${e}-base-select-option--pending`]:r,[`${e}-base-select-option--show-checkmark`]:i}],style:[(null==f?void 0:f.style)||"",t.style||""],onClick:So([d,null==f?void 0:f.onClick]),onMouseenter:So([c,null==f?void 0:f.onMouseenter]),onMousemove:So([u,null==f?void 0:f.onMousemove])}),M("div",{class:`${e}-base-select-option__content`},p));return t.render?t.render({node:v,option:t,selected:n}):l?l({node:v,option:t,selected:n}):v}}),xl=we("base-select-menu","\n line-height: 1.5;\n outline: none;\n z-index: 0;\n position: relative;\n border-radius: var(--n-border-radius);\n transition:\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-color);\n",[we("scrollbar","\n max-height: var(--n-height);\n "),we("virtual-list","\n max-height: var(--n-height);\n "),we("base-select-option","\n min-height: var(--n-option-height);\n font-size: var(--n-option-font-size);\n display: flex;\n align-items: center;\n ",[xe("content","\n z-index: 1;\n white-space: nowrap;\n text-overflow: ellipsis;\n overflow: hidden;\n ")]),we("base-select-group-header","\n min-height: var(--n-option-height);\n font-size: .93em;\n display: flex;\n align-items: center;\n "),we("base-select-menu-option-wrapper","\n position: relative;\n width: 100%;\n "),xe("loading, empty","\n display: flex;\n padding: 12px 32px;\n flex: 1;\n justify-content: center;\n "),xe("loading","\n color: var(--n-loading-color);\n font-size: var(--n-loading-size);\n "),xe("header","\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-bottom: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n "),xe("action","\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-top: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n "),we("base-select-group-header","\n position: relative;\n cursor: default;\n padding: var(--n-option-padding);\n color: var(--n-group-header-text-color);\n "),we("base-select-option","\n cursor: pointer;\n position: relative;\n padding: var(--n-option-padding);\n transition:\n color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n box-sizing: border-box;\n color: var(--n-option-text-color);\n opacity: 1;\n ",[Fe("show-checkmark","\n padding-right: calc(var(--n-option-padding-right) + 20px);\n "),ye("&::before",'\n content: "";\n position: absolute;\n left: 4px;\n right: 4px;\n top: 0;\n bottom: 0;\n border-radius: var(--n-border-radius);\n transition: background-color .3s var(--n-bezier);\n '),ye("&:active","\n color: var(--n-option-text-color-pressed);\n "),Fe("grouped","\n padding-left: calc(var(--n-option-padding-left) * 1.5);\n "),Fe("pending",[ye("&::before","\n background-color: var(--n-option-color-pending);\n ")]),Fe("selected","\n color: var(--n-option-text-color-active);\n ",[ye("&::before","\n background-color: var(--n-option-color-active);\n "),Fe("pending",[ye("&::before","\n background-color: var(--n-option-color-active-pending);\n ")])]),Fe("disabled","\n cursor: not-allowed;\n ",[_e("selected","\n color: var(--n-option-text-color-disabled);\n "),Fe("selected","\n opacity: var(--n-option-opacity-disabled);\n ")]),xe("check","\n font-size: 16px;\n position: absolute;\n right: calc(var(--n-option-padding-right) - 4px);\n top: calc(50% - 7px);\n color: var(--n-option-check-color);\n transition: color .3s var(--n-bezier);\n ",[Be({enterScale:"0.5"})])])]),kl=x({name:"InternalSelectMenu",props:Object.assign(Object.assign({},Re.props),{clsPrefix:{type:String,required:!0},scrollable:{type:Boolean,default:!0},treeMate:{type:Object,required:!0},multiple:Boolean,size:{type:String,default:"medium"},value:{type:[String,Number,Array],default:null},autoPending:Boolean,virtualScroll:{type:Boolean,default:!0},show:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},loading:Boolean,focusable:Boolean,renderLabel:Function,renderOption:Function,nodeProps:Function,showCheckmark:{type:Boolean,default:!0},onMousedown:Function,onScroll:Function,onFocus:Function,onBlur:Function,onKeyup:Function,onKeydown:Function,onTabOut:Function,onMouseenter:Function,onMouseleave:Function,onResize:Function,resetMenuOnOptionsChange:{type:Boolean,default:!0},inlineThemeDisabled:Boolean,onToggle:Function}),setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:o}=Me(e),l=Le("InternalSelectMenu",o,t),s=Re("InternalSelectMenu","-internal-select-menu",xl,Ne,e,T(e,"clsPrefix")),d=f(null),c=f(null),u=f(null),h=a(()=>e.treeMate.getFlattenedNodes()),p=a(()=>function(e){const t=new Map;return e.forEach((e,n)=>{t.set(e.key,n)}),e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:null}}(h.value)),v=f(null);function m(){const{value:t}=v;t&&!e.treeMate.getNode(t.key)&&(v.value=null)}let g;i(()=>e.show,t=>{t?g=i(()=>e.treeMate,()=>{e.resetMenuOnOptionsChange?(e.autoPending?function(){const{treeMate:t}=e;let n=null;const{value:r}=e;null===r?n=t.getFirstAvailableNode():(n=e.multiple?t.getNode((r||[])[(r||[]).length-1]):t.getNode(r),n&&!n.disabled||(n=t.getFirstAvailableNode())),S(n||null)}():m(),D(z)):m()},{immediate:!0}):null==g||g()},{immediate:!0}),r(()=>{null==g||g()});const b=a(()=>j(s.value.self[Ae("optionHeight",e.size)])),w=a(()=>He(s.value.self[Ae("padding",e.size)])),y=a(()=>e.multiple&&Array.isArray(e.value)?new Set(e.value):new Set),x=a(()=>{const e=h.value;return e&&0===e.length});function k(t){const{onScroll:n}=e;n&&n(t)}function S(e,t=!1){v.value=e,t&&z()}function z(){var t,n;const r=v.value;if(!r)return;const o=p.value(r.key);null!==o&&(e.virtualScroll?null===(t=c.value)||void 0===t||t.scrollTo({index:o}):null===(n=u.value)||void 0===n||n.scrollTo({index:o,elSize:b.value}))}C(Mr,{handleOptionMouseEnter:function(e,t){t.disabled||S(t,!1)},handleOptionClick:function(t,n){n.disabled||function(t){const{onToggle:n}=e;n&&n(t)}(n)},valueSetRef:y,pendingTmNodeRef:v,nodePropsRef:T(e,"nodeProps"),showCheckmarkRef:T(e,"showCheckmark"),multipleRef:T(e,"multiple"),valueRef:T(e,"value"),renderLabelRef:T(e,"renderLabel"),renderOptionRef:T(e,"renderOption"),labelFieldRef:T(e,"labelField"),valueFieldRef:T(e,"valueField")}),C(Rr,d),n(()=>{const{value:e}=u;e&&e.sync()});const $=a(()=>{const{size:t}=e,{common:{cubicBezierEaseInOut:n},self:{height:r,borderRadius:o,color:i,groupHeaderTextColor:a,actionDividerColor:l,optionTextColorPressed:d,optionTextColor:c,optionTextColorDisabled:u,optionTextColorActive:h,optionOpacityDisabled:p,optionCheckColor:f,actionTextColor:v,optionColorPending:m,optionColorActive:g,loadingColor:b,loadingSize:w,optionColorActivePending:y,[Ae("optionFontSize",t)]:x,[Ae("optionHeight",t)]:k,[Ae("optionPadding",t)]:C}}=s.value;return{"--n-height":r,"--n-action-divider-color":l,"--n-action-text-color":v,"--n-bezier":n,"--n-border-radius":o,"--n-color":i,"--n-option-font-size":x,"--n-group-header-text-color":a,"--n-option-check-color":f,"--n-option-color-pending":m,"--n-option-color-active":g,"--n-option-color-active-pending":y,"--n-option-height":k,"--n-option-opacity-disabled":p,"--n-option-text-color":c,"--n-option-text-color-active":h,"--n-option-text-color-disabled":u,"--n-option-text-color-pressed":d,"--n-option-padding":C,"--n-option-padding-left":He(C,"left"),"--n-option-padding-right":He(C,"right"),"--n-loading-color":b,"--n-loading-size":w}}),{inlineThemeDisabled:M}=e,R=M?Oe("internal-select-menu",a(()=>e.size[0]),$,e):void 0,A={selfRef:d,next:function(){const{value:e}=v;e&&S(e.getNext({loop:!0}),!0)},prev:function(){const{value:e}=v;e&&S(e.getPrev({loop:!0}),!0)},getPendingTmNode:function(){const{value:e}=v;return e||null}};return po(d,e.onResize),Object.assign({mergedTheme:s,mergedClsPrefix:t,rtlEnabled:l,virtualListRef:c,scrollbarRef:u,itemSize:b,padding:w,flattenedNodes:h,empty:x,virtualListContainer(){const{value:e}=c;return null==e?void 0:e.listElRef},virtualListContent(){const{value:e}=c;return null==e?void 0:e.itemsElRef},doScroll:k,handleFocusin:function(t){var n,r;(null===(n=d.value)||void 0===n?void 0:n.contains(t.target))&&(null===(r=e.onFocus)||void 0===r||r.call(e,t))},handleFocusout:function(t){var n,r;(null===(n=d.value)||void 0===n?void 0:n.contains(t.relatedTarget))||null===(r=e.onBlur)||void 0===r||r.call(e,t)},handleKeyUp:function(t){var n;br(t,"action")||null===(n=e.onKeyup)||void 0===n||n.call(e,t)},handleKeyDown:function(t){var n;br(t,"action")||null===(n=e.onKeydown)||void 0===n||n.call(e,t)},handleMouseDown:function(t){var n;null===(n=e.onMousedown)||void 0===n||n.call(e,t),e.focusable||t.preventDefault()},handleVirtualListResize:function(){var e;null===(e=u.value)||void 0===e||e.sync()},handleVirtualListScroll:function(e){var t;null===(t=u.value)||void 0===t||t.sync(),k(e)},cssVars:M?void 0:$,themeClass:null==R?void 0:R.themeClass,onRender:null==R?void 0:R.onRender},A)},render(){const{$slots:e,virtualScroll:t,clsPrefix:n,mergedTheme:r,themeClass:o,onRender:i}=this;return null==i||i(),M("div",{ref:"selfRef",tabindex:this.focusable?0:-1,class:[`${n}-base-select-menu`,this.rtlEnabled&&`${n}-base-select-menu--rtl`,o,this.multiple&&`${n}-base-select-menu--multiple`],style:this.cssVars,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onKeyup:this.handleKeyUp,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},Ee(e.header,e=>e&&M("div",{class:`${n}-base-select-menu__header`,"data-header":!0,key:"header"},e)),this.loading?M("div",{class:`${n}-base-select-menu__loading`},M(je,{clsPrefix:n,strokeWidth:20})):this.empty?M("div",{class:`${n}-base-select-menu__empty`,"data-empty":!0},Se(e.empty,()=>[M(bl,{theme:r.peers.Empty,themeOverrides:r.peerOverrides.Empty,size:this.size})])):M(Ie,{ref:"scrollbarRef",theme:r.peers.Scrollbar,themeOverrides:r.peerOverrides.Scrollbar,scrollable:this.scrollable,container:t?this.virtualListContainer:void 0,content:t?this.virtualListContent:void 0,onScroll:t?void 0:this.doScroll},{default:()=>t?M(ao,{ref:"virtualListRef",class:`${n}-virtual-list`,items:this.flattenedNodes,itemSize:this.itemSize,showScrollbar:!1,paddingTop:this.padding.top,paddingBottom:this.padding.bottom,onResize:this.handleVirtualListResize,onScroll:this.handleVirtualListScroll,itemResizable:!0},{default:({item:e})=>e.isGroup?M(wl,{key:e.key,clsPrefix:n,tmNode:e}):e.ignored?null:M(yl,{clsPrefix:n,key:e.key,tmNode:e})}):M("div",{class:`${n}-base-select-menu-option-wrapper`,style:{paddingTop:this.padding.top,paddingBottom:this.padding.bottom}},this.flattenedNodes.map(e=>e.isGroup?M(wl,{key:e.key,clsPrefix:n,tmNode:e}):M(yl,{clsPrefix:n,key:e.key,tmNode:e})))}),Ee(e.action,e=>e&&[M("div",{class:`${n}-base-select-menu__action`,"data-action":!0,key:"action"},e),M(Va,{onFocus:this.onTabOut,key:"focus-detector"})]))}}),Cl={top:"bottom",bottom:"top",left:"right",right:"left"},Sl="var(--n-arrow-height) * 1.414",zl=ye([we("popover","\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n position: relative;\n font-size: var(--n-font-size);\n color: var(--n-text-color);\n box-shadow: var(--n-box-shadow);\n word-break: break-word;\n ",[ye(">",[we("scrollbar","\n height: inherit;\n max-height: inherit;\n ")]),_e("raw","\n background-color: var(--n-color);\n border-radius: var(--n-border-radius);\n ",[_e("scrollable",[_e("show-header-or-footer","padding: var(--n-padding);")])]),xe("header","\n padding: var(--n-padding);\n border-bottom: 1px solid var(--n-divider-color);\n transition: border-color .3s var(--n-bezier);\n "),xe("footer","\n padding: var(--n-padding);\n border-top: 1px solid var(--n-divider-color);\n transition: border-color .3s var(--n-bezier);\n "),Fe("scrollable, show-header-or-footer",[xe("content","\n padding: var(--n-padding);\n ")])]),we("popover-shared","\n transform-origin: inherit;\n ",[we("popover-arrow-wrapper","\n position: absolute;\n overflow: hidden;\n pointer-events: none;\n ",[we("popover-arrow",`\n transition: background-color .3s var(--n-bezier);\n position: absolute;\n display: block;\n width: calc(${Sl});\n height: calc(${Sl});\n box-shadow: 0 0 8px 0 rgba(0, 0, 0, .12);\n transform: rotate(45deg);\n background-color: var(--n-color);\n pointer-events: all;\n `)]),ye("&.popover-transition-enter-from, &.popover-transition-leave-to","\n opacity: 0;\n transform: scale(.85);\n "),ye("&.popover-transition-enter-to, &.popover-transition-leave-from","\n transform: scale(1);\n opacity: 1;\n "),ye("&.popover-transition-enter-active","\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n opacity .15s var(--n-bezier-ease-out),\n transform .15s var(--n-bezier-ease-out);\n "),ye("&.popover-transition-leave-active","\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n opacity .15s var(--n-bezier-ease-in),\n transform .15s var(--n-bezier-ease-in);\n ")]),Al("top-start",`\n top: calc(${Sl} / -2);\n left: calc(${Rl("top-start")} - var(--v-offset-left));\n `),Al("top",`\n top: calc(${Sl} / -2);\n transform: translateX(calc(${Sl} / -2)) rotate(45deg);\n left: 50%;\n `),Al("top-end",`\n top: calc(${Sl} / -2);\n right: calc(${Rl("top-end")} + var(--v-offset-left));\n `),Al("bottom-start",`\n bottom: calc(${Sl} / -2);\n left: calc(${Rl("bottom-start")} - var(--v-offset-left));\n `),Al("bottom",`\n bottom: calc(${Sl} / -2);\n transform: translateX(calc(${Sl} / -2)) rotate(45deg);\n left: 50%;\n `),Al("bottom-end",`\n bottom: calc(${Sl} / -2);\n right: calc(${Rl("bottom-end")} + var(--v-offset-left));\n `),Al("left-start",`\n left: calc(${Sl} / -2);\n top: calc(${Rl("left-start")} - var(--v-offset-top));\n `),Al("left",`\n left: calc(${Sl} / -2);\n transform: translateY(calc(${Sl} / -2)) rotate(45deg);\n top: 50%;\n `),Al("left-end",`\n left: calc(${Sl} / -2);\n bottom: calc(${Rl("left-end")} + var(--v-offset-top));\n `),Al("right-start",`\n right: calc(${Sl} / -2);\n top: calc(${Rl("right-start")} - var(--v-offset-top));\n `),Al("right",`\n right: calc(${Sl} / -2);\n transform: translateY(calc(${Sl} / -2)) rotate(45deg);\n top: 50%;\n `),Al("right-end",`\n right: calc(${Sl} / -2);\n bottom: calc(${Rl("right-end")} + var(--v-offset-top));\n `),...($l={top:["right-start","left-start"],right:["top-end","bottom-end"],bottom:["right-end","left-end"],left:["top-start","bottom-start"]},Ml=(e,t)=>{const n=["right","left"].includes(t),r=n?"width":"height";return e.map(e=>{const o="end"===e.split("-")[1],i=`calc((var(--v-target-${r}, 0px) - ${Sl}) / 2)`,a=Rl(e);return ye(`[v-placement="${e}"] >`,[we("popover-shared",[Fe("center-arrow",[we("popover-arrow",`${t}: calc(max(${i}, ${a}) ${o?"+":"-"} var(--v-offset-${n?"left":"top"}));`)])])])})},(K($l)?fe:wa)($l,ha(Ml)))]);var $l,Ml;function Rl(e){return["top","bottom"].includes(e.split("-")[0])?"var(--n-arrow-offset)":"var(--n-arrow-offset-vertical)"}function Al(e,t){const n=e.split("-")[0],r=["top","bottom"].includes(n)?"height: var(--n-space-arrow);":"width: var(--n-space-arrow);";return ye(`[v-placement="${e}"] >`,[we("popover-shared",`\n margin-${Cl[n]}: var(--n-space);\n `,[Fe("show-arrow",`\n margin-${Cl[n]}: var(--n-space-arrow);\n `),Fe("overlap","\n margin: 0;\n "),Ye("popover-arrow-wrapper",`\n right: 0;\n left: 0;\n top: 0;\n bottom: 0;\n ${n}: 100%;\n ${Cl[n]}: auto;\n ${r}\n `,[we("popover-arrow",t)])])])}const Ol=Object.assign(Object.assign({},Re.props),{to:Or.propTo,show:Boolean,trigger:String,showArrow:Boolean,delay:Number,duration:Number,raw:Boolean,arrowPointToCenter:Boolean,arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],displayDirective:String,x:Number,y:Number,flip:Boolean,overlap:Boolean,placement:String,width:[Number,String],keepAliveOnHover:Boolean,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],internalDeactivateImmediately:Boolean,animated:Boolean,onClickoutside:Function,internalTrapFocus:Boolean,internalOnAfterLeave:Function,minWidth:Number,maxWidth:Number});function Tl({arrowClass:e,arrowStyle:t,arrowWrapperClass:n,arrowWrapperStyle:r,clsPrefix:o}){return M("div",{key:"__popover-arrow__",style:r,class:[`${o}-popover-arrow-wrapper`,n]},M("div",{class:[`${o}-popover-arrow`,e],style:t}))}const Pl=x({name:"PopoverBody",inheritAttrs:!1,props:Ol,setup(e,{slots:t,attrs:n}){const{namespaceRef:o,mergedClsPrefixRef:l,inlineThemeDisabled:s,mergedRtlRef:d}=Me(e),c=Re("Popover","-popover",zl,Xe,e,l),u=Le("Popover",d,l),h=f(null),p=m("NPopover"),v=f(null),y=f(e.show),x=f(!1);We(()=>{const{show:t}=e;!t||(void 0===bo&&(bo=navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),bo)||e.internalDeactivateImmediately||(x.value=!0)});const k=a(()=>{const{trigger:t,onClickoutside:n}=e,r=[],{positionManuallyRef:{value:o}}=p;return o||("click"!==t||n||r.push([Ue,D,void 0,{capture:!0}]),"hover"===t&&r.push([Ir,P])),n&&r.push([Ue,D,void 0,{capture:!0}]),("show"===e.displayDirective||e.animated&&x.value)&&r.push([Ve,e.show]),r}),z=a(()=>{const{common:{cubicBezierEaseInOut:e,cubicBezierEaseIn:t,cubicBezierEaseOut:n},self:{space:r,spaceArrow:o,padding:i,fontSize:a,textColor:l,dividerColor:s,color:d,boxShadow:u,borderRadius:h,arrowHeight:p,arrowOffset:f,arrowOffsetVertical:v}}=c.value;return{"--n-box-shadow":u,"--n-bezier":e,"--n-bezier-ease-in":t,"--n-bezier-ease-out":n,"--n-font-size":a,"--n-text-color":l,"--n-color":d,"--n-divider-color":s,"--n-border-radius":h,"--n-arrow-height":p,"--n-arrow-offset":f,"--n-arrow-offset-vertical":v,"--n-padding":i,"--n-space":r,"--n-space-arrow":o}}),$=a(()=>{const t="trigger"===e.width?void 0:mo(e.width),n=[];t&&n.push({width:t});const{maxWidth:r,minWidth:o}=e;return r&&n.push({maxWidth:mo(r)}),o&&n.push({maxWidth:mo(o)}),s||n.push(z.value),n}),R=s?Oe("popover",void 0,z,e):void 0;function A(t){"hover"===e.trigger&&e.keepAliveOnHover&&e.show&&p.handleMouseEnter(t)}function O(t){"hover"===e.trigger&&e.keepAliveOnHover&&p.handleMouseLeave(t)}function P(t){"hover"!==e.trigger||F().contains(qe(t))||p.handleMouseMoveOutside(t)}function D(t){("click"===e.trigger&&!F().contains(qe(t))||e.onClickoutside)&&p.handleClickOutside(t)}function F(){return p.getTriggerElement()}return p.setBodyInstance({syncPosition:function(){var e;null===(e=h.value)||void 0===e||e.syncPosition()}}),r(()=>{p.setBodyInstance(null)}),i(T(e,"show"),t=>{e.animated||(y.value=!!t)}),C(w,v),C(b,null),C(g,null),{displayed:x,namespace:o,isMounted:p.isMountedRef,zIndex:p.zIndexRef,followerRef:h,adjustedTo:Or(e),followerEnabled:y,renderContentNode:function(){if(null==R||R.onRender(),!("show"===e.displayDirective||e.show||e.animated&&x.value))return null;let r;const o=p.internalRenderBodyRef.value,{value:i}=l;if(o)r=o([`${i}-popover-shared`,(null==u?void 0:u.value)&&`${i}-popover--rtl`,null==R?void 0:R.themeClass.value,e.overlap&&`${i}-popover-shared--overlap`,e.showArrow&&`${i}-popover-shared--show-arrow`,e.arrowPointToCenter&&`${i}-popover-shared--center-arrow`],v,$.value,A,O);else{const{value:o}=p.extraClassRef,{internalTrapFocus:a}=e,l=!Qe(t.header)||!Qe(t.footer),s=()=>{var n,r;const o=l?M(Ze,null,Ee(t.header,t=>t?M("div",{class:[`${i}-popover__header`,e.headerClass],style:e.headerStyle},t):null),Ee(t.default,n=>n?M("div",{class:[`${i}-popover__content`,e.contentClass],style:e.contentStyle},t):null),Ee(t.footer,t=>t?M("div",{class:[`${i}-popover__footer`,e.footerClass],style:e.footerStyle},t):null)):e.scrollable?null===(n=t.default)||void 0===n?void 0:n.call(t):M("div",{class:[`${i}-popover__content`,e.contentClass],style:e.contentStyle},t);return[e.scrollable?M(Ge,{themeOverrides:c.value.peerOverrides.Scrollbar,theme:c.value.peers.Scrollbar,contentClass:l?void 0:`${i}-popover__content ${null!==(r=e.contentClass)&&void 0!==r?r:""}`,contentStyle:l?void 0:e.contentStyle},{default:()=>o}):o,e.showArrow?Tl({arrowClass:e.arrowClass,arrowStyle:e.arrowStyle,arrowWrapperClass:e.arrowWrapperClass,arrowWrapperStyle:e.arrowWrapperStyle,clsPrefix:i}):null]};r=M("div",_({class:[`${i}-popover`,`${i}-popover-shared`,(null==u?void 0:u.value)&&`${i}-popover--rtl`,null==R?void 0:R.themeClass.value,o.map(e=>`${i}-${e}`),{[`${i}-popover--scrollable`]:e.scrollable,[`${i}-popover--show-header-or-footer`]:l,[`${i}-popover--raw`]:e.raw,[`${i}-popover-shared--overlap`]:e.overlap,[`${i}-popover-shared--show-arrow`]:e.showArrow,[`${i}-popover-shared--center-arrow`]:e.arrowPointToCenter}],ref:v,style:$.value,onKeydown:p.handleKeydown,onMouseenter:A,onMouseleave:O},n),a?M(Ke,{active:e.show,autoFocus:!0},{default:s}):s())}return S(r,k.value)}}},render(){return M(Jr,{ref:"followerRef",zIndex:this.zIndex,show:this.show,enabled:this.followerEnabled,to:this.adjustedTo,x:this.x,y:this.y,flip:this.flip,placement:this.placement,containerClass:this.namespace,overlap:this.overlap,width:"trigger"===this.width?"target":void 0,teleportDisabled:this.adjustedTo===Or.tdkey},{default:()=>this.animated?M(De,{name:"popover-transition",appear:this.isMounted,onEnter:()=>{this.followerEnabled=!0},onAfterLeave:()=>{var e;null===(e=this.internalOnAfterLeave)||void 0===e||e.call(this),this.followerEnabled=!1,this.displayed=!1}},{default:this.renderContentNode}):this.renderContentNode()})}}),Dl=Object.keys(Ol),Fl={focus:["onFocus","onBlur"],click:["onClick"],hover:["onMouseenter","onMouseleave"],manual:[],nested:["onFocus","onBlur","onMouseenter","onMouseleave","onClick"]};const _l={show:{type:Boolean,default:void 0},defaultShow:Boolean,showArrow:{type:Boolean,default:!0},trigger:{type:String,default:"hover"},delay:{type:Number,default:100},duration:{type:Number,default:100},raw:Boolean,placement:{type:String,default:"top"},x:Number,y:Number,arrowPointToCenter:Boolean,disabled:Boolean,getDisabled:Function,displayDirective:{type:String,default:"if"},arrowClass:String,arrowStyle:[String,Object],arrowWrapperClass:String,arrowWrapperStyle:[String,Object],flip:{type:Boolean,default:!0},animated:{type:Boolean,default:!0},width:{type:[Number,String],default:void 0},overlap:Boolean,keepAliveOnHover:{type:Boolean,default:!0},zIndex:Number,to:Or.propTo,scrollable:Boolean,contentClass:String,contentStyle:[Object,String],headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],onClickoutside:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],internalDeactivateImmediately:Boolean,internalSyncTargetWithParent:Boolean,internalInheritedEventHandlers:{type:Array,default:()=>[]},internalTrapFocus:Boolean,internalExtraClass:{type:Array,default:()=>[]},onShow:[Function,Array],onHide:[Function,Array],arrow:{type:Boolean,default:void 0},minWidth:Number,maxWidth:Number},Bl=Object.assign(Object.assign(Object.assign({},Re.props),_l),{internalOnAfterLeave:Function,internalRenderBody:Function}),El=x({name:"Popover",inheritAttrs:!1,props:Bl,slots:Object,__popover__:!0,setup(e){const t=P(),n=f(null),r=a(()=>e.show),o=f(e.defaultShow),i=Sr(r,o),l=v(()=>!e.disabled&&i.value),s=()=>{if(e.disabled)return!0;const{getDisabled:t}=e;return!!(null==t?void 0:t())},d=()=>!s()&&i.value,c=zr(e,["arrow","showArrow"]),u=a(()=>!e.overlap&&c.value);let h=null;const p=f(null),m=f(null),g=v(()=>void 0!==e.x&&void 0!==e.y);function b(t){const{"onUpdate:show":n,onUpdateShow:r,onShow:i,onHide:a}=e;o.value=t,n&&rt(n,t),r&&rt(r,t),t&&i&&rt(i,!0),t&&a&&rt(a,!1)}function w(){const{value:e}=p;e&&(window.clearTimeout(e),p.value=null)}function y(){const{value:e}=m;e&&(window.clearTimeout(e),m.value=null)}function x(){const t=s();if("hover"===e.trigger&&!t){if(y(),null!==p.value)return;if(d())return;const t=()=>{b(!0),p.value=null},{delay:n}=e;0===n?t():p.value=window.setTimeout(t,n)}}function k(){const t=s();if("hover"===e.trigger&&!t){if(w(),null!==m.value)return;if(!d())return;const t=()=>{b(!1),m.value=null},{duration:n}=e;0===n?t():m.value=window.setTimeout(t,n)}}C("NPopover",{getTriggerElement:function(){var e;return null===(e=n.value)||void 0===e?void 0:e.targetRef},handleKeydown:function(t){e.internalTrapFocus&&"Escape"===t.key&&(w(),y(),b(!1))},handleMouseEnter:x,handleMouseLeave:k,handleClickOutside:function(t){var n;d()&&("click"===e.trigger&&(w(),y(),b(!1)),null===(n=e.onClickoutside)||void 0===n||n.call(e,t))},handleMouseMoveOutside:function(){k()},setBodyInstance:function(e){h=e},positionManuallyRef:g,isMountedRef:t,zIndexRef:T(e,"zIndex"),extraClassRef:T(e,"internalExtraClass"),internalRenderBodyRef:T(e,"internalRenderBody")}),We(()=>{i.value&&s()&&b(!1)});return{binderInstRef:n,positionManually:g,mergedShowConsideringDisabledProp:l,uncontrolledShow:o,mergedShowArrow:u,getMergedShow:d,setShow:function(e){o.value=e},handleClick:function(){if("click"===e.trigger&&!s()){w(),y();b(!d())}},handleMouseEnter:x,handleMouseLeave:k,handleFocus:function(){const t=s();if("focus"===e.trigger&&!t){if(d())return;b(!0)}},handleBlur:function(){const t=s();if("focus"===e.trigger&&!t){if(!d())return;b(!1)}},syncPosition:function(){h&&h.syncPosition()}}},render(){var e;const{positionManually:t,$slots:n}=this;let r,o=!1;if(!t&&(r=Je(n,"trigger"),r)){r=et(r),r=r.type===tt?M("span",[r]):r;const n={onClick:this.handleClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onFocus:this.handleFocus,onBlur:this.handleBlur};if(null===(e=r.type)||void 0===e?void 0:e.__popover__)o=!0,r.props||(r.props={internalSyncTargetWithParent:!0,internalInheritedEventHandlers:[]}),r.props.internalSyncTargetWithParent=!0,r.props.internalInheritedEventHandlers?r.props.internalInheritedEventHandlers=[n,...r.props.internalInheritedEventHandlers]:r.props.internalInheritedEventHandlers=[n];else{const{internalInheritedEventHandlers:e}=this,o=[n,...e],s={onBlur:e=>{o.forEach(t=>{t.onBlur(e)})},onFocus:e=>{o.forEach(t=>{t.onFocus(e)})},onClick:e=>{o.forEach(t=>{t.onClick(e)})},onMouseenter:e=>{o.forEach(t=>{t.onMouseenter(e)})},onMouseleave:e=>{o.forEach(t=>{t.onMouseleave(e)})}};i=r,a=e?"nested":t?"manual":this.trigger,l=s,Fl[a].forEach(e=>{i.props?i.props=Object.assign({},i.props):i.props={};const t=i.props[e],n=l[e];i.props[e]=t?(...e)=>{t(...e),n(...e)}:n})}}var i,a,l;return M(Br,{ref:"binderInstRef",syncTarget:!o,syncTargetWithParent:this.internalSyncTargetWithParent},{default:()=>{this.mergedShowConsideringDisabledProp;const e=this.getMergedShow();return[this.internalTrapFocus&&e?S(M("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0}}),[[A,{enabled:e,zIndex:this.zIndex}]]):null,t?null:M(Er,null,{default:()=>r}),M(Pl,nt(this.$props,Dl,Object.assign(Object.assign({},this.$attrs),{showArrow:this.mergedShowArrow,show:e})),{default:()=>{var e,t;return null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e)},header:()=>{var e,t;return null===(t=(e=this.$slots).header)||void 0===t?void 0:t.call(e)},footer:()=>{var e,t;return null===(t=(e=this.$slots).footer)||void 0===t?void 0:t.call(e)}})]}})}}),jl={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},Il=we("tag","\n --n-close-margin: var(--n-close-margin-top) var(--n-close-margin-right) var(--n-close-margin-bottom) var(--n-close-margin-left);\n white-space: nowrap;\n position: relative;\n box-sizing: border-box;\n cursor: default;\n display: inline-flex;\n align-items: center;\n flex-wrap: nowrap;\n padding: var(--n-padding);\n border-radius: var(--n-border-radius);\n color: var(--n-text-color);\n background-color: var(--n-color);\n transition: \n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n line-height: 1;\n height: var(--n-height);\n font-size: var(--n-font-size);\n",[Fe("strong","\n font-weight: var(--n-font-weight-strong);\n "),xe("border","\n pointer-events: none;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border-radius: inherit;\n border: var(--n-border);\n transition: border-color .3s var(--n-bezier);\n "),xe("icon","\n display: flex;\n margin: 0 4px 0 0;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n font-size: var(--n-avatar-size-override);\n "),xe("avatar","\n display: flex;\n margin: 0 6px 0 0;\n "),xe("close","\n margin: var(--n-close-margin);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n "),Fe("round","\n padding: 0 calc(var(--n-height) / 3);\n border-radius: calc(var(--n-height) / 2);\n ",[xe("icon","\n margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);\n "),xe("avatar","\n margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);\n "),Fe("closable","\n padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);\n ")]),Fe("icon, avatar",[Fe("round","\n padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);\n ")]),Fe("disabled","\n cursor: not-allowed !important;\n opacity: var(--n-opacity-disabled);\n "),Fe("checkable","\n cursor: pointer;\n box-shadow: none;\n color: var(--n-text-color-checkable);\n background-color: var(--n-color-checkable);\n ",[_e("disabled",[ye("&:hover","background-color: var(--n-color-hover-checkable);",[_e("checked","color: var(--n-text-color-hover-checkable);")]),ye("&:active","background-color: var(--n-color-pressed-checkable);",[_e("checked","color: var(--n-text-color-pressed-checkable);")])]),Fe("checked","\n color: var(--n-text-color-checked);\n background-color: var(--n-color-checked);\n ",[_e("disabled",[ye("&:hover","background-color: var(--n-color-checked-hover);"),ye("&:active","background-color: var(--n-color-checked-pressed);")])])])]),Ll=Object.assign(Object.assign(Object.assign({},Re.props),jl),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,strong:Boolean,triggerClickOnClose:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalCloseFocusable:{type:Boolean,default:!0},internalCloseIsButtonTag:{type:Boolean,default:!0},onCheckedChange:Function}),Nl=p("n-tag"),Hl=x({name:"Tag",props:Ll,slots:Object,setup(e){const t=f(null),{mergedBorderedRef:n,mergedClsPrefixRef:r,inlineThemeDisabled:o,mergedRtlRef:i}=Me(e),l=Re("Tag","-tag",Il,at,e,r);C(Nl,{roundRef:T(e,"round")});const s={setTextContent(e){const{value:n}=t;n&&(n.textContent=e)}},d=Le("Tag",i,r),c=a(()=>{const{type:t,size:r,color:{color:o,textColor:i}={}}=e,{common:{cubicBezierEaseInOut:a},self:{padding:s,closeMargin:d,borderRadius:c,opacityDisabled:u,textColorCheckable:h,textColorHoverCheckable:p,textColorPressedCheckable:f,textColorChecked:v,colorCheckable:m,colorHoverCheckable:g,colorPressedCheckable:b,colorChecked:w,colorCheckedHover:y,colorCheckedPressed:x,closeBorderRadius:k,fontWeightStrong:C,[Ae("colorBordered",t)]:S,[Ae("closeSize",r)]:z,[Ae("closeIconSize",r)]:$,[Ae("fontSize",r)]:M,[Ae("height",r)]:R,[Ae("color",t)]:A,[Ae("textColor",t)]:O,[Ae("border",t)]:T,[Ae("closeIconColor",t)]:P,[Ae("closeIconColorHover",t)]:D,[Ae("closeIconColorPressed",t)]:F,[Ae("closeColorHover",t)]:_,[Ae("closeColorPressed",t)]:B}}=l.value,E=He(d);return{"--n-font-weight-strong":C,"--n-avatar-size-override":`calc(${R} - 8px)`,"--n-bezier":a,"--n-border-radius":c,"--n-border":T,"--n-close-icon-size":$,"--n-close-color-pressed":B,"--n-close-color-hover":_,"--n-close-border-radius":k,"--n-close-icon-color":P,"--n-close-icon-color-hover":D,"--n-close-icon-color-pressed":F,"--n-close-icon-color-disabled":P,"--n-close-margin-top":E.top,"--n-close-margin-right":E.right,"--n-close-margin-bottom":E.bottom,"--n-close-margin-left":E.left,"--n-close-size":z,"--n-color":o||(n.value?S:A),"--n-color-checkable":m,"--n-color-checked":w,"--n-color-checked-hover":y,"--n-color-checked-pressed":x,"--n-color-hover-checkable":g,"--n-color-pressed-checkable":b,"--n-font-size":M,"--n-height":R,"--n-opacity-disabled":u,"--n-padding":s,"--n-text-color":i||O,"--n-text-color-checkable":h,"--n-text-color-checked":v,"--n-text-color-hover-checkable":p,"--n-text-color-pressed-checkable":f}}),u=o?Oe("tag",a(()=>{let t="";const{type:r,size:o,color:{color:i,textColor:a}={}}=e;return t+=r[0],t+=o[0],i&&(t+=`a${it(i)}`),a&&(t+=`b${it(a)}`),n.value&&(t+="c"),t}),c,e):void 0;return Object.assign(Object.assign({},s),{rtlEnabled:d,mergedClsPrefix:r,contentRef:t,mergedBordered:n,handleClick:function(){if(!e.disabled&&e.checkable){const{checked:t,onCheckedChange:n,onUpdateChecked:r,"onUpdate:checked":o}=e;r&&r(!t),o&&o(!t),n&&n(!t)}},handleCloseClick:function(t){if(e.triggerClickOnClose||t.stopPropagation(),!e.disabled){const{onClose:n}=e;n&&rt(n,t)}},cssVars:o?void 0:c,themeClass:null==u?void 0:u.themeClass,onRender:null==u?void 0:u.onRender})},render(){var e,t;const{mergedClsPrefix:n,rtlEnabled:r,closable:o,color:{borderColor:i}={},round:a,onRender:l,$slots:s}=this;null==l||l();const d=Ee(s.avatar,e=>e&&M("div",{class:`${n}-tag__avatar`},e)),c=Ee(s.icon,e=>e&&M("div",{class:`${n}-tag__icon`},e));return M("div",{class:[`${n}-tag`,this.themeClass,{[`${n}-tag--rtl`]:r,[`${n}-tag--strong`]:this.strong,[`${n}-tag--disabled`]:this.disabled,[`${n}-tag--checkable`]:this.checkable,[`${n}-tag--checked`]:this.checkable&&this.checked,[`${n}-tag--round`]:a,[`${n}-tag--avatar`]:d,[`${n}-tag--icon`]:c,[`${n}-tag--closable`]:o}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},c||d,M("span",{class:`${n}-tag__content`,ref:"contentRef"},null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e)),!this.checkable&&o?M(ot,{clsPrefix:n,class:`${n}-tag__close`,disabled:this.disabled,onClick:this.handleCloseClick,focusable:this.internalCloseFocusable,round:a,isButtonTag:this.internalCloseIsButtonTag,absolute:!0}):null,!this.checkable&&this.mergedBordered?M("div",{class:`${n}-tag__border`,style:{borderColor:i}}):null)}}),Yl=x({name:"InternalSelectionSuffix",props:{clsPrefix:{type:String,required:!0},showArrow:{type:Boolean,default:void 0},showClear:{type:Boolean,default:void 0},loading:{type:Boolean,default:!1},onClear:Function},setup:(e,{slots:t})=>()=>{const{clsPrefix:n}=e;return M(je,{clsPrefix:n,class:`${n}-base-suffix`,strokeWidth:24,scale:.85,show:e.loading},{default:()=>e.showArrow?M(Ua,{clsPrefix:n,show:e.showClear,onClear:e.onClear},{placeholder:()=>M($e,{clsPrefix:n,class:`${n}-base-suffix__arrow`},{default:()=>Se(t.default,()=>[M($a,null)])})}):null})}}),Wl=ye([we("base-selection","\n --n-padding-single: var(--n-padding-single-top) var(--n-padding-single-right) var(--n-padding-single-bottom) var(--n-padding-single-left);\n --n-padding-multiple: var(--n-padding-multiple-top) var(--n-padding-multiple-right) var(--n-padding-multiple-bottom) var(--n-padding-multiple-left);\n position: relative;\n z-index: auto;\n box-shadow: none;\n width: 100%;\n max-width: 100%;\n display: inline-block;\n vertical-align: bottom;\n border-radius: var(--n-border-radius);\n min-height: var(--n-height);\n line-height: 1.5;\n font-size: var(--n-font-size);\n ",[we("base-loading","\n color: var(--n-loading-color);\n "),we("base-selection-tags","min-height: var(--n-height);"),xe("border, state-border","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border: var(--n-border);\n border-radius: inherit;\n transition:\n box-shadow .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n "),xe("state-border","\n z-index: 1;\n border-color: #0000;\n "),we("base-suffix","\n cursor: pointer;\n position: absolute;\n top: 50%;\n transform: translateY(-50%);\n right: 10px;\n ",[xe("arrow","\n font-size: var(--n-arrow-size);\n color: var(--n-arrow-color);\n transition: color .3s var(--n-bezier);\n ")]),we("base-selection-overlay","\n display: flex;\n align-items: center;\n white-space: nowrap;\n pointer-events: none;\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n padding: var(--n-padding-single);\n transition: color .3s var(--n-bezier);\n ",[xe("wrapper","\n flex-basis: 0;\n flex-grow: 1;\n overflow: hidden;\n text-overflow: ellipsis;\n ")]),we("base-selection-placeholder","\n color: var(--n-placeholder-color);\n ",[xe("inner","\n max-width: 100%;\n overflow: hidden;\n ")]),we("base-selection-tags","\n cursor: pointer;\n outline: none;\n box-sizing: border-box;\n position: relative;\n z-index: auto;\n display: flex;\n padding: var(--n-padding-multiple);\n flex-wrap: wrap;\n align-items: center;\n width: 100%;\n vertical-align: bottom;\n background-color: var(--n-color);\n border-radius: inherit;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n "),we("base-selection-label","\n height: var(--n-height);\n display: inline-flex;\n width: 100%;\n vertical-align: bottom;\n cursor: pointer;\n outline: none;\n z-index: auto;\n box-sizing: border-box;\n position: relative;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: inherit;\n background-color: var(--n-color);\n align-items: center;\n ",[we("base-selection-input","\n font-size: inherit;\n line-height: inherit;\n outline: none;\n cursor: pointer;\n box-sizing: border-box;\n border:none;\n width: 100%;\n padding: var(--n-padding-single);\n background-color: #0000;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n caret-color: var(--n-caret-color);\n ",[xe("content","\n text-overflow: ellipsis;\n overflow: hidden;\n white-space: nowrap; \n ")]),xe("render-label","\n color: var(--n-text-color);\n ")]),_e("disabled",[ye("&:hover",[xe("state-border","\n box-shadow: var(--n-box-shadow-hover);\n border: var(--n-border-hover);\n ")]),Fe("focus",[xe("state-border","\n box-shadow: var(--n-box-shadow-focus);\n border: var(--n-border-focus);\n ")]),Fe("active",[xe("state-border","\n box-shadow: var(--n-box-shadow-active);\n border: var(--n-border-active);\n "),we("base-selection-label","background-color: var(--n-color-active);"),we("base-selection-tags","background-color: var(--n-color-active);")])]),Fe("disabled","cursor: not-allowed;",[xe("arrow","\n color: var(--n-arrow-color-disabled);\n "),we("base-selection-label","\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n ",[we("base-selection-input","\n cursor: not-allowed;\n color: var(--n-text-color-disabled);\n "),xe("render-label","\n color: var(--n-text-color-disabled);\n ")]),we("base-selection-tags","\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n "),we("base-selection-placeholder","\n cursor: not-allowed;\n color: var(--n-placeholder-color-disabled);\n ")]),we("base-selection-input-tag","\n height: calc(var(--n-height) - 6px);\n line-height: calc(var(--n-height) - 6px);\n outline: none;\n display: none;\n position: relative;\n margin-bottom: 3px;\n max-width: 100%;\n vertical-align: bottom;\n ",[xe("input","\n font-size: inherit;\n font-family: inherit;\n min-width: 1px;\n padding: 0;\n background-color: #0000;\n outline: none;\n border: none;\n max-width: 100%;\n overflow: hidden;\n width: 1em;\n line-height: inherit;\n cursor: pointer;\n color: var(--n-text-color);\n caret-color: var(--n-caret-color);\n "),xe("mirror","\n position: absolute;\n left: 0;\n top: 0;\n white-space: pre;\n visibility: hidden;\n user-select: none;\n -webkit-user-select: none;\n opacity: 0;\n ")]),["warning","error"].map(e=>Fe(`${e}-status`,[xe("state-border",`border: var(--n-border-${e});`),_e("disabled",[ye("&:hover",[xe("state-border",`\n box-shadow: var(--n-box-shadow-hover-${e});\n border: var(--n-border-hover-${e});\n `)]),Fe("active",[xe("state-border",`\n box-shadow: var(--n-box-shadow-active-${e});\n border: var(--n-border-active-${e});\n `),we("base-selection-label",`background-color: var(--n-color-active-${e});`),we("base-selection-tags",`background-color: var(--n-color-active-${e});`)]),Fe("focus",[xe("state-border",`\n box-shadow: var(--n-box-shadow-focus-${e});\n border: var(--n-border-focus-${e});\n `)])])]))]),we("base-selection-popover","\n margin-bottom: -3px;\n display: flex;\n flex-wrap: wrap;\n margin-right: -8px;\n "),we("base-selection-tag-wrapper","\n max-width: 100%;\n display: inline-flex;\n padding: 0 7px 3px 0;\n ",[ye("&:last-child","padding-right: 0;"),we("tag","\n font-size: 14px;\n max-width: 100%;\n ",[xe("content","\n line-height: 1.25;\n text-overflow: ellipsis;\n overflow: hidden;\n ")])])]),Ul=x({name:"InternalSelection",props:Object.assign(Object.assign({},Re.props),{clsPrefix:{type:String,required:!0},bordered:{type:Boolean,default:void 0},active:Boolean,pattern:{type:String,default:""},placeholder:String,selectedOption:{type:Object,default:null},selectedOptions:{type:Array,default:null},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},multiple:Boolean,filterable:Boolean,clearable:Boolean,disabled:Boolean,size:{type:String,default:"medium"},loading:Boolean,autofocus:Boolean,showArrow:{type:Boolean,default:!0},inputProps:Object,focused:Boolean,renderTag:Function,onKeydown:Function,onClick:Function,onBlur:Function,onFocus:Function,onDeleteOption:Function,maxTagCount:[String,Number],ellipsisTagPopoverProps:Object,onClear:Function,onPatternInput:Function,onPatternFocus:Function,onPatternBlur:Function,renderLabel:Function,status:String,inlineThemeDisabled:Boolean,ignoreComposition:{type:Boolean,default:!0},onResize:Function}),setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:r}=Me(e),o=Le("InternalSelection",r,t),l=f(null),s=f(null),d=f(null),c=f(null),u=f(null),h=f(null),p=f(null),v=f(null),m=f(null),g=f(null),b=f(!1),w=f(!1),y=f(!1),x=Re("InternalSelection","-internal-selection",Wl,st,e,T(e,"clsPrefix")),k=a(()=>e.clearable&&!e.disabled&&(y.value||e.active)),C=a(()=>e.selectedOption?e.renderTag?e.renderTag({option:e.selectedOption,handleClose:()=>{}}):e.renderLabel?e.renderLabel(e.selectedOption,!0):Pe(e.selectedOption[e.labelField],e.selectedOption,!0):e.placeholder),S=a(()=>{const t=e.selectedOption;if(t)return t[e.labelField]}),z=a(()=>e.multiple?!(!Array.isArray(e.selectedOptions)||!e.selectedOptions.length):null!==e.selectedOption);function $(){var t;const{value:n}=l;if(n){const{value:r}=s;r&&(r.style.width=`${n.offsetWidth}px`,"responsive"!==e.maxTagCount&&(null===(t=m.value)||void 0===t||t.sync({showAllItemsBeforeCalculate:!1})))}}function M(t){const{onPatternInput:n}=e;n&&n(t)}function R(t){!function(t){const{onDeleteOption:n}=e;n&&n(t)}(t)}i(T(e,"active"),e=>{e||function(){const{value:e}=g;e&&(e.style.display="none")}()}),i(T(e,"pattern"),()=>{e.multiple&&D($)});const A=f(!1);let O=null;let P=null;function F(){null!==P&&window.clearTimeout(P)}i(z,e=>{e||(b.value=!1)}),n(()=>{We(()=>{const t=h.value;t&&(e.disabled?t.removeAttribute("tabindex"):t.tabIndex=w.value?-1:0)})}),po(d,e.onResize);const{inlineThemeDisabled:_}=e,B=a(()=>{const{size:t}=e,{common:{cubicBezierEaseInOut:n},self:{fontWeight:r,borderRadius:o,color:i,placeholderColor:a,textColor:l,paddingSingle:s,paddingMultiple:d,caretColor:c,colorDisabled:u,textColorDisabled:h,placeholderColorDisabled:p,colorActive:f,boxShadowFocus:v,boxShadowActive:m,boxShadowHover:g,border:b,borderFocus:w,borderHover:y,borderActive:k,arrowColor:C,arrowColorDisabled:S,loadingColor:z,colorActiveWarning:$,boxShadowFocusWarning:M,boxShadowActiveWarning:R,boxShadowHoverWarning:A,borderWarning:O,borderFocusWarning:T,borderHoverWarning:P,borderActiveWarning:D,colorActiveError:F,boxShadowFocusError:_,boxShadowActiveError:B,boxShadowHoverError:E,borderError:j,borderFocusError:I,borderHoverError:L,borderActiveError:N,clearColor:H,clearColorHover:Y,clearColorPressed:W,clearSize:U,arrowSize:V,[Ae("height",t)]:q,[Ae("fontSize",t)]:X}}=x.value,Q=He(s),K=He(d);return{"--n-bezier":n,"--n-border":b,"--n-border-active":k,"--n-border-focus":w,"--n-border-hover":y,"--n-border-radius":o,"--n-box-shadow-active":m,"--n-box-shadow-focus":v,"--n-box-shadow-hover":g,"--n-caret-color":c,"--n-color":i,"--n-color-active":f,"--n-color-disabled":u,"--n-font-size":X,"--n-height":q,"--n-padding-single-top":Q.top,"--n-padding-multiple-top":K.top,"--n-padding-single-right":Q.right,"--n-padding-multiple-right":K.right,"--n-padding-single-left":Q.left,"--n-padding-multiple-left":K.left,"--n-padding-single-bottom":Q.bottom,"--n-padding-multiple-bottom":K.bottom,"--n-placeholder-color":a,"--n-placeholder-color-disabled":p,"--n-text-color":l,"--n-text-color-disabled":h,"--n-arrow-color":C,"--n-arrow-color-disabled":S,"--n-loading-color":z,"--n-color-active-warning":$,"--n-box-shadow-focus-warning":M,"--n-box-shadow-active-warning":R,"--n-box-shadow-hover-warning":A,"--n-border-warning":O,"--n-border-focus-warning":T,"--n-border-hover-warning":P,"--n-border-active-warning":D,"--n-color-active-error":F,"--n-box-shadow-focus-error":_,"--n-box-shadow-active-error":B,"--n-box-shadow-hover-error":E,"--n-border-error":j,"--n-border-focus-error":I,"--n-border-hover-error":L,"--n-border-active-error":N,"--n-clear-size":U,"--n-clear-color":H,"--n-clear-color-hover":Y,"--n-clear-color-pressed":W,"--n-arrow-size":V,"--n-font-weight":r}}),E=_?Oe("internal-selection",a(()=>e.size[0]),B,e):void 0;return{mergedTheme:x,mergedClearable:k,mergedClsPrefix:t,rtlEnabled:o,patternInputFocused:w,filterablePlaceholder:C,label:S,selected:z,showTagsPanel:b,isComposing:A,counterRef:p,counterWrapperRef:v,patternInputMirrorRef:l,patternInputRef:s,selfRef:d,multipleElRef:c,singleElRef:u,patternInputWrapperRef:h,overflowRef:m,inputTagElRef:g,handleMouseDown:function(t){e.active&&e.filterable&&t.target!==s.value&&t.preventDefault()},handleFocusin:function(t){var n;t.relatedTarget&&(null===(n=d.value)||void 0===n?void 0:n.contains(t.relatedTarget))||function(t){const{onFocus:n}=e;n&&n(t)}(t)},handleClear:function(t){!function(t){const{onClear:n}=e;n&&n(t)}(t)},handleMouseEnter:function(){y.value=!0},handleMouseLeave:function(){y.value=!1},handleDeleteOption:R,handlePatternKeyDown:function(t){if("Backspace"===t.key&&!A.value&&!e.pattern.length){const{selectedOptions:t}=e;(null==t?void 0:t.length)&&R(t[t.length-1])}},handlePatternInputInput:function(t){const{value:n}=l;if(n){const e=t.target.value;n.textContent=e,$()}e.ignoreComposition&&A.value?O=t:M(t)},handlePatternInputBlur:function(t){var n;w.value=!1,null===(n=e.onPatternBlur)||void 0===n||n.call(e,t)},handlePatternInputFocus:function(t){var n;w.value=!0,null===(n=e.onPatternFocus)||void 0===n||n.call(e,t)},handleMouseEnterCounter:function(){e.active||(F(),P=window.setTimeout(()=>{z.value&&(b.value=!0)},100))},handleMouseLeaveCounter:function(){F()},handleFocusout:function(t){var n;(null===(n=d.value)||void 0===n?void 0:n.contains(t.relatedTarget))||function(t){const{onBlur:n}=e;n&&n(t)}(t)},handleCompositionEnd:function(){A.value=!1,e.ignoreComposition&&M(O),O=null},handleCompositionStart:function(){A.value=!0},onPopoverUpdateShow:function(e){e||(F(),b.value=!1)},focus:function(){var t,n,r;e.filterable?(w.value=!1,null===(t=h.value)||void 0===t||t.focus()):e.multiple?null===(n=c.value)||void 0===n||n.focus():null===(r=u.value)||void 0===r||r.focus()},focusInput:function(){const{value:e}=s;e&&(!function(){const{value:e}=g;e&&(e.style.display="inline-block")}(),e.focus())},blur:function(){var t,n;if(e.filterable)w.value=!1,null===(t=h.value)||void 0===t||t.blur(),null===(n=s.value)||void 0===n||n.blur();else if(e.multiple){const{value:e}=c;null==e||e.blur()}else{const{value:e}=u;null==e||e.blur()}},blurInput:function(){const{value:e}=s;e&&e.blur()},updateCounter:function(e){const{value:t}=p;t&&t.setTextContent(`+${e}`)},getCounter:function(){const{value:e}=v;return e},getTail:function(){return s.value},renderLabel:e.renderLabel,cssVars:_?void 0:B,themeClass:null==E?void 0:E.themeClass,onRender:null==E?void 0:E.onRender}},render(){const{status:e,multiple:t,size:n,disabled:r,filterable:o,maxTagCount:i,bordered:a,clsPrefix:l,ellipsisTagPopoverProps:s,onRender:d,renderTag:c,renderLabel:u}=this;null==d||d();const h="responsive"===i,p="number"==typeof i,f=h||p,v=M(lt,null,{default:()=>M(Yl,{clsPrefix:l,loading:this.loading,showArrow:this.showArrow,showClear:this.mergedClearable&&this.selected,onClear:this.handleClear},{default:()=>{var e,t;return null===(t=(e=this.$slots).arrow)||void 0===t?void 0:t.call(e)}})});let m;if(t){const{labelField:e}=this,t=t=>M("div",{class:`${l}-base-selection-tag-wrapper`,key:t.value},c?c({option:t,handleClose:()=>{this.handleDeleteOption(t)}}):M(Hl,{size:n,closable:!t.disabled,disabled:r,onClose:()=>{this.handleDeleteOption(t)},internalCloseIsButtonTag:!1,internalCloseFocusable:!1},{default:()=>u?u(t,!0):Pe(t[e],t,!0)})),a=()=>(p?this.selectedOptions.slice(0,i):this.selectedOptions).map(t),d=o?M("div",{class:`${l}-base-selection-input-tag`,ref:"inputTagElRef",key:"__input-tag__"},M("input",Object.assign({},this.inputProps,{ref:"patternInputRef",tabindex:-1,disabled:r,value:this.pattern,autofocus:this.autofocus,class:`${l}-base-selection-input-tag__input`,onBlur:this.handlePatternInputBlur,onFocus:this.handlePatternInputFocus,onKeydown:this.handlePatternKeyDown,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),M("span",{ref:"patternInputMirrorRef",class:`${l}-base-selection-input-tag__mirror`},this.pattern)):null,g=h?()=>M("div",{class:`${l}-base-selection-tag-wrapper`,ref:"counterWrapperRef"},M(Hl,{size:n,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,onMouseleave:this.handleMouseLeaveCounter,disabled:r})):void 0;let b;if(p){const e=this.selectedOptions.length-i;e>0&&(b=M("div",{class:`${l}-base-selection-tag-wrapper`,key:"__counter__"},M(Hl,{size:n,ref:"counterRef",onMouseenter:this.handleMouseEnterCounter,disabled:r},{default:()=>`+${e}`})))}const w=h?o?M(ho,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,getTail:this.getTail,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:a,counter:g,tail:()=>d}):M(ho,{ref:"overflowRef",updateCounter:this.updateCounter,getCounter:this.getCounter,style:{width:"100%",display:"flex",overflow:"hidden"}},{default:a,counter:g}):p&&b?a().concat(b):a(),y=f?()=>M("div",{class:`${l}-base-selection-popover`},h?a():this.selectedOptions.map(t)):void 0,x=f?Object.assign({show:this.showTagsPanel,trigger:"hover",overlap:!0,placement:"top",width:"trigger",onUpdateShow:this.onPopoverUpdateShow,theme:this.mergedTheme.peers.Popover,themeOverrides:this.mergedTheme.peerOverrides.Popover},s):null,k=!this.selected&&(!this.active||!this.pattern&&!this.isComposing)?M("div",{class:`${l}-base-selection-placeholder ${l}-base-selection-overlay`},M("div",{class:`${l}-base-selection-placeholder__inner`},this.placeholder)):null,C=o?M("div",{ref:"patternInputWrapperRef",class:`${l}-base-selection-tags`},w,h?null:d,v):M("div",{ref:"multipleElRef",class:`${l}-base-selection-tags`,tabindex:r?void 0:0},w,v);m=M(Ze,null,f?M(El,Object.assign({},x,{scrollable:!0,style:"max-height: calc(var(--v-target-height) * 6.6);"}),{trigger:()=>C,default:y}):C,k)}else if(o){const e=this.pattern||this.isComposing,t=this.active?!e:!this.selected,n=!this.active&&this.selected;m=M("div",{ref:"patternInputWrapperRef",class:`${l}-base-selection-label`,title:this.patternInputFocused?void 0:wo(this.label)},M("input",Object.assign({},this.inputProps,{ref:"patternInputRef",class:`${l}-base-selection-input`,value:this.active?this.pattern:"",placeholder:"",readonly:r,disabled:r,tabindex:-1,autofocus:this.autofocus,onFocus:this.handlePatternInputFocus,onBlur:this.handlePatternInputBlur,onInput:this.handlePatternInputInput,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd})),n?M("div",{class:`${l}-base-selection-label__render-label ${l}-base-selection-overlay`,key:"input"},M("div",{class:`${l}-base-selection-overlay__wrapper`},c?c({option:this.selectedOption,handleClose:()=>{}}):u?u(this.selectedOption,!0):Pe(this.label,this.selectedOption,!0))):null,t?M("div",{class:`${l}-base-selection-placeholder ${l}-base-selection-overlay`,key:"placeholder"},M("div",{class:`${l}-base-selection-overlay__wrapper`},this.filterablePlaceholder)):null,v)}else m=M("div",{ref:"singleElRef",class:`${l}-base-selection-label`,tabindex:this.disabled?void 0:0},void 0!==this.label?M("div",{class:`${l}-base-selection-input`,title:wo(this.label),key:"input"},M("div",{class:`${l}-base-selection-input__content`},c?c({option:this.selectedOption,handleClose:()=>{}}):u?u(this.selectedOption,!0):Pe(this.label,this.selectedOption,!0))):M("div",{class:`${l}-base-selection-placeholder ${l}-base-selection-overlay`,key:"placeholder"},M("div",{class:`${l}-base-selection-placeholder__inner`},this.placeholder)),v);return M("div",{ref:"selfRef",class:[`${l}-base-selection`,this.rtlEnabled&&`${l}-base-selection--rtl`,this.themeClass,e&&`${l}-base-selection--${e}-status`,{[`${l}-base-selection--active`]:this.active,[`${l}-base-selection--selected`]:this.selected||this.active&&this.pattern,[`${l}-base-selection--disabled`]:this.disabled,[`${l}-base-selection--multiple`]:this.multiple,[`${l}-base-selection--focus`]:this.focused}],style:this.cssVars,onClick:this.onClick,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onKeydown:this.onKeydown,onFocusin:this.handleFocusin,onFocusout:this.handleFocusout,onMousedown:this.handleMouseDown},m,a?M("div",{class:`${l}-base-selection__border`}):null,a?M("div",{class:`${l}-base-selection__state-border`}):null)}}),Vl=x({name:"SlotMachineNumber",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],required:!0},oldOriginalNumber:{type:Number,default:void 0},newOriginalNumber:{type:Number,default:void 0}},setup(e){const t=f(null),n=f(e.value),r=f(e.value),o=f("up"),l=f(!1),s=a(()=>l.value?`${e.clsPrefix}-base-slot-machine-current-number--${o.value}-scroll`:null),d=a(()=>l.value?`${e.clsPrefix}-base-slot-machine-old-number--${o.value}-scroll`:null);function c(){const t=e.newOriginalNumber,n=e.oldOriginalNumber;void 0!==n&&void 0!==t&&(t>n?u("up"):n>t&&u("down"))}function u(e){o.value=e,l.value=!1,D(()=>{var e;null===(e=t.value)||void 0===e||e.offsetWidth,l.value=!0})}return i(T(e,"value"),(e,t)=>{n.value=t,r.value=e,D(c)}),()=>{const{clsPrefix:o}=e;return M("span",{ref:t,class:`${o}-base-slot-machine-number`},null!==n.value?M("span",{class:[`${o}-base-slot-machine-old-number ${o}-base-slot-machine-old-number--top`,d.value]},n.value):null,M("span",{class:[`${o}-base-slot-machine-current-number`,s.value]},M("span",{ref:"numberWrapper",class:[`${o}-base-slot-machine-current-number__inner`,"number"!=typeof e.value&&`${o}-base-slot-machine-current-number__inner--not-number`]},r.value)),null!==n.value?M("span",{class:[`${o}-base-slot-machine-old-number ${o}-base-slot-machine-old-number--bottom`,d.value]},n.value):null)}}}),{cubicBezierEaseOut:ql}=dt;const Xl=ye([ye("@keyframes n-base-slot-machine-fade-up-in","\n from {\n transform: translateY(60%);\n opacity: 0;\n }\n to {\n transform: translateY(0);\n opacity: 1;\n }\n "),ye("@keyframes n-base-slot-machine-fade-down-in","\n from {\n transform: translateY(-60%);\n opacity: 0;\n }\n to {\n transform: translateY(0);\n opacity: 1;\n }\n "),ye("@keyframes n-base-slot-machine-fade-up-out","\n from {\n transform: translateY(0%);\n opacity: 1;\n }\n to {\n transform: translateY(-60%);\n opacity: 0;\n }\n "),ye("@keyframes n-base-slot-machine-fade-down-out","\n from {\n transform: translateY(0%);\n opacity: 1;\n }\n to {\n transform: translateY(60%);\n opacity: 0;\n }\n "),we("base-slot-machine","\n overflow: hidden;\n white-space: nowrap;\n display: inline-block;\n height: 18px;\n line-height: 18px;\n ",[we("base-slot-machine-number","\n display: inline-block;\n position: relative;\n height: 18px;\n width: .6em;\n max-width: .6em;\n ",[function({duration:e=".2s"}={}){return[ye("&.fade-up-width-expand-transition-leave-active",{transition:`\n opacity ${e} ${ql},\n max-width ${e} ${ql},\n transform ${e} ${ql}\n `}),ye("&.fade-up-width-expand-transition-enter-active",{transition:`\n opacity ${e} ${ql},\n max-width ${e} ${ql},\n transform ${e} ${ql}\n `}),ye("&.fade-up-width-expand-transition-enter-to",{opacity:1,transform:"translateX(0) translateY(0)"}),ye("&.fade-up-width-expand-transition-enter-from",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"}),ye("&.fade-up-width-expand-transition-leave-from",{opacity:1,transform:"translateY(0)"}),ye("&.fade-up-width-expand-transition-leave-to",{maxWidth:"0 !important",opacity:0,transform:"translateY(60%)"})]}({duration:".2s"}),ct({duration:".2s",delay:"0s"}),we("base-slot-machine-old-number","\n display: inline-block;\n opacity: 0;\n position: absolute;\n left: 0;\n right: 0;\n ",[Fe("top",{transform:"translateY(-100%)"}),Fe("bottom",{transform:"translateY(100%)"}),Fe("down-scroll",{animation:"n-base-slot-machine-fade-down-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),Fe("up-scroll",{animation:"n-base-slot-machine-fade-up-out .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1})]),we("base-slot-machine-current-number","\n display: inline-block;\n position: absolute;\n left: 0;\n top: 0;\n bottom: 0;\n right: 0;\n opacity: 1;\n transform: translateY(0);\n width: .6em;\n ",[Fe("down-scroll",{animation:"n-base-slot-machine-fade-down-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),Fe("up-scroll",{animation:"n-base-slot-machine-fade-up-in .2s cubic-bezier(0, 0, .2, 1)",animationIterationCount:1}),xe("inner","\n display: inline-block;\n position: absolute;\n right: 0;\n top: 0;\n width: .6em;\n ",[Fe("not-number","\n right: unset;\n left: 0;\n ")])])])])]),Ql=x({name:"BaseSlotMachine",props:{clsPrefix:{type:String,required:!0},value:{type:[Number,String],default:0},max:{type:Number,default:void 0},appeared:{type:Boolean,required:!0}},setup(e){ze("-base-slot-machine",Xl,T(e,"clsPrefix"));const t=f(),n=f(),r=a(()=>{if("string"==typeof e.value)return[];if(e.value<1)return[0];const t=[];let n=e.value;for(void 0!==e.max&&(n=Math.min(e.max,n));n>=1;)t.push(n%10),n/=10,n=Math.floor(n);return t.reverse(),t});return i(T(e,"value"),(e,r)=>{"string"==typeof e?(n.value=void 0,t.value=void 0):"string"==typeof r?(n.value=e,t.value=void 0):(n.value=e,t.value=r)}),()=>{const{value:o,clsPrefix:i}=e;return"number"==typeof o?M("span",{class:`${i}-base-slot-machine`},M(ut,{name:"fade-up-width-expand-transition",tag:"span"},{default:()=>r.value.map((e,o)=>M(Vl,{clsPrefix:i,key:r.value.length-o-1,oldOriginalNumber:t.value,newOriginalNumber:n.value,value:e}))}),M(ht,{key:"+",width:!0},{default:()=>void 0!==e.max&&e.max<o?M(Vl,{clsPrefix:i,value:"+"}):null})):M("span",{class:`${i}-base-slot-machine`},o)}}}),Kl=p("n-input"),Zl=we("input","\n max-width: 100%;\n cursor: text;\n line-height: 1.5;\n z-index: auto;\n outline: none;\n box-sizing: border-box;\n position: relative;\n display: inline-flex;\n border-radius: var(--n-border-radius);\n background-color: var(--n-color);\n transition: background-color .3s var(--n-bezier);\n font-size: var(--n-font-size);\n font-weight: var(--n-font-weight);\n --n-padding-vertical: calc((var(--n-height) - 1.5 * var(--n-font-size)) / 2);\n",[xe("input, textarea","\n overflow: hidden;\n flex-grow: 1;\n position: relative;\n "),xe("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder","\n box-sizing: border-box;\n font-size: inherit;\n line-height: 1.5;\n font-family: inherit;\n border: none;\n outline: none;\n background-color: #0000;\n text-align: inherit;\n transition:\n -webkit-text-fill-color .3s var(--n-bezier),\n caret-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n text-decoration-color .3s var(--n-bezier);\n "),xe("input-el, textarea-el","\n -webkit-appearance: none;\n scrollbar-width: none;\n width: 100%;\n min-width: 0;\n text-decoration-color: var(--n-text-decoration-color);\n color: var(--n-text-color);\n caret-color: var(--n-caret-color);\n background-color: transparent;\n ",[ye("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb","\n width: 0;\n height: 0;\n display: none;\n "),ye("&::placeholder","\n color: #0000;\n -webkit-text-fill-color: transparent !important;\n "),ye("&:-webkit-autofill ~",[xe("placeholder","display: none;")])]),Fe("round",[_e("textarea","border-radius: calc(var(--n-height) / 2);")]),xe("placeholder","\n pointer-events: none;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n overflow: hidden;\n color: var(--n-placeholder-color);\n ",[ye("span","\n width: 100%;\n display: inline-block;\n ")]),Fe("textarea",[xe("placeholder","overflow: visible;")]),_e("autosize","width: 100%;"),Fe("autosize",[xe("textarea-el, input-el","\n position: absolute;\n top: 0;\n left: 0;\n height: 100%;\n ")]),we("input-wrapper","\n overflow: hidden;\n display: inline-flex;\n flex-grow: 1;\n position: relative;\n padding-left: var(--n-padding-left);\n padding-right: var(--n-padding-right);\n "),xe("input-mirror","\n padding: 0;\n height: var(--n-height);\n line-height: var(--n-height);\n overflow: hidden;\n visibility: hidden;\n position: static;\n white-space: pre;\n pointer-events: none;\n "),xe("input-el","\n padding: 0;\n height: var(--n-height);\n line-height: var(--n-height);\n ",[ye("&[type=password]::-ms-reveal","display: none;"),ye("+",[xe("placeholder","\n display: flex;\n align-items: center; \n ")])]),_e("textarea",[xe("placeholder","white-space: nowrap;")]),xe("eye","\n display: flex;\n align-items: center;\n justify-content: center;\n transition: color .3s var(--n-bezier);\n "),Fe("textarea","width: 100%;",[we("input-word-count","\n position: absolute;\n right: var(--n-padding-right);\n bottom: var(--n-padding-vertical);\n "),Fe("resizable",[we("input-wrapper","\n resize: vertical;\n min-height: var(--n-height);\n ")]),xe("textarea-el, textarea-mirror, placeholder","\n height: 100%;\n padding-left: 0;\n padding-right: 0;\n padding-top: var(--n-padding-vertical);\n padding-bottom: var(--n-padding-vertical);\n word-break: break-word;\n display: inline-block;\n vertical-align: bottom;\n box-sizing: border-box;\n line-height: var(--n-line-height-textarea);\n margin: 0;\n resize: none;\n white-space: pre-wrap;\n scroll-padding-block-end: var(--n-padding-vertical);\n "),xe("textarea-mirror","\n width: 100%;\n pointer-events: none;\n overflow: hidden;\n visibility: hidden;\n position: static;\n white-space: pre-wrap;\n overflow-wrap: break-word;\n ")]),Fe("pair",[xe("input-el, placeholder","text-align: center;"),xe("separator","\n display: flex;\n align-items: center;\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n white-space: nowrap;\n ",[we("icon","\n color: var(--n-icon-color);\n "),we("base-icon","\n color: var(--n-icon-color);\n ")])]),Fe("disabled","\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n ",[xe("border","border: var(--n-border-disabled);"),xe("input-el, textarea-el","\n cursor: not-allowed;\n color: var(--n-text-color-disabled);\n text-decoration-color: var(--n-text-color-disabled);\n "),xe("placeholder","color: var(--n-placeholder-color-disabled);"),xe("separator","color: var(--n-text-color-disabled);",[we("icon","\n color: var(--n-icon-color-disabled);\n "),we("base-icon","\n color: var(--n-icon-color-disabled);\n ")]),we("input-word-count","\n color: var(--n-count-text-color-disabled);\n "),xe("suffix, prefix","color: var(--n-text-color-disabled);",[we("icon","\n color: var(--n-icon-color-disabled);\n "),we("internal-icon","\n color: var(--n-icon-color-disabled);\n ")])]),_e("disabled",[xe("eye","\n color: var(--n-icon-color);\n cursor: pointer;\n ",[ye("&:hover","\n color: var(--n-icon-color-hover);\n "),ye("&:active","\n color: var(--n-icon-color-pressed);\n ")]),ye("&:hover",[xe("state-border","border: var(--n-border-hover);")]),Fe("focus","background-color: var(--n-color-focus);",[xe("state-border","\n border: var(--n-border-focus);\n box-shadow: var(--n-box-shadow-focus);\n ")])]),xe("border, state-border","\n box-sizing: border-box;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border-radius: inherit;\n border: var(--n-border);\n transition:\n box-shadow .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n "),xe("state-border","\n border-color: #0000;\n z-index: 1;\n "),xe("prefix","margin-right: 4px;"),xe("suffix","\n margin-left: 4px;\n "),xe("suffix, prefix","\n transition: color .3s var(--n-bezier);\n flex-wrap: nowrap;\n flex-shrink: 0;\n line-height: var(--n-height);\n white-space: nowrap;\n display: inline-flex;\n align-items: center;\n justify-content: center;\n color: var(--n-suffix-text-color);\n ",[we("base-loading","\n font-size: var(--n-icon-size);\n margin: 0 2px;\n color: var(--n-loading-color);\n "),we("base-clear","\n font-size: var(--n-icon-size);\n ",[xe("placeholder",[we("base-icon","\n transition: color .3s var(--n-bezier);\n color: var(--n-icon-color);\n font-size: var(--n-icon-size);\n ")])]),ye(">",[we("icon","\n transition: color .3s var(--n-bezier);\n color: var(--n-icon-color);\n font-size: var(--n-icon-size);\n ")]),we("base-icon","\n font-size: var(--n-icon-size);\n ")]),we("input-word-count","\n pointer-events: none;\n line-height: 1.5;\n font-size: .85em;\n color: var(--n-count-text-color);\n transition: color .3s var(--n-bezier);\n margin-left: 4px;\n font-variant: tabular-nums;\n "),["warning","error"].map(e=>Fe(`${e}-status`,[_e("disabled",[we("base-loading",`\n color: var(--n-loading-color-${e})\n `),xe("input-el, textarea-el",`\n caret-color: var(--n-caret-color-${e});\n `),xe("state-border",`\n border: var(--n-border-${e});\n `),ye("&:hover",[xe("state-border",`\n border: var(--n-border-hover-${e});\n `)]),ye("&:focus",`\n background-color: var(--n-color-focus-${e});\n `,[xe("state-border",`\n box-shadow: var(--n-box-shadow-focus-${e});\n border: var(--n-border-focus-${e});\n `)]),Fe("focus",`\n background-color: var(--n-color-focus-${e});\n `,[xe("state-border",`\n box-shadow: var(--n-box-shadow-focus-${e});\n border: var(--n-border-focus-${e});\n `)])])]))]),Gl=we("input",[Fe("disabled",[xe("input-el, textarea-el","\n -webkit-text-fill-color: var(--n-text-color-disabled);\n ")])]);function Jl(e){let t=0;for(const n of e)t++;return t}function es(e){return""===e||null==e}const ts=x({name:"InputWordCount",setup(e,{slots:t}){const{mergedValueRef:n,maxlengthRef:r,mergedClsPrefixRef:o,countGraphemesRef:i}=m(Kl),l=a(()=>{const{value:e}=n;return null===e||Array.isArray(e)?0:(i.value||Jl)(e)});return()=>{const{value:e}=r,{value:i}=n;return M("span",{class:`${o.value}-input-word-count`},pt(t.default,{value:null===i||Array.isArray(i)?"":i},()=>[void 0===e?l.value:`${l.value} / ${e}`]))}}}),ns=Object.assign(Object.assign({},Re.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},allowInput:Function,renderCount:Function,onMousedown:Function,onKeydown:Function,onKeyup:[Function,Array],onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],countGraphemes:Function,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,internalLoadingBeforeSuffix:{type:Boolean,default:!0},showPasswordToggle:Boolean}),rs=x({name:"Input",props:ns,slots:Object,setup(e){const{mergedClsPrefixRef:t,mergedBorderedRef:r,inlineThemeDisabled:o,mergedRtlRef:l}=Me(e),s=Re("Input","-input",Zl,mt,e,t);ft&&ze("-input-safari",Gl,t);const c=f(null),u=f(null),p=f(null),m=f(null),g=f(null),b=f(null),w=f(null),x=function(e){const t=f(null);function n(){t.value=null}return i(e,n),{recordCursor:function(){const{value:r}=e;if(!(null==r?void 0:r.focus))return void n();const{selectionStart:o,selectionEnd:i,value:a}=r;null!=o&&null!=i?t.value={start:o,end:i,beforeText:a.slice(0,o),afterText:a.slice(i)}:n()},restoreCursor:function(){var n;const{value:r}=t,{value:o}=e;if(!r||!o)return;const{value:i}=o,{start:a,beforeText:l,afterText:s}=r;let d=i.length;if(i.endsWith(s))d=i.length-s.length;else if(i.startsWith(l))d=l.length;else{const e=l[a-1],t=i.indexOf(e,a-1);-1!==t&&(d=t+1)}null===(n=o.setSelectionRange)||void 0===n||n.call(o,d,d)}}}(w),k=f(null),{localeRef:S}=ka("Input"),z=f(e.defaultValue),$=Sr(T(e,"value"),z),M=vt(e),{mergedSizeRef:R,mergedDisabledRef:A,mergedStatusRef:O}=M,P=f(!1),F=f(!1),_=f(!1),B=f(!1);let E=null;const j=a(()=>{const{placeholder:t,pair:n}=e;return n?Array.isArray(t)?t:void 0===t?["",""]:[t,t]:void 0===t?[S.value.placeholder]:[t]}),I=a(()=>{const{value:e}=_,{value:t}=$,{value:n}=j;return!e&&(es(t)||Array.isArray(t)&&es(t[0]))&&n[0]}),L=a(()=>{const{value:e}=_,{value:t}=$,{value:n}=j;return!e&&n[1]&&(es(t)||Array.isArray(t)&&es(t[1]))}),N=v(()=>e.internalForceFocus||P.value),H=v(()=>{if(A.value||e.readonly||!e.clearable||!N.value&&!F.value)return!1;const{value:t}=$,{value:n}=N;return e.pair?!(!Array.isArray(t)||!t[0]&&!t[1])&&(F.value||n):!!t&&(F.value||n)}),Y=a(()=>{const{showPasswordOn:t}=e;return t||(e.showPasswordToggle?"click":void 0)}),W=f(!1),U=a(()=>{const{textDecoration:t}=e;return t?Array.isArray(t)?t.map(e=>({textDecoration:e})):[{textDecoration:t}]:["",""]}),V=f(void 0),q=a(()=>{const{maxlength:t}=e;return void 0===t?void 0:Number(t)});n(()=>{const{value:e}=$;Array.isArray(e)||ne(e)});const X=y().proxy;function Q(t,n){const{onUpdateValue:r,"onUpdate:value":o,onInput:i}=e,{nTriggerFormInput:a}=M;r&&rt(r,t,n),o&&rt(o,t,n),i&&rt(i,t,n),z.value=t,a()}function K(t,n){const{onChange:r}=e,{nTriggerFormChange:o}=M;r&&rt(r,t,n),z.value=t,o()}function Z(t,n=0,r="input"){const o=t.target.value;if(ne(o),t instanceof InputEvent&&!t.isComposing&&(_.value=!1),"textarea"===e.type){const{value:e}=k;e&&e.syncUnifiedContainer()}if(E=o,_.value)return;x.recordCursor();const i=function(t){const{countGraphemes:n,maxlength:r,minlength:o}=e;if(n){let e;if(void 0!==r&&(void 0===e&&(e=n(t)),e>Number(r)))return!1;if(void 0!==o&&(void 0===e&&(e=n(t)),e<Number(r)))return!1}const{allowInput:i}=e;if("function"==typeof i)return i(t);return!0}(o);if(i)if(e.pair){let{value:e}=$;e=Array.isArray(e)?[e[0],e[1]]:["",""],e[n]=o,"input"===r?Q(e,{source:n}):K(e,{source:n})}else"input"===r?Q(o,{source:n}):K(o,{source:n});X.$forceUpdate(),i||D(x.restoreCursor)}function G(t,n){(null===t.relatedTarget||t.relatedTarget!==g.value&&t.relatedTarget!==b.value&&t.relatedTarget!==u.value&&t.relatedTarget!==c.value)&&("focus"===n?(!function(t){const{onFocus:n}=e,{nTriggerFormFocus:r}=M;n&&rt(n,t),r()}(t),P.value=!0):"blur"===n&&(!function(t){const{onBlur:n}=e,{nTriggerFormBlur:r}=M;n&&rt(n,t),r()}(t),P.value=!1))}function J(){e.pair?(Q(["",""],{source:"clear"}),K(["",""],{source:"clear"})):(Q("",{source:"clear"}),K("",{source:"clear"}))}function ee(){e.passivelyActivated&&(B.value=!1,D(()=>{var e;null===(e=c.value)||void 0===e||e.focus()}))}function te(){var t,n,r;A.value||(e.passivelyActivated?null===(t=c.value)||void 0===t||t.focus():(null===(n=u.value)||void 0===n||n.focus(),null===(r=g.value)||void 0===r||r.focus()))}function ne(t){const{type:n,pair:r,autosize:o}=e;if(!r&&o)if("textarea"===n){const{value:e}=p;e&&(e.textContent=`${null!=t?t:""}\r\n`)}else{const{value:e}=m;e&&(t?e.textContent=t:e.innerHTML="&nbsp;")}}const re=f({top:"0"});let oe=null;We(()=>{const{autosize:t,type:n}=e;t&&"textarea"===n?oe=i($,e=>{Array.isArray(e)||e===E||ne(e)}):null==oe||oe()});let ie=null;We(()=>{"textarea"===e.type?ie=i($,e=>{var t;Array.isArray(e)||e===E||null===(t=k.value)||void 0===t||t.syncUnifiedContainer()}):null==ie||ie()}),C(Kl,{mergedValueRef:$,maxlengthRef:q,mergedClsPrefixRef:t,countGraphemesRef:T(e,"countGraphemes")});const ae={wrapperElRef:c,inputElRef:g,textareaElRef:u,isCompositing:_,clear:J,focus:te,blur:function(){var e;(null===(e=c.value)||void 0===e?void 0:e.contains(document.activeElement))&&document.activeElement.blur()},select:function(){var e,t;null===(e=u.value)||void 0===e||e.select(),null===(t=g.value)||void 0===t||t.select()},deactivate:function(){const{value:e}=c;(null==e?void 0:e.contains(document.activeElement))&&e!==document.activeElement&&ee()},activate:function(){A.value||(u.value?u.value.focus():g.value&&g.value.focus())},scrollTo:function(t){if("textarea"===e.type){const{value:e}=u;null==e||e.scrollTo(t)}else{const{value:e}=g;null==e||e.scrollTo(t)}}},le=Le("Input",l,t),se=a(()=>{const{value:e}=R,{common:{cubicBezierEaseInOut:t},self:{color:n,borderRadius:r,textColor:o,caretColor:i,caretColorError:a,caretColorWarning:l,textDecorationColor:d,border:c,borderDisabled:u,borderHover:h,borderFocus:p,placeholderColor:f,placeholderColorDisabled:v,lineHeightTextarea:m,colorDisabled:g,colorFocus:b,textColorDisabled:w,boxShadowFocus:y,iconSize:x,colorFocusWarning:k,boxShadowFocusWarning:C,borderWarning:S,borderFocusWarning:z,borderHoverWarning:$,colorFocusError:M,boxShadowFocusError:A,borderError:O,borderFocusError:T,borderHoverError:P,clearSize:D,clearColor:F,clearColorHover:_,clearColorPressed:B,iconColor:E,iconColorDisabled:j,suffixTextColor:I,countTextColor:L,countTextColorDisabled:N,iconColorHover:H,iconColorPressed:Y,loadingColor:W,loadingColorError:U,loadingColorWarning:V,fontWeight:q,[Ae("padding",e)]:X,[Ae("fontSize",e)]:Q,[Ae("height",e)]:K}}=s.value,{left:Z,right:G}=He(X);return{"--n-bezier":t,"--n-count-text-color":L,"--n-count-text-color-disabled":N,"--n-color":n,"--n-font-size":Q,"--n-font-weight":q,"--n-border-radius":r,"--n-height":K,"--n-padding-left":Z,"--n-padding-right":G,"--n-text-color":o,"--n-caret-color":i,"--n-text-decoration-color":d,"--n-border":c,"--n-border-disabled":u,"--n-border-hover":h,"--n-border-focus":p,"--n-placeholder-color":f,"--n-placeholder-color-disabled":v,"--n-icon-size":x,"--n-line-height-textarea":m,"--n-color-disabled":g,"--n-color-focus":b,"--n-text-color-disabled":w,"--n-box-shadow-focus":y,"--n-loading-color":W,"--n-caret-color-warning":l,"--n-color-focus-warning":k,"--n-box-shadow-focus-warning":C,"--n-border-warning":S,"--n-border-focus-warning":z,"--n-border-hover-warning":$,"--n-loading-color-warning":V,"--n-caret-color-error":a,"--n-color-focus-error":M,"--n-box-shadow-focus-error":A,"--n-border-error":O,"--n-border-focus-error":T,"--n-border-hover-error":P,"--n-loading-color-error":U,"--n-clear-color":F,"--n-clear-size":D,"--n-clear-color-hover":_,"--n-clear-color-pressed":B,"--n-icon-color":E,"--n-icon-color-hover":H,"--n-icon-color-pressed":Y,"--n-icon-color-disabled":j,"--n-suffix-text-color":I}}),de=o?Oe("input",a(()=>{const{value:e}=R;return e[0]}),se,e):void 0;return Object.assign(Object.assign({},ae),{wrapperElRef:c,inputElRef:g,inputMirrorElRef:m,inputEl2Ref:b,textareaElRef:u,textareaMirrorElRef:p,textareaScrollbarInstRef:k,rtlEnabled:le,uncontrolledValue:z,mergedValue:$,passwordVisible:W,mergedPlaceholder:j,showPlaceholder1:I,showPlaceholder2:L,mergedFocus:N,isComposing:_,activated:B,showClearButton:H,mergedSize:R,mergedDisabled:A,textDecorationStyle:U,mergedClsPrefix:t,mergedBordered:r,mergedShowPasswordOn:Y,placeholderStyle:re,mergedStatus:O,textAreaScrollContainerWidth:V,handleTextAreaScroll:function(e){var t;const{scrollTop:n}=e.target;re.value.top=-n+"px",null===(t=k.value)||void 0===t||t.syncUnifiedContainer()},handleCompositionStart:function(){_.value=!0},handleCompositionEnd:function(e){_.value=!1,e.target===b.value?Z(e,1):Z(e,0)},handleInput:Z,handleInputBlur:function(t){!function(t){const{onInputBlur:n}=e;n&&rt(n,t)}(t),t.relatedTarget===c.value&&function(){const{onDeactivate:t}=e;t&&rt(t)}(),(null===t.relatedTarget||t.relatedTarget!==g.value&&t.relatedTarget!==b.value&&t.relatedTarget!==u.value)&&(B.value=!1),G(t,"blur"),w.value=null},handleInputFocus:function(t,n){!function(t){const{onInputFocus:n}=e;n&&rt(n,t)}(t),P.value=!0,B.value=!0,function(){const{onActivate:t}=e;t&&rt(t)}(),G(t,"focus"),0===n?w.value=g.value:1===n?w.value=b.value:2===n&&(w.value=u.value)},handleWrapperBlur:function(t){e.passivelyActivated&&(!function(t){const{onWrapperBlur:n}=e;n&&rt(n,t)}(t),G(t,"blur"))},handleWrapperFocus:function(t){e.passivelyActivated&&(P.value=!0,function(t){const{onWrapperFocus:n}=e;n&&rt(n,t)}(t),G(t,"focus"))},handleMouseEnter:function(){var t;F.value=!0,"textarea"===e.type&&(null===(t=k.value)||void 0===t||t.handleMouseEnterWrapper())},handleMouseLeave:function(){var t;F.value=!1,"textarea"===e.type&&(null===(t=k.value)||void 0===t||t.handleMouseLeaveWrapper())},handleMouseDown:function(t){const{onMousedown:n}=e;n&&n(t);const{tagName:r}=t.target;if("INPUT"!==r&&"TEXTAREA"!==r){if(e.resizable){const{value:e}=c;if(e){const{left:n,top:r,width:o,height:i}=e.getBoundingClientRect(),a=14;if(n+o-a<t.clientX&&t.clientX<n+o&&r+i-a<t.clientY&&t.clientY<r+i)return}}t.preventDefault(),P.value||te()}},handleChange:function(e,t){Z(e,t,"change")},handleClick:function(t){!function(t){const{onClick:n}=e;n&&rt(n,t)}(t)},handleClear:function(t){!function(t){const{onClear:n}=e;n&&rt(n,t)}(t),J()},handlePasswordToggleClick:function(){A.value||"click"===Y.value&&(W.value=!W.value)},handlePasswordToggleMousedown:function(e){if(A.value)return;e.preventDefault();const t=e=>{e.preventDefault(),h("mouseup",document,t)};if(d("mouseup",document,t),"mousedown"!==Y.value)return;W.value=!0;const n=()=>{W.value=!1,h("mouseup",document,n)};d("mouseup",document,n)},handleWrapperKeydown:function(t){switch(e.onKeydown&&rt(e.onKeydown,t),t.key){case"Escape":ee();break;case"Enter":!function(t){var n,r;if(e.passivelyActivated){const{value:o}=B;if(o)return void(e.internalDeactivateOnEnter&&ee());t.preventDefault(),"textarea"===e.type?null===(n=u.value)||void 0===n||n.focus():null===(r=g.value)||void 0===r||r.focus()}}(t)}},handleWrapperKeyup:function(t){e.onKeyup&&rt(e.onKeyup,t)},handleTextAreaMirrorResize:function(){(()=>{var t,n;if("textarea"===e.type){const{autosize:r}=e;if(r&&(V.value=null===(n=null===(t=k.value)||void 0===t?void 0:t.$el)||void 0===n?void 0:n.offsetWidth),!u.value)return;if("boolean"==typeof r)return;const{paddingTop:o,paddingBottom:i,lineHeight:a}=window.getComputedStyle(u.value),l=Number(o.slice(0,-2)),s=Number(i.slice(0,-2)),d=Number(a.slice(0,-2)),{value:c}=p;if(!c)return;if(r.minRows){const e=`${l+s+d*Math.max(r.minRows,1)}px`;c.style.minHeight=e}if(r.maxRows){const e=`${l+s+d*r.maxRows}px`;c.style.maxHeight=e}}})()},getTextareaScrollContainer:()=>u.value,mergedTheme:s,cssVars:o?void 0:se,themeClass:null==de?void 0:de.themeClass,onRender:null==de?void 0:de.onRender})},render(){var e,t,n,r,o,i,a;const{mergedClsPrefix:l,mergedStatus:s,themeClass:d,type:c,countGraphemes:u,onRender:h}=this,p=this.$slots;return null==h||h(),M("div",{ref:"wrapperElRef",class:[`${l}-input`,d,s&&`${l}-input--${s}-status`,{[`${l}-input--rtl`]:this.rtlEnabled,[`${l}-input--disabled`]:this.mergedDisabled,[`${l}-input--textarea`]:"textarea"===c,[`${l}-input--resizable`]:this.resizable&&!this.autosize,[`${l}-input--autosize`]:this.autosize,[`${l}-input--round`]:this.round&&!("textarea"===c),[`${l}-input--pair`]:this.pair,[`${l}-input--focus`]:this.mergedFocus,[`${l}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:this.mergedDisabled||!this.passivelyActivated||this.activated?void 0:0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.handleWrapperKeyup,onKeydown:this.handleWrapperKeydown},M("div",{class:`${l}-input-wrapper`},Ee(p.prefix,e=>e&&M("div",{class:`${l}-input__prefix`},e)),"textarea"===c?M(Ie,{ref:"textareaScrollbarInstRef",class:`${l}-input__textarea`,container:this.getTextareaScrollContainer,theme:null===(t=null===(e=this.theme)||void 0===e?void 0:e.peers)||void 0===t?void 0:t.Scrollbar,themeOverrides:null===(r=null===(n=this.themeOverrides)||void 0===n?void 0:n.peers)||void 0===r?void 0:r.Scrollbar,triggerDisplayManually:!0,useUnifiedContainer:!0,internalHoistYRail:!0},{default:()=>{var e,t;const{textAreaScrollContainerWidth:n}=this,r={width:this.autosize&&n&&`${n}px`};return M(Ze,null,M("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:[`${l}-input__textarea-el`,null===(e=this.inputProps)||void 0===e?void 0:e.class],autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:u?void 0:this.maxlength,minlength:u?void 0:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:[this.textDecorationStyle[0],null===(t=this.inputProps)||void 0===t?void 0:t.style,r],onBlur:this.handleInputBlur,onFocus:e=>{this.handleInputFocus(e,2)},onInput:this.handleInput,onChange:this.handleChange,onScroll:this.handleTextAreaScroll})),this.showPlaceholder1?M("div",{class:`${l}-input__placeholder`,style:[this.placeholderStyle,r],key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?M(F,{onResize:this.handleTextAreaMirrorResize},{default:()=>M("div",{ref:"textareaMirrorElRef",class:`${l}-input__textarea-mirror`,key:"mirror"})}):null)}}):M("div",{class:`${l}-input__input`},M("input",Object.assign({type:"password"===c&&this.mergedShowPasswordOn&&this.passwordVisible?"text":c},this.inputProps,{ref:"inputElRef",class:[`${l}-input__input-el`,null===(o=this.inputProps)||void 0===o?void 0:o.class],style:[this.textDecorationStyle[0],null===(i=this.inputProps)||void 0===i?void 0:i.style],tabindex:this.passivelyActivated&&!this.activated?-1:null===(a=this.inputProps)||void 0===a?void 0:a.tabindex,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:u?void 0:this.maxlength,minlength:u?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:e=>{this.handleInputFocus(e,0)},onInput:e=>{this.handleInput(e,0)},onChange:e=>{this.handleChange(e,0)}})),this.showPlaceholder1?M("div",{class:`${l}-input__placeholder`},M("span",null,this.mergedPlaceholder[0])):null,this.autosize?M("div",{class:`${l}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"}," "):null),!this.pair&&Ee(p.suffix,e=>e||this.clearable||this.showCount||this.mergedShowPasswordOn||void 0!==this.loading?M("div",{class:`${l}-input__suffix`},[Ee(p["clear-icon-placeholder"],e=>(this.clearable||e)&&M(Ua,{clsPrefix:l,show:this.showClearButton,onClear:this.handleClear},{placeholder:()=>e,icon:()=>{var e,t;return null===(t=(e=this.$slots)["clear-icon"])||void 0===t?void 0:t.call(e)}})),this.internalLoadingBeforeSuffix?null:e,void 0!==this.loading?M(Yl,{clsPrefix:l,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.internalLoadingBeforeSuffix?e:null,this.showCount&&"textarea"!==this.type?M(ts,null,{default:e=>{var t;const{renderCount:n}=this;return n?n(e):null===(t=p.count)||void 0===t?void 0:t.call(p,e)}}):null,this.mergedShowPasswordOn&&"password"===this.type?M("div",{class:`${l}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},this.passwordVisible?Se(p["password-visible-icon"],()=>[M($e,{clsPrefix:l},{default:()=>M(Pa,null)})]):Se(p["password-invisible-icon"],()=>[M($e,{clsPrefix:l},{default:()=>M(Da,null)})])):null]):null)),this.pair?M("span",{class:`${l}-input__separator`},Se(p.separator,()=>[this.separator])):null,this.pair?M("div",{class:`${l}-input-wrapper`},M("div",{class:`${l}-input__input`},M("input",{ref:"inputEl2Ref",type:this.type,class:`${l}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:u?void 0:this.maxlength,minlength:u?void 0:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:e=>{this.handleInputFocus(e,1)},onInput:e=>{this.handleInput(e,1)},onChange:e=>{this.handleChange(e,1)}}),this.showPlaceholder2?M("div",{class:`${l}-input__placeholder`},M("span",null,this.mergedPlaceholder[1])):null),Ee(p.suffix,e=>(this.clearable||e)&&M("div",{class:`${l}-input__suffix`},[this.clearable&&M(Ua,{clsPrefix:l,show:this.showClearButton,onClear:this.handleClear},{icon:()=>{var e;return null===(e=p["clear-icon"])||void 0===e?void 0:e.call(p)},placeholder:()=>{var e;return null===(e=p["clear-icon-placeholder"])||void 0===e?void 0:e.call(p)}}),e]))):null,this.mergedBordered?M("div",{class:`${l}-input__border`}):null,this.mergedBordered?M("div",{class:`${l}-input__state-border`}):null,this.showCount&&"textarea"===c?M(ts,null,{default:e=>{var t;const{renderCount:n}=this;return n?n(e):null===(t=p.count)||void 0===t?void 0:t.call(p,e)}}):null)}}),os=we("input-group","\n display: inline-flex;\n width: 100%;\n flex-wrap: nowrap;\n vertical-align: bottom;\n",[ye(">",[we("input",[ye("&:not(:last-child)","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n "),ye("&:not(:first-child)","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n margin-left: -1px!important;\n ")]),we("button",[ye("&:not(:last-child)","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n ",[xe("state-border, border","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n ")]),ye("&:not(:first-child)","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n ",[xe("state-border, border","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n ")])]),ye("*",[ye("&:not(:last-child)","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n ",[ye(">",[we("input","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n "),we("base-selection",[we("base-selection-label","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n "),we("base-selection-tags","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n "),xe("box-shadow, border, state-border","\n border-top-right-radius: 0!important;\n border-bottom-right-radius: 0!important;\n ")])])]),ye("&:not(:first-child)","\n margin-left: -1px!important;\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n ",[ye(">",[we("input","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n "),we("base-selection",[we("base-selection-label","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n "),we("base-selection-tags","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n "),xe("box-shadow, border, state-border","\n border-top-left-radius: 0!important;\n border-bottom-left-radius: 0!important;\n ")])])])])])]),is=x({name:"InputGroup",props:{},setup(e){const{mergedClsPrefixRef:t}=Me(e);return ze("-input-group",os,t),{mergedClsPrefix:t}},render(){const{mergedClsPrefix:e}=this;return M("div",{class:`${e}-input-group`},this.$slots)}});function as(e){return"group"===e.type}function ls(e){return"ignored"===e.type}function ss(e,t){try{return!!(1+t.toString().toLowerCase().indexOf(e.trim().toLowerCase()))}catch(xr){return!1}}function ds(e,t){return{getIsGroup:as,getIgnored:ls,getKey:t=>as(t)?t.name||t.key||"key-required":t[e],getChildren:e=>e[t]}}const cs=gt&&"loading"in document.createElement("img");const us=new WeakMap,hs=new WeakMap,ps=new WeakMap,fs=(e,t,n)=>{if(!e)return()=>{};const r=function(e={}){var t;const{root:n=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):null!==(t=e.threshold)&&void 0!==t?t:"0"}`,options:Object.assign(Object.assign({},e),{root:("string"==typeof n?document.querySelector(n):n)||document.documentElement})}}(t),{root:o}=r.options;let i;const a=us.get(o);let l,s;a?i=a:(i=new Map,us.set(o,i)),i.has(r.hash)?(s=i.get(r.hash),s[1].has(e)||(l=s[0],s[1].add(e),l.observe(e))):(l=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=hs.get(e.target),n=ps.get(e.target);t&&t(),n&&(n.value=!0)}})},r.options),l.observe(e),s=[l,new Set([e])],i.set(r.hash,s));let d=!1;const c=()=>{d||(hs.delete(e),ps.delete(e),d=!0,s[1].has(e)&&(s[0].unobserve(e),s[1].delete(e)),s[1].size<=0&&i.delete(r.hash),i.size||us.delete(o))};return hs.set(e,c),ps.set(e,n),c},vs=p("n-avatar-group"),ms=we("avatar","\n width: var(--n-merged-size);\n height: var(--n-merged-size);\n color: #FFF;\n font-size: var(--n-font-size);\n display: inline-flex;\n position: relative;\n overflow: hidden;\n text-align: center;\n border: var(--n-border);\n border-radius: var(--n-border-radius);\n --n-merged-color: var(--n-color);\n background-color: var(--n-merged-color);\n transition:\n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n",[bt(ye("&","--n-merged-color: var(--n-color-modal);")),wt(ye("&","--n-merged-color: var(--n-color-popover);")),ye("img","\n width: 100%;\n height: 100%;\n "),xe("text","\n white-space: nowrap;\n display: inline-block;\n position: absolute;\n left: 50%;\n top: 50%;\n "),we("icon","\n vertical-align: bottom;\n font-size: calc(var(--n-merged-size) - 6px);\n "),xe("text","line-height: 1.25")]),gs=Object.assign(Object.assign({},Re.props),{size:[String,Number],src:String,circle:{type:Boolean,default:void 0},objectFit:String,round:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},onError:Function,fallbackSrc:String,intersectionObserverOptions:Object,lazy:Boolean,onLoad:Function,renderPlaceholder:Function,renderFallback:Function,imgProps:Object,color:String}),bs=x({name:"Avatar",props:gs,slots:Object,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:o}=Me(e),l=f(!1);let s=null;const d=f(null),c=f(null),u=m(vs,null),h=a(()=>{const{size:t}=e;if(t)return t;const{size:n}=u||{};return n||"medium"}),p=Re("Avatar","-avatar",ms,yt,e,t),v=m(Nl,null),g=a(()=>{if(u)return!0;const{round:t,circle:n}=e;return void 0!==t||void 0!==n?t||n:!!v&&v.roundRef.value}),b=a(()=>!!u||(e.bordered||!1)),w=a(()=>{const t=h.value,n=g.value,r=b.value,{color:o}=e,{self:{borderRadius:i,fontSize:a,color:l,border:s,colorModal:d,colorPopover:c},common:{cubicBezierEaseInOut:u}}=p.value;let f;return f="number"==typeof t?`${t}px`:p.value.self[Ae("height",t)],{"--n-font-size":a,"--n-border":r?s:"none","--n-border-radius":n?"50%":i,"--n-color":o||l,"--n-color-modal":o||d,"--n-color-popover":o||c,"--n-bezier":u,"--n-merged-size":`var(--n-avatar-size-override, ${f})`}}),y=o?Oe("avatar",a(()=>{const t=h.value,n=g.value,r=b.value,{color:o}=e;let i="";return t&&(i+="number"==typeof t?`a${t}`:t[0]),n&&(i+="b"),r&&(i+="c"),o&&(i+=it(o)),i}),w,e):void 0,x=f(!e.lazy);n(()=>{if(e.lazy&&e.intersectionObserverOptions){let t;const n=We(()=>{null==t||t(),t=void 0,e.lazy&&(t=fs(c.value,e.intersectionObserverOptions,x))});r(()=>{n(),null==t||t()})}}),i(()=>{var t;return e.src||(null===(t=e.imgProps)||void 0===t?void 0:t.src)},()=>{l.value=!1});const k=f(!e.lazy);return{textRef:d,selfRef:c,mergedRoundRef:g,mergedClsPrefix:t,fitTextTransform:()=>{const{value:e}=d;if(e&&(null===s||s!==e.innerHTML)){s=e.innerHTML;const{value:t}=c;if(t){const{offsetWidth:n,offsetHeight:r}=t,{offsetWidth:o,offsetHeight:i}=e,a=.9,l=Math.min(n/o*a,r/i*a,1);e.style.transform=`translateX(-50%) translateY(-50%) scale(${l})`}}},cssVars:o?void 0:w,themeClass:null==y?void 0:y.themeClass,onRender:null==y?void 0:y.onRender,hasLoadError:l,shouldStartLoading:x,loaded:k,mergedOnError:t=>{if(!x.value)return;l.value=!0;const{onError:n,imgProps:{onError:r}={}}=e;null==n||n(t),null==r||r(t)},mergedOnLoad:t=>{const{onLoad:n,imgProps:{onLoad:r}={}}=e;null==n||n(t),null==r||r(t),k.value=!0}}},render(){var e,t;const{$slots:n,src:r,mergedClsPrefix:o,lazy:i,onRender:a,loaded:l,hasLoadError:s,imgProps:d={}}=this;let c;null==a||a();const u=!l&&!s&&(this.renderPlaceholder?this.renderPlaceholder():null===(t=(e=this.$slots).placeholder)||void 0===t?void 0:t.call(e));return c=this.hasLoadError?this.renderFallback?this.renderFallback():Se(n.fallback,()=>[M("img",{src:this.fallbackSrc,style:{objectFit:this.objectFit}})]):Ee(n.default,e=>{if(e)return M(F,{onResize:this.fitTextTransform},{default:()=>M("span",{ref:"textRef",class:`${o}-avatar__text`},e)});if(r||d.src){const e=this.src||d.src;return M("img",Object.assign(Object.assign({},d),{loading:cs&&!this.intersectionObserverOptions&&i?"lazy":"eager",src:i&&this.intersectionObserverOptions?this.shouldStartLoading?e:void 0:e,"data-image-src":e,onLoad:this.mergedOnLoad,onError:this.mergedOnError,style:[d.style||"",{objectFit:this.objectFit},u?{height:"0",width:"0",visibility:"hidden",position:"absolute"}:""]}))}}),M("span",{ref:"selfRef",class:[`${o}-avatar`,this.themeClass],style:this.cssVars},c,i&&u)}}),ws=ye([ye("@keyframes badge-wave-spread",{from:{boxShadow:"0 0 0.5px 0px var(--n-ripple-color)",opacity:.6},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)",opacity:0}}),we("badge","\n display: inline-flex;\n position: relative;\n vertical-align: middle;\n font-family: var(--n-font-family);\n ",[Fe("as-is",[we("badge-sup",{position:"static",transform:"translateX(0)"},[Be({transformOrigin:"left bottom",originalTransform:"translateX(0)"})])]),Fe("dot",[we("badge-sup","\n height: 8px;\n width: 8px;\n padding: 0;\n min-width: 8px;\n left: 100%;\n bottom: calc(100% - 4px);\n ",[ye("::before","border-radius: 4px;")])]),we("badge-sup","\n background: var(--n-color);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n color: #FFF;\n position: absolute;\n height: 18px;\n line-height: 18px;\n border-radius: 9px;\n padding: 0 6px;\n text-align: center;\n font-size: var(--n-font-size);\n transform: translateX(-50%);\n left: 100%;\n bottom: calc(100% - 9px);\n font-variant-numeric: tabular-nums;\n z-index: 2;\n display: flex;\n align-items: center;\n ",[Be({transformOrigin:"left bottom",originalTransform:"translateX(-50%)"}),we("base-wave",{zIndex:1,animationDuration:"2s",animationIterationCount:"infinite",animationDelay:"1s",animationTimingFunction:"var(--n-ripple-bezier)",animationName:"badge-wave-spread"}),ye("&::before",'\n opacity: 0;\n transform: scale(1);\n border-radius: 9px;\n content: "";\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n ')])])]),ys=Object.assign(Object.assign({},Re.props),{value:[String,Number],max:Number,dot:Boolean,type:{type:String,default:"default"},show:{type:Boolean,default:!0},showZero:Boolean,processing:Boolean,color:String,offset:Array}),xs=x({name:"Badge",props:ys,setup(e,{slots:t}){const{mergedClsPrefixRef:r,inlineThemeDisabled:o,mergedRtlRef:i}=Me(e),l=Re("Badge","-badge",ws,kt,e,r),s=f(!1),d=a(()=>e.show&&(e.dot||void 0!==e.value&&!(!e.showZero&&Number(e.value)<=0)||!Qe(t.value)));n(()=>{d.value&&(s.value=!0)});const c=Le("Badge",i,r),u=a(()=>{const{type:t,color:n}=e,{common:{cubicBezierEaseInOut:r,cubicBezierEaseOut:o},self:{[Ae("color",t)]:i,fontFamily:a,fontSize:s}}=l.value;return{"--n-font-size":s,"--n-font-family":a,"--n-color":n||i,"--n-ripple-color":n||i,"--n-bezier":r,"--n-ripple-bezier":o}}),h=o?Oe("badge",a(()=>{let t="";const{type:n,color:r}=e;return n&&(t+=n[0]),r&&(t+=it(r)),t}),u,e):void 0,p=a(()=>{const{offset:t}=e;if(!t)return;const[n,r]=t,o="number"==typeof n?`${n}px`:n,i="number"==typeof r?`${r}px`:r;return{transform:`translate(calc(${(null==c?void 0:c.value)?"50%":"-50%"} + ${o}), ${i})`}});return{rtlEnabled:c,mergedClsPrefix:r,appeared:s,showBadge:d,handleAfterEnter:()=>{s.value=!0},handleAfterLeave:()=>{s.value=!1},cssVars:o?void 0:u,themeClass:null==h?void 0:h.themeClass,onRender:null==h?void 0:h.onRender,offsetStyle:p}},render(){var e;const{mergedClsPrefix:t,onRender:n,themeClass:r,$slots:o}=this;null==n||n();const i=null===(e=o.default)||void 0===e?void 0:e.call(o);return M("div",{class:[`${t}-badge`,this.rtlEnabled&&`${t}-badge--rtl`,r,{[`${t}-badge--dot`]:this.dot,[`${t}-badge--as-is`]:!i}],style:this.cssVars},i,M(De,{name:"fade-in-scale-up-transition",onAfterEnter:this.handleAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>this.showBadge?M("sup",{class:`${t}-badge-sup`,title:wo(this.value),style:this.offsetStyle},Se(o.value,()=>[this.dot?null:M(Ql,{clsPrefix:t,appeared:this.appeared,max:this.max,value:this.value})]),this.processing?M(xt,{clsPrefix:t}):null):null}))}});function ks(e,t,n){const r=Ct(e,null==n?void 0:n.in);return isNaN(t)?St((null==n?void 0:n.in)||e,NaN):t?(r.setDate(r.getDate()+t),r):r}function Cs(e,t,n){const r=Ct(e,null==n?void 0:n.in);if(isNaN(t))return St(e,NaN);if(!t)return r;const o=r.getDate(),i=St(e,r.getTime());i.setMonth(r.getMonth()+t+1,0);return o>=i.getDate()?i:(r.setFullYear(i.getFullYear(),i.getMonth(),o),r)}function Ss(e,t){return zt(e,{...t,weekStartsOn:1})}function zs(e,t){const n=Ct(e,null==t?void 0:t.in),r=n.getFullYear(),o=St(n,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const i=Ss(o),a=St(n,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const l=Ss(a);return n.getTime()>=i.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function $s(e){const t=Ct(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Ms(e,t){const n=Ct(e,null==t?void 0:t.in);return n.setHours(0,0,0,0),n}function Rs(e,t,n){return Cs(e,3*t,n)}function As(e,t,n){return Cs(e,12*t,n)}function Os(e){return!(!((t=e)instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t))&&"number"!=typeof e||isNaN(+Ct(e)));var t}function Ts(e,t){const n=Ct(e,null==t?void 0:t.in);return Math.trunc(n.getMonth()/3)+1}function Ps(e,t){const n=Ct(e,null==t?void 0:t.in),r=n.getMonth(),o=r-r%3;return n.setMonth(o,1),n.setHours(0,0,0,0),n}function Ds(e,t){const n=Ct(e,null==t?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Fs(e,t){const n=Ct(e,null==t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function _s(e,t){const n=Ct(e,null==t?void 0:t.in),r=function(e,t,n){const[r,o]=$t(null==n?void 0:n.in,e,t),i=Ms(r),a=Ms(o),l=+i-$s(i),s=+a-$s(a);return Math.round((l-s)/Mt)}(n,Fs(n));return r+1}function Bs(e,t){const n=Ct(e,null==t?void 0:t.in),r=+Ss(n)-+function(e,t){const n=zs(e,t),r=St(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ss(r)}(n);return Math.round(r/Rt)+1}function Es(e,t){var n,r,o,i;const a=Ct(e,null==t?void 0:t.in),l=a.getFullYear(),s=At(),d=(null==t?void 0:t.firstWeekContainsDate)??(null==(r=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:r.firstWeekContainsDate)??s.firstWeekContainsDate??(null==(i=null==(o=s.locale)?void 0:o.options)?void 0:i.firstWeekContainsDate)??1,c=St((null==t?void 0:t.in)||e,0);c.setFullYear(l+1,0,d),c.setHours(0,0,0,0);const u=zt(c,t),h=St((null==t?void 0:t.in)||e,0);h.setFullYear(l,0,d),h.setHours(0,0,0,0);const p=zt(h,t);return+a>=+u?l+1:+a>=+p?l:l-1}function js(e,t){const n=Ct(e,null==t?void 0:t.in),r=+zt(n,t)-+function(e,t){var n,r,o,i;const a=At(),l=(null==t?void 0:t.firstWeekContainsDate)??(null==(r=null==(n=null==t?void 0:t.locale)?void 0:n.options)?void 0:r.firstWeekContainsDate)??a.firstWeekContainsDate??(null==(i=null==(o=a.locale)?void 0:o.options)?void 0:i.firstWeekContainsDate)??1,s=Es(e,t),d=St((null==t?void 0:t.in)||e,0);return d.setFullYear(s,0,l),d.setHours(0,0,0,0),zt(d,t)}(n,t);return Math.round(r/Rt)+1}function Is(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Ls={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Is("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):Is(n+1,2)},d:(e,t)=>Is(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>Is(e.getHours()%12||12,t.length),H:(e,t)=>Is(e.getHours(),t.length),m:(e,t)=>Is(e.getMinutes(),t.length),s:(e,t)=>Is(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return Is(Math.trunc(r*Math.pow(10,n-3)),t.length)}},Ns="midnight",Hs="noon",Ys="morning",Ws="afternoon",Us="evening",Vs="night",qs={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return Ls.y(e,t)},Y:function(e,t,n,r){const o=Es(e,r),i=o>0?o:1-o;if("YY"===t){return Is(i%100,2)}return"Yo"===t?n.ordinalNumber(i,{unit:"year"}):Is(i,t.length)},R:function(e,t){return Is(zs(e),t.length)},u:function(e,t){return Is(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Is(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Is(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ls.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Is(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const o=js(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):Is(o,t.length)},I:function(e,t,n){const r=Bs(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Is(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Ls.d(e,t)},D:function(e,t,n){const r=_s(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Is(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const o=e.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Is(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const o=e.getDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Is(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return Is(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let o;switch(o=12===r?Hs:0===r?Ns:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let o;switch(o=r>=17?Us:r>=12?Ws:r>=4?Ys:Vs,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Ls.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ls.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Is(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Is(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ls.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ls.s(e,t)},S:function(e,t){return Ls.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return Qs(r);case"XXXX":case"XX":return Ks(r);default:return Ks(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Qs(r);case"xxxx":case"xx":return Ks(r);default:return Ks(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Xs(r,":");default:return"GMT"+Ks(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Xs(r,":");default:return"GMT"+Ks(r,":")}},t:function(e,t,n){return Is(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return Is(+e,t.length)}};function Xs(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.trunc(r/60),i=r%60;return 0===i?n+String(o):n+String(o)+t+Is(i,2)}function Qs(e,t){if(e%60==0){return(e>0?"-":"+")+Is(Math.abs(e)/60,2)}return Ks(e,t)}function Ks(e,t=""){const n=e>0?"-":"+",r=Math.abs(e);return n+Is(Math.trunc(r/60),2)+t+Is(r%60,2)}const Zs=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Gs=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Js={p:Gs,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return Zs(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;default:i=t.dateTime({width:"full"})}return i.replace("{{date}}",Zs(r,t)).replace("{{time}}",Gs(o,t))}},ed=/^D+$/,td=/^Y+$/,nd=["D","DD","YY","YYYY"];function rd(e){return ed.test(e)}function od(e){return td.test(e)}function id(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,n);if(nd.includes(e))throw new RangeError(r)}const ad=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ld=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sd=/^'([^]*?)'?$/,dd=/''/g,cd=/[a-zA-Z]/;function ud(e,t,n){var r,o,i,a,l,s,d,c;const u=At(),h=(null==n?void 0:n.locale)??u.locale??Ot,p=(null==n?void 0:n.firstWeekContainsDate)??(null==(o=null==(r=null==n?void 0:n.locale)?void 0:r.options)?void 0:o.firstWeekContainsDate)??u.firstWeekContainsDate??(null==(a=null==(i=u.locale)?void 0:i.options)?void 0:a.firstWeekContainsDate)??1,f=(null==n?void 0:n.weekStartsOn)??(null==(s=null==(l=null==n?void 0:n.locale)?void 0:l.options)?void 0:s.weekStartsOn)??u.weekStartsOn??(null==(c=null==(d=u.locale)?void 0:d.options)?void 0:c.weekStartsOn)??0,v=Ct(e,null==n?void 0:n.in);if(!Os(v))throw new RangeError("Invalid time value");let m=t.match(ld).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,Js[t])(e,h.formatLong)}return e}).join("").match(ad).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:hd(e)};if(qs[t])return{isToken:!0,value:e};if(t.match(cd))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});h.localize.preprocessor&&(m=h.localize.preprocessor(v,m));const g={firstWeekContainsDate:p,weekStartsOn:f,locale:h};return m.map(r=>{if(!r.isToken)return r.value;const o=r.value;(!(null==n?void 0:n.useAdditionalWeekYearTokens)&&od(o)||!(null==n?void 0:n.useAdditionalDayOfYearTokens)&&rd(o))&&id(o,t,String(e));return(0,qs[o[0]])(v,o,h.localize,g)}).join("")}function hd(e){const t=e.match(sd);return t?t[1].replace(dd,"'"):e}function pd(e,t){return Ct(e,null==t?void 0:t.in).getDate()}function fd(e,t){return Ct(e,null==t?void 0:t.in).getDay()}function vd(){return Object.assign({},At())}function md(e,t){return Ct(e,null==t?void 0:t.in).getHours()}function gd(e,t){return Ct(e,null==t?void 0:t.in).getMinutes()}function bd(e,t){return Ct(e,null==t?void 0:t.in).getMonth()}function wd(e){return Ct(e).getSeconds()}function yd(e){return+Ct(e)}function xd(e,t){return Ct(e,null==t?void 0:t.in).getFullYear()}class kd{constructor(){t(this,"subPriority",0)}validate(e,t){return!0}}class Cd extends kd{constructor(e,t,n,r,o){super(),this.value=e,this.validateValue=t,this.setValue=n,this.priority=r,o&&(this.subPriority=o)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,n){return this.setValue(e,t,this.value,n)}}class Sd extends kd{constructor(e,n){super(),t(this,"priority",10),t(this,"subPriority",-1),this.context=e||(e=>St(n,e))}set(e,t){return t.timestampIsSet?e:St(e,function(e,t){const n=function(e){var t;return"function"==typeof e&&(null==(t=e.prototype)?void 0:t.constructor)===e}(t)?new t(0):St(t,0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}(e,this.context))}}class zd{run(e,t,n,r){const o=this.parse(e,t,n,r);return o?{setter:new Cd(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(e,t,n){return!0}}const $d=/^(1[0-2]|0?\d)/,Md=/^(3[0-1]|[0-2]?\d)/,Rd=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Ad=/^(5[0-3]|[0-4]?\d)/,Od=/^(2[0-3]|[0-1]?\d)/,Td=/^(2[0-4]|[0-1]?\d)/,Pd=/^(1[0-1]|0?\d)/,Dd=/^(1[0-2]|0?\d)/,Fd=/^[0-5]?\d/,_d=/^[0-5]?\d/,Bd=/^\d/,Ed=/^\d{1,2}/,jd=/^\d{1,3}/,Id=/^\d{1,4}/,Ld=/^-?\d+/,Nd=/^-?\d/,Hd=/^-?\d{1,2}/,Yd=/^-?\d{1,3}/,Wd=/^-?\d{1,4}/,Ud=/^([+-])(\d{2})(\d{2})?|Z/,Vd=/^([+-])(\d{2})(\d{2})|Z/,qd=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Xd=/^([+-])(\d{2}):(\d{2})|Z/,Qd=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Kd(e,t){return e?{value:t(e.value),rest:e.rest}:e}function Zd(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Gd(e,t){const n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};const r="+"===n[1]?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,a=n[5]?parseInt(n[5],10):0;return{value:r*(o*Tt+i*Pt+a*Dt),rest:t.slice(n[0].length)}}function Jd(e){return Zd(Ld,e)}function ec(e,t){switch(e){case 1:return Zd(Bd,t);case 2:return Zd(Ed,t);case 3:return Zd(jd,t);case 4:return Zd(Id,t);default:return Zd(new RegExp("^\\d{1,"+e+"}"),t)}}function tc(e,t){switch(e){case 1:return Zd(Nd,t);case 2:return Zd(Hd,t);case 3:return Zd(Yd,t);case 4:return Zd(Wd,t);default:return Zd(new RegExp("^-?\\d{1,"+e+"}"),t)}}function nc(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function rc(e,t){const n=t>0,r=n?t:1-t;let o;if(r<=50)o=e||100;else{const t=r+50;o=e+100*Math.trunc(t/100)-(e>=t%100?100:0)}return n?o:1-o}function oc(e){return e%400==0||e%4==0&&e%100!=0}const ic=[31,28,31,30,31,30,31,31,30,31,30,31],ac=[31,29,31,30,31,30,31,31,30,31,30,31];function lc(e,t,n){var r,o,i,a;const l=At(),s=(null==n?void 0:n.weekStartsOn)??(null==(o=null==(r=null==n?void 0:n.locale)?void 0:r.options)?void 0:o.weekStartsOn)??l.weekStartsOn??(null==(a=null==(i=l.locale)?void 0:i.options)?void 0:a.weekStartsOn)??0,d=Ct(e,null==n?void 0:n.in),c=d.getDay(),u=7-s;return ks(d,t<0||t>6?t-(c+u)%7:((t%7+7)%7+u)%7-(c+u)%7,n)}function sc(e,t,n){const r=Ct(e,null==n?void 0:n.in),o=function(e,t){const n=Ct(e,null==t?void 0:t.in).getDay();return 0===n?7:n}(r,n);return ks(r,t-o,n)}const dc={G:new class extends zd{constructor(){super(...arguments),t(this,"priority",140),t(this,"incompatibleTokens",["R","u","t","T"])}parse(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}set(e,t,n){return t.era=n,e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}},y:new class extends zd{constructor(){super(...arguments),t(this,"priority",130),t(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return Kd(ec(4,e),r);case"yo":return Kd(n.ordinalNumber(e,{unit:"year"}),r);default:return Kd(ec(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n){const r=e.getFullYear();if(n.isTwoDigitYear){const t=rc(n.year,r);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}const o="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}},Y:new class extends zd{constructor(){super(...arguments),t(this,"priority",130),t(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,t,n){const r=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return Kd(ec(4,e),r);case"Yo":return Kd(n.ordinalNumber(e,{unit:"year"}),r);default:return Kd(ec(t.length,e),r)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,n,r){const o=Es(e,r);if(n.isTwoDigitYear){const t=rc(n.year,o);return e.setFullYear(t,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),zt(e,r)}const i="era"in t&&1!==t.era?1-n.year:n.year;return e.setFullYear(i,0,r.firstWeekContainsDate),e.setHours(0,0,0,0),zt(e,r)}},R:new class extends zd{constructor(){super(...arguments),t(this,"priority",130),t(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,t){return tc("R"===t?4:t.length,e)}set(e,t,n){const r=St(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Ss(r)}},u:new class extends zd{constructor(){super(...arguments),t(this,"priority",130),t(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,t){return tc("u"===t?4:t.length,e)}set(e,t,n){return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}},Q:new class extends zd{constructor(){super(...arguments),t(this,"priority",120),t(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"Q":case"QQ":return ec(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}},q:new class extends zd{constructor(){super(...arguments),t(this,"priority",120),t(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"q":case"qq":return ec(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,n){return e.setMonth(3*(n-1),1),e.setHours(0,0,0,0),e}},M:new class extends zd{constructor(){super(...arguments),t(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),t(this,"priority",110)}parse(e,t,n){const r=e=>e-1;switch(t){case"M":return Kd(Zd($d,e),r);case"MM":return Kd(ec(2,e),r);case"Mo":return Kd(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},L:new class extends zd{constructor(){super(...arguments),t(this,"priority",110),t(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,t,n){const r=e=>e-1;switch(t){case"L":return Kd(Zd($d,e),r);case"LL":return Kd(ec(2,e),r);case"Lo":return Kd(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.setMonth(n,1),e.setHours(0,0,0,0),e}},w:new class extends zd{constructor(){super(...arguments),t(this,"priority",100),t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,t,n){switch(t){case"w":return Zd(Ad,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return ec(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n,r){return zt(function(e,t,n){const r=Ct(e,null==n?void 0:n.in),o=js(r,n)-t;return r.setDate(r.getDate()-7*o),Ct(r,null==n?void 0:n.in)}(e,n,r),r)}},I:new class extends zd{constructor(){super(...arguments),t(this,"priority",100),t(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,t,n){switch(t){case"I":return Zd(Ad,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return ec(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,n){return Ss(function(e,t,n){const r=Ct(e,null==n?void 0:n.in),o=Bs(r,n)-t;return r.setDate(r.getDate()-7*o),r}(e,n))}},d:new class extends zd{constructor(){super(...arguments),t(this,"priority",90),t(this,"subPriority",1),t(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"d":return Zd(Md,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return ec(t.length,e)}}validate(e,t){const n=oc(e.getFullYear()),r=e.getMonth();return n?t>=1&&t<=ac[r]:t>=1&&t<=ic[r]}set(e,t,n){return e.setDate(n),e.setHours(0,0,0,0),e}},D:new class extends zd{constructor(){super(...arguments),t(this,"priority",90),t(this,"subpriority",1),t(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,t,n){switch(t){case"D":case"DD":return Zd(Rd,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return ec(t.length,e)}}validate(e,t){return oc(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,n){return e.setMonth(0,n),e.setHours(0,0,0,0),e}},E:new class extends zd{constructor(){super(...arguments),t(this,"priority",90),t(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=lc(e,n,r)).setHours(0,0,0,0),e}},e:new class extends zd{constructor(){super(...arguments),t(this,"priority",90),t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,t,n,r){const o=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return Kd(ec(t.length,e),o);case"eo":return Kd(n.ordinalNumber(e,{unit:"day"}),o);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=lc(e,n,r)).setHours(0,0,0,0),e}},c:new class extends zd{constructor(){super(...arguments),t(this,"priority",90),t(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,t,n,r){const o=e=>{const t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return Kd(ec(t.length,e),o);case"co":return Kd(n.ordinalNumber(e,{unit:"day"}),o);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,n,r){return(e=lc(e,n,r)).setHours(0,0,0,0),e}},i:new class extends zd{constructor(){super(...arguments),t(this,"priority",90),t(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,t,n){const r=e=>0===e?7:e;switch(t){case"i":case"ii":return ec(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return Kd(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return Kd(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return Kd(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return Kd(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}validate(e,t){return t>=1&&t<=7}set(e,t,n){return(e=sc(e,n)).setHours(0,0,0,0),e}},a:new class extends zd{constructor(){super(...arguments),t(this,"priority",80),t(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(nc(n),0,0,0),e}},b:new class extends zd{constructor(){super(...arguments),t(this,"priority",80),t(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(nc(n),0,0,0),e}},B:new class extends zd{constructor(){super(...arguments),t(this,"priority",80),t(this,"incompatibleTokens",["a","b","t","T"])}parse(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,n){return e.setHours(nc(n),0,0,0),e}},h:new class extends zd{constructor(){super(...arguments),t(this,"priority",70),t(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,t,n){switch(t){case"h":return Zd(Dd,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return ec(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,n){const r=e.getHours()>=12;return r&&n<12?e.setHours(n+12,0,0,0):r||12!==n?e.setHours(n,0,0,0):e.setHours(0,0,0,0),e}},H:new class extends zd{constructor(){super(...arguments),t(this,"priority",70),t(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,t,n){switch(t){case"H":return Zd(Od,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return ec(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,n){return e.setHours(n,0,0,0),e}},K:new class extends zd{constructor(){super(...arguments),t(this,"priority",70),t(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,t,n){switch(t){case"K":return Zd(Pd,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return ec(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,n){return e.getHours()>=12&&n<12?e.setHours(n+12,0,0,0):e.setHours(n,0,0,0),e}},k:new class extends zd{constructor(){super(...arguments),t(this,"priority",70),t(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,t,n){switch(t){case"k":return Zd(Td,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return ec(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,n){const r=n<=24?n%24:n;return e.setHours(r,0,0,0),e}},m:new class extends zd{constructor(){super(...arguments),t(this,"priority",60),t(this,"incompatibleTokens",["t","T"])}parse(e,t,n){switch(t){case"m":return Zd(Fd,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return ec(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setMinutes(n,0,0),e}},s:new class extends zd{constructor(){super(...arguments),t(this,"priority",50),t(this,"incompatibleTokens",["t","T"])}parse(e,t,n){switch(t){case"s":return Zd(_d,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return ec(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,n){return e.setSeconds(n,0),e}},S:new class extends zd{constructor(){super(...arguments),t(this,"priority",30),t(this,"incompatibleTokens",["t","T"])}parse(e,t){return Kd(ec(t.length,e),e=>Math.trunc(e*Math.pow(10,3-t.length)))}set(e,t,n){return e.setMilliseconds(n),e}},X:new class extends zd{constructor(){super(...arguments),t(this,"priority",10),t(this,"incompatibleTokens",["t","T","x"])}parse(e,t){switch(t){case"X":return Gd(Ud,e);case"XX":return Gd(Vd,e);case"XXXX":return Gd(qd,e);case"XXXXX":return Gd(Qd,e);default:return Gd(Xd,e)}}set(e,t,n){return t.timestampIsSet?e:St(e,e.getTime()-$s(e)-n)}},x:new class extends zd{constructor(){super(...arguments),t(this,"priority",10),t(this,"incompatibleTokens",["t","T","X"])}parse(e,t){switch(t){case"x":return Gd(Ud,e);case"xx":return Gd(Vd,e);case"xxxx":return Gd(qd,e);case"xxxxx":return Gd(Qd,e);default:return Gd(Xd,e)}}set(e,t,n){return t.timestampIsSet?e:St(e,e.getTime()-$s(e)-n)}},t:new class extends zd{constructor(){super(...arguments),t(this,"priority",40),t(this,"incompatibleTokens","*")}parse(e){return Jd(e)}set(e,t,n){return[St(e,1e3*n),{timestampIsSet:!0}]}},T:new class extends zd{constructor(){super(...arguments),t(this,"priority",20),t(this,"incompatibleTokens","*")}parse(e){return Jd(e)}set(e,t,n){return[St(e,n),{timestampIsSet:!0}]}}},cc=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uc=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hc=/^'([^]*?)'?$/,pc=/''/g,fc=/\S/,vc=/[a-zA-Z]/;function mc(e){return e.match(hc)[1].replace(pc,"'")}function gc(e,t,n){const[r,o]=$t(null==n?void 0:n.in,e,t);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()}function bc(e,t,n){const[r,o]=$t(null==n?void 0:n.in,e,t);return+Ps(r)===+Ps(o)}function wc(e,t){const n=Ct(e,null==t?void 0:t.in);return n.setMilliseconds(0),n}function yc(e,t,n){const[r,o]=$t(null==n?void 0:n.in,e,t);return r.getFullYear()===o.getFullYear()}function xc(e,t,n){const r=Ct(e,null==n?void 0:n.in),o=r.getFullYear(),i=r.getDate(),a=St(e,0);a.setFullYear(o,t,15),a.setHours(0,0,0,0);const l=function(e,t){const n=Ct(e,null==t?void 0:t.in),r=n.getFullYear(),o=n.getMonth(),i=St(n,0);return i.setFullYear(r,o+1,0),i.setHours(0,0,0,0),i.getDate()}(a);return r.setMonth(t,Math.min(i,l)),r}function kc(e,t,n){let r=Ct(e,null==n?void 0:n.in);return isNaN(+r)?St(e,NaN):(null!=t.year&&r.setFullYear(t.year),null!=t.month&&(r=xc(r,t.month)),null!=t.date&&r.setDate(t.date),null!=t.hours&&r.setHours(t.hours),null!=t.minutes&&r.setMinutes(t.minutes),null!=t.seconds&&r.setSeconds(t.seconds),null!=t.milliseconds&&r.setMilliseconds(t.milliseconds),r)}function Cc(e,t,n){const r=Ct(e,null==n?void 0:n.in);return r.setHours(t),r}function Sc(e,t,n){const r=Ct(e,null==n?void 0:n.in);return r.setMinutes(t),r}function zc(e,t,n){const r=Ct(e,null==n?void 0:n.in);return r.setSeconds(t),r}function $c(e,t,n){const r=Ct(e,null==n?void 0:n.in);return isNaN(+r)?St(e,NaN):(r.setFullYear(t),r)}const Mc={date:function(e,t,n){const[r,o]=$t(null==n?void 0:n.in,e,t);return+Ms(r)===+Ms(o)},month:gc,year:yc,quarter:bc};function Rc(e,t,n,r=0){const o="week"===n?function(e){return(t,n)=>{const r=function(e){return(e+1)%7}(e);return Ft(t,n,{weekStartsOn:r})}}(r):Mc[n];return o(e,t)}function Ac(e,t,n,r,o,i){return"date"===o?function(e,t,n,r){let o=!1,i=!1,a=!1;Array.isArray(n)&&(n[0]<e&&e<n[1]&&(o=!0),Rc(n[0],e,"date")&&(i=!0),Rc(n[1],e,"date")&&(a=!0));const l=null!==n&&(Array.isArray(n)?Rc(n[0],e,"date")||Rc(n[1],e,"date"):Rc(n,e,"date"));return{type:"date",dateObject:{date:pd(e),month:bd(e),year:xd(e)},inCurrentMonth:gc(e,t),isCurrentDate:Rc(r,e,"date"),inSpan:o,inSelectedWeek:!1,startOfSpan:i,endOfSpan:a,selected:l,ts:yd(e)}}(e,t,n,r):function(e,t,n,r,o){let i=!1,a=!1,l=!1;Array.isArray(n)&&(n[0]<e&&e<n[1]&&(i=!0),Rc(n[0],e,"week",o)&&(a=!0),Rc(n[1],e,"week",o)&&(l=!0));const s=null!==n&&(Array.isArray(n)?Rc(n[0],e,"week",o)||Rc(n[1],e,"week",o):Rc(n,e,"week",o));return{type:"date",dateObject:{date:pd(e),month:bd(e),year:xd(e)},inCurrentMonth:gc(e,t),isCurrentDate:Rc(r,e,"date"),inSpan:i,startOfSpan:a,endOfSpan:l,selected:!1,inSelectedWeek:s,ts:yd(e)}}(e,t,n,r,i)}function Oc(e,t,n){return ud(new Date(2e3,e,1).getTime(),t,{locale:n})}function Tc(e,t,n){return ud(new Date(e,1,1).getTime(),t,{locale:n})}function Pc(e,t,n){return ud(new Date(2e3,3*e-2,1).getTime(),t,{locale:n})}function Dc(e,t,n,{monthFormat:r}){return{type:"month",monthFormat:r,dateObject:{month:bd(e),year:xd(e)},isCurrent:gc(n,e),selected:null!==t&&Rc(t,e,"month"),ts:yd(e)}}function Fc(e,t,n,{yearFormat:r}){return{type:"year",yearFormat:r,dateObject:{year:xd(e)},isCurrent:yc(n,e),selected:null!==t&&Rc(t,e,"year"),ts:yd(e)}}function _c(e,t,n,{quarterFormat:r}){return{type:"quarter",quarterFormat:r,dateObject:{quarter:Ts(e),year:xd(e)},isCurrent:bc(n,e),selected:null!==t&&Rc(t,e,"quarter"),ts:yd(e)}}function Bc(e,t,n,r,o=!1,i=!1){const a=i?"week":"date",l=bd(e);let s=yd(Ds(e)),d=yd(ks(s,-1));const c=[];let u=!o;for(;fd(d)!==r||u;)c.unshift(Ac(d,e,t,n,a,r)),d=yd(ks(d,-1)),u=!1;for(;bd(s)===l;)c.push(Ac(s,e,t,n,a,r)),s=yd(ks(s,1));const h=o?c.length<=28?28:c.length<=35?35:42:42;for(;c.length<h;)c.push(Ac(s,e,t,n,a,r)),s=yd(ks(s,1));return c}function Ec(e,t,n,r){const o=[],i=Fs(e);for(let a=0;a<12;a++)o.push(Dc(yd(Cs(i,a)),t,n,r));return o}function jc(e,t,n,r){const o=[],i=Fs(e);for(let a=0;a<4;a++)o.push(_c(yd(Rs(i,a)),t,n,r));return o}function Ic(e,t,n,r){const o=r.value,i=[],a=Fs($c(new Date,o[0]));for(let l=0;l<o[1]-o[0];l++)i.push(Fc(yd(As(a,l)),e,t,n));return i}function Lc(e,t,n,r){const o=function(e,t,n,r){var o,i,a,l,s,d,c,u;const h=()=>St((null==r?void 0:r.in)||n,NaN),p=vd(),f=(null==r?void 0:r.locale)??p.locale??Ot,v=(null==r?void 0:r.firstWeekContainsDate)??(null==(i=null==(o=null==r?void 0:r.locale)?void 0:o.options)?void 0:i.firstWeekContainsDate)??p.firstWeekContainsDate??(null==(l=null==(a=p.locale)?void 0:a.options)?void 0:l.firstWeekContainsDate)??1,m=(null==r?void 0:r.weekStartsOn)??(null==(d=null==(s=null==r?void 0:r.locale)?void 0:s.options)?void 0:d.weekStartsOn)??p.weekStartsOn??(null==(u=null==(c=p.locale)?void 0:c.options)?void 0:u.weekStartsOn)??0;if(!t)return e?h():Ct(n,null==r?void 0:r.in);const g={firstWeekContainsDate:v,weekStartsOn:m,locale:f},b=[new Sd(null==r?void 0:r.in,n)],w=t.match(uc).map(e=>{const t=e[0];return t in Js?(0,Js[t])(e,f.formatLong):e}).join("").match(cc),y=[];for(let S of w){!(null==r?void 0:r.useAdditionalWeekYearTokens)&&od(S)&&id(S,t,e),!(null==r?void 0:r.useAdditionalDayOfYearTokens)&&rd(S)&&id(S,t,e);const n=S[0],o=dc[n];if(o){const{incompatibleTokens:t}=o;if(Array.isArray(t)){const e=y.find(e=>t.includes(e.token)||e.token===n);if(e)throw new RangeError(`The format string mustn't contain \`${e.fullToken}\` and \`${S}\` at the same time`)}else if("*"===o.incompatibleTokens&&y.length>0)throw new RangeError(`The format string mustn't contain \`${S}\` and any other token at the same time`);y.push({token:n,fullToken:S});const r=o.run(e,S,f.match,g);if(!r)return h();b.push(r.setter),e=r.rest}else{if(n.match(vc))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===S?S="'":"'"===n&&(S=mc(S)),0!==e.indexOf(S))return h();e=e.slice(S.length)}}if(e.length>0&&fc.test(e))return h();const x=b.map(e=>e.priority).sort((e,t)=>t-e).filter((e,t,n)=>n.indexOf(e)===t).map(e=>b.filter(t=>t.priority===e).sort((e,t)=>t.subPriority-e.subPriority)).map(e=>e[0]);let k=Ct(n,null==r?void 0:r.in);if(isNaN(+k))return h();const C={};for(const S of x){if(!S.validate(k,g))return h();const e=S.set(k,C,g);Array.isArray(e)?(k=e[0],Object.assign(C,e[1])):k=e}return k}(e,t,n,r);return Os(o)?ud(o,t,r)===e?o:new Date(Number.NaN):o}function Nc(e,t,n,r){return Hc(t(e,n,r))}function Hc(e){if(void 0===e)return;if("number"==typeof e)return e;const[t,n,r]=e.split(":");return{hours:Number(t),minutes:Number(n),seconds:Number(r)}}function Yc(e,t){return Array.isArray(e)?e["start"===t?0:1]:null}const Wc=p("n-popselect"),Uc=we("popselect-menu","\n box-shadow: var(--n-menu-box-shadow);\n"),Vc={multiple:Boolean,value:{type:[String,Number,Array],default:null},cancelable:Boolean,options:{type:Array,default:()=>[]},size:{type:String,default:"medium"},scrollable:Boolean,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onMouseenter:Function,onMouseleave:Function,renderLabel:Function,showCheckmark:{type:Boolean,default:void 0},nodeProps:Function,virtualScroll:Boolean,onChange:[Function,Array]},qc=_t(Vc),Xc=x({name:"PopselectPanel",props:Vc,setup(e){const t=m(Wc),{mergedClsPrefixRef:n,inlineThemeDisabled:r}=Me(e),o=Re("Popselect","-pop-select",Uc,Bt,t.props,n),l=a(()=>vl(e.options,ds("value","children")));function s(t,n){const{onUpdateValue:r,"onUpdate:value":o,onChange:i}=e;r&&rt(r,t,n),o&&rt(o,t,n),i&&rt(i,t,n)}i(T(e,"options"),()=>{D(()=>{t.syncPosition()})});const d=a(()=>{const{self:{menuBoxShadow:e}}=o.value;return{"--n-menu-box-shadow":e}}),c=r?Oe("select",void 0,d,t.props):void 0;return{mergedTheme:t.mergedThemeRef,mergedClsPrefix:n,treeMate:l,handleToggle:function(n){!function(n){const{value:{getNode:r}}=l;if(e.multiple)if(Array.isArray(e.value)){const t=[],o=[];let i=!0;e.value.forEach(e=>{if(e===n)return void(i=!1);const a=r(e);a&&(t.push(a.key),o.push(a.rawNode))}),i&&(t.push(n),o.push(r(n).rawNode)),s(t,o)}else{const e=r(n);e&&s([n],[e.rawNode])}else if(e.value===n&&e.cancelable)s(null,null);else{const e=r(n);e&&s(n,e.rawNode);const{"onUpdate:show":o,onUpdateShow:i}=t.props;o&&rt(o,!1),i&&rt(i,!1),t.setShow(!1)}D(()=>{t.syncPosition()})}(n.key)},handleMenuMousedown:function(e){br(e,"action")||br(e,"empty")||br(e,"header")||e.preventDefault()},cssVars:r?void 0:d,themeClass:null==c?void 0:c.themeClass,onRender:null==c?void 0:c.onRender}},render(){var e;return null===(e=this.onRender)||void 0===e||e.call(this),M(kl,{clsPrefix:this.mergedClsPrefix,focusable:!0,nodeProps:this.nodeProps,class:[`${this.mergedClsPrefix}-popselect-menu`,this.themeClass],style:this.cssVars,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,multiple:this.multiple,treeMate:this.treeMate,size:this.size,value:this.value,virtualScroll:this.virtualScroll,scrollable:this.scrollable,renderLabel:this.renderLabel,onToggle:this.handleToggle,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseenter,onMousedown:this.handleMenuMousedown,showCheckmark:this.showCheckmark},{header:()=>{var e,t;return(null===(t=(e=this.$slots).header)||void 0===t?void 0:t.call(e))||[]},action:()=>{var e,t;return(null===(t=(e=this.$slots).action)||void 0===t?void 0:t.call(e))||[]},empty:()=>{var e,t;return(null===(t=(e=this.$slots).empty)||void 0===t?void 0:t.call(e))||[]}})}}),Qc=Object.assign(Object.assign(Object.assign(Object.assign({},Re.props),Et(_l,["showArrow","arrow"])),{placement:Object.assign(Object.assign({},_l.placement),{default:"bottom"}),trigger:{type:String,default:"hover"}}),Vc),Kc=x({name:"Popselect",props:Qc,slots:Object,inheritAttrs:!1,__popover__:!0,setup(e){const{mergedClsPrefixRef:t}=Me(e),n=Re("Popselect","-popselect",void 0,Bt,e,t),r=f(null);function o(){var e;null===(e=r.value)||void 0===e||e.syncPosition()}function i(e){var t;null===(t=r.value)||void 0===t||t.setShow(e)}C(Wc,{props:e,mergedThemeRef:n,syncPosition:o,setShow:i});const a={syncPosition:o,setShow:i};return Object.assign(Object.assign({},a),{popoverInstRef:r,mergedTheme:n})},render(){const{mergedTheme:e}=this,t={theme:e.peers.Popover,themeOverrides:e.peerOverrides.Popover,builtinThemeOverrides:{padding:"0"},ref:"popoverInstRef",internalRenderBody:(e,t,n,r,o)=>{const{$attrs:i}=this;return M(Xc,Object.assign({},i,{class:[i.class,e],style:[i.style,...n]},nt(this.$props,qc),{ref:ko(t),onMouseenter:So([r,i.onMouseenter]),onMouseleave:So([o,i.onMouseleave])}),{header:()=>{var e,t;return null===(t=(e=this.$slots).header)||void 0===t?void 0:t.call(e)},action:()=>{var e,t;return null===(t=(e=this.$slots).action)||void 0===t?void 0:t.call(e)},empty:()=>{var e,t;return null===(t=(e=this.$slots).empty)||void 0===t?void 0:t.call(e)}})}};return M(El,Object.assign({},Et(this.$props,qc),t,{internalDeactivateImmediately:!0}),{trigger:()=>{var e,t;return null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e)}})}}),Zc=ye([we("select","\n z-index: auto;\n outline: none;\n width: 100%;\n position: relative;\n font-weight: var(--n-font-weight);\n "),we("select-menu","\n margin: 4px 0;\n box-shadow: var(--n-menu-box-shadow);\n ",[Be({originalTransition:"background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)"})])]),Gc=Object.assign(Object.assign({},Re.props),{to:Or.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,clearFilterAfterSelect:{type:Boolean,default:!0},options:{type:Array,default:()=>[]},defaultValue:{type:[String,Number,Array],default:null},keyboard:{type:Boolean,default:!0},value:[String,Number,Array],placeholder:String,menuProps:Object,multiple:Boolean,size:String,menuSize:{type:String},filterable:Boolean,disabled:{type:Boolean,default:void 0},remote:Boolean,loading:Boolean,filter:Function,placement:{type:String,default:"bottom-start"},widthMode:{type:String,default:"trigger"},tag:Boolean,onCreate:Function,fallbackOption:{type:[Function,Boolean],default:void 0},show:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:!0},maxTagCount:[Number,String],ellipsisTagPopoverProps:Object,consistentMenuWidth:{type:Boolean,default:!0},virtualScroll:{type:Boolean,default:!0},labelField:{type:String,default:"label"},valueField:{type:String,default:"value"},childrenField:{type:String,default:"children"},renderLabel:Function,renderOption:Function,renderTag:Function,"onUpdate:value":[Function,Array],inputProps:Object,nodeProps:Function,ignoreComposition:{type:Boolean,default:!0},showOnFocus:Boolean,onUpdateValue:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onScroll:[Function,Array],onSearch:[Function,Array],onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],displayDirective:{type:String,default:"show"},resetMenuOnOptionsChange:{type:Boolean,default:!0},status:String,showCheckmark:{type:Boolean,default:!0},onChange:[Function,Array],items:Array}),Jc=x({name:"Select",props:Gc,slots:Object,setup(e){const{mergedClsPrefixRef:t,mergedBorderedRef:n,namespaceRef:r,inlineThemeDisabled:o}=Me(e),l=Re("Select","-select",Zc,jt,e,t),s=f(e.defaultValue),d=Sr(T(e,"value"),s),c=f(!1),u=f(""),h=zr(e,["items","options"]),p=f([]),v=f([]),m=a(()=>v.value.concat(p.value).concat(h.value)),g=a(()=>{const{filter:t}=e;if(t)return t;const{labelField:n,valueField:r}=e;return(e,t)=>{if(!t)return!1;const o=t[n];if("string"==typeof o)return ss(e,o);const i=t[r];return"string"==typeof i?ss(e,i):"number"==typeof i&&ss(e,String(i))}}),b=a(()=>{if(e.remote)return h.value;{const{value:t}=m,{value:n}=u;return n.length&&e.filterable?function(e,t,n,r){return t?function e(o){if(!Array.isArray(o))return[];const i=[];for(const a of o)if(as(a)){const t=e(a[r]);t.length&&i.push(Object.assign({},a,{[r]:t}))}else{if(ls(a))continue;t(n,a)&&i.push(a)}return i}(e):e}(t,g.value,n,e.childrenField):t}}),w=a(()=>{const{valueField:t,childrenField:n}=e,r=ds(t,n);return vl(b.value,r)}),y=a(()=>function(e,t,n){const r=new Map;return e.forEach(e=>{as(e)?e[n].forEach(e=>{r.set(e[t],e)}):r.set(e[t],e)}),r}(m.value,e.valueField,e.childrenField)),x=f(!1),k=Sr(T(e,"show"),x),C=f(null),S=f(null),z=f(null),{localeRef:$}=ka("Select"),M=a(()=>{var t;return null!==(t=e.placeholder)&&void 0!==t?t:$.value.placeholder}),R=[],A=f(new Map),O=a(()=>{const{fallbackOption:t}=e;if(void 0===t){const{labelField:t,valueField:n}=e;return e=>({[t]:String(e),[n]:e})}return!1!==t&&(e=>Object.assign(t(e),{value:e}))});function D(t){const n=e.remote,{value:r}=A,{value:o}=y,{value:i}=O,a=[];return t.forEach(e=>{if(o.has(e))a.push(o.get(e));else if(n&&r.has(e))a.push(r.get(e));else if(i){const t=i(e);t&&a.push(t)}}),a}const F=a(()=>{if(e.multiple){const{value:e}=d;return Array.isArray(e)?D(e):[]}return null}),_=a(()=>{const{value:t}=d;return e.multiple||Array.isArray(t)||null===t?null:D([t])[0]||null}),B=vt(e),{mergedSizeRef:E,mergedDisabledRef:j,mergedStatusRef:I}=B;function L(t,n){const{onChange:r,"onUpdate:value":o,onUpdateValue:i}=e,{nTriggerFormChange:a,nTriggerFormInput:l}=B;r&&rt(r,t,n),i&&rt(i,t,n),o&&rt(o,t,n),s.value=t,a(),l()}function N(t){const{onBlur:n}=e,{nTriggerFormBlur:r}=B;n&&rt(n,t),r()}function H(){var t;const{remote:n,multiple:r}=e;if(n){const{value:n}=A;if(r){const{valueField:r}=e;null===(t=F.value)||void 0===t||t.forEach(e=>{n.set(e[r],e)})}else{const t=_.value;t&&n.set(t[e.valueField],t)}}}function Y(t){const{onUpdateShow:n,"onUpdate:show":r}=e;n&&rt(n,t),r&&rt(r,t),x.value=t}function W(){j.value||(Y(!0),x.value=!0,e.filterable&&J())}function U(){Y(!1)}function V(){u.value="",v.value=R}const q=f(!1);function X(e){Q(e.rawNode)}function Q(t){if(j.value)return;const{tag:n,remote:r,clearFilterAfterSelect:o,valueField:i}=e;if(n&&!r){const{value:e}=v,t=e[0]||null;if(t){const e=p.value;e.length?e.push(t):p.value=[t],v.value=R}}if(r&&A.value.set(t[i],t),e.multiple){const a=function(t){if(!Array.isArray(t))return[];if(O.value)return Array.from(t);{const{remote:n}=e,{value:r}=y;if(n){const{value:e}=A;return t.filter(t=>r.has(t)||e.has(t))}return t.filter(e=>r.has(e))}}(d.value),l=a.findIndex(e=>e===t[i]);if(~l){if(a.splice(l,1),n&&!r){const e=K(t[i]);~e&&(p.value.splice(e,1),o&&(u.value=""))}}else a.push(t[i]),o&&(u.value="");L(a,D(a))}else{if(n&&!r){const e=K(t[i]);p.value=~e?[p.value[e]]:R}G(),U(),L(t[i],t)}}function K(t){return p.value.findIndex(n=>n[e.valueField]===t)}function Z(t){var n,r,o,i,a;if(e.keyboard)switch(t.key){case" ":if(e.filterable)break;t.preventDefault();case"Enter":if(!(null===(n=C.value)||void 0===n?void 0:n.isComposing))if(k.value){const t=null===(r=z.value)||void 0===r?void 0:r.getPendingTmNode();t?X(t):e.filterable||(U(),G())}else if(W(),e.tag&&q.value){const t=v.value[0];if(t){const n=t[e.valueField],{value:r}=d;e.multiple&&Array.isArray(r)&&r.includes(n)||Q(t)}}t.preventDefault();break;case"ArrowUp":if(t.preventDefault(),e.loading)return;k.value&&(null===(o=z.value)||void 0===o||o.prev());break;case"ArrowDown":if(t.preventDefault(),e.loading)return;k.value?null===(i=z.value)||void 0===i||i.next():W();break;case"Escape":k.value&&(It(t),U()),null===(a=C.value)||void 0===a||a.focus()}else t.preventDefault()}function G(){var e;null===(e=C.value)||void 0===e||e.focus()}function J(){var e;null===(e=C.value)||void 0===e||e.focusInput()}H(),i(T(e,"options"),H);const ee={focus:()=>{var e;null===(e=C.value)||void 0===e||e.focus()},focusInput:()=>{var e;null===(e=C.value)||void 0===e||e.focusInput()},blur:()=>{var e;null===(e=C.value)||void 0===e||e.blur()},blurInput:()=>{var e;null===(e=C.value)||void 0===e||e.blurInput()}},te=a(()=>{const{self:{menuBoxShadow:e}}=l.value;return{"--n-menu-box-shadow":e}}),ne=o?Oe("select",void 0,te,e):void 0;return Object.assign(Object.assign({},ee),{mergedStatus:I,mergedClsPrefix:t,mergedBordered:n,namespace:r,treeMate:w,isMounted:P(),triggerRef:C,menuRef:z,pattern:u,uncontrolledShow:x,mergedShow:k,adjustedTo:Or(e),uncontrolledValue:s,mergedValue:d,followerRef:S,localizedPlaceholder:M,selectedOption:_,selectedOptions:F,mergedSize:E,mergedDisabled:j,focused:c,activeWithoutMenuOpen:q,inlineThemeDisabled:o,onTriggerInputFocus:function(){e.filterable&&(q.value=!0)},onTriggerInputBlur:function(){e.filterable&&(q.value=!1,k.value||V())},handleTriggerOrMenuResize:function(){var e;k.value&&(null===(e=S.value)||void 0===e||e.syncPosition())},handleMenuFocus:function(){c.value=!0},handleMenuBlur:function(e){var t;(null===(t=C.value)||void 0===t?void 0:t.$el.contains(e.relatedTarget))||(c.value=!1,N(e),U())},handleMenuTabOut:function(){var e;null===(e=C.value)||void 0===e||e.focus(),U()},handleTriggerClick:function(){j.value||(k.value?e.filterable?J():U():W())},handleToggle:X,handleDeleteOption:Q,handlePatternInput:function(t){k.value||W();const{value:n}=t.target;u.value=n;const{tag:r,remote:o}=e;if(function(t){const{onSearch:n}=e;n&&rt(n,t)}(n),r&&!o){if(!n)return void(v.value=R);const{onCreate:t}=e,r=t?t(n):{[e.labelField]:n,[e.valueField]:n},{valueField:o,labelField:i}=e;h.value.some(e=>e[o]===r[o]||e[i]===r[i])||p.value.some(e=>e[o]===r[o]||e[i]===r[i])?v.value=R:v.value=[r]}},handleClear:function(t){t.stopPropagation();const{multiple:n}=e;!n&&e.filterable&&U(),function(){const{onClear:t}=e;t&&rt(t)}(),n?L([],[]):L(null,null)},handleTriggerBlur:function(e){var t,n;(null===(n=null===(t=z.value)||void 0===t?void 0:t.selfRef)||void 0===n?void 0:n.contains(e.relatedTarget))||(c.value=!1,N(e),U())},handleTriggerFocus:function(t){!function(t){const{onFocus:n,showOnFocus:r}=e,{nTriggerFormFocus:o}=B;n&&rt(n,t),o(),r&&W()}(t),c.value=!0},handleKeydown:Z,handleMenuAfterLeave:V,handleMenuClickOutside:function(e){var t;k.value&&((null===(t=C.value)||void 0===t?void 0:t.$el.contains(qe(e)))||U())},handleMenuScroll:function(t){!function(t){const{onScroll:n}=e;n&&rt(n,t)}(t)},handleMenuKeydown:Z,handleMenuMousedown:function(e){br(e,"action")||br(e,"empty")||br(e,"header")||e.preventDefault()},mergedTheme:l,cssVars:o?void 0:te,themeClass:null==ne?void 0:ne.themeClass,onRender:null==ne?void 0:ne.onRender})},render(){return M("div",{class:`${this.mergedClsPrefix}-select`},M(Br,null,{default:()=>[M(Er,null,{default:()=>M(Ul,{ref:"triggerRef",inlineThemeDisabled:this.inlineThemeDisabled,status:this.mergedStatus,inputProps:this.inputProps,clsPrefix:this.mergedClsPrefix,showArrow:this.showArrow,maxTagCount:this.maxTagCount,ellipsisTagPopoverProps:this.ellipsisTagPopoverProps,bordered:this.mergedBordered,active:this.activeWithoutMenuOpen||this.mergedShow,pattern:this.pattern,placeholder:this.localizedPlaceholder,selectedOption:this.selectedOption,selectedOptions:this.selectedOptions,multiple:this.multiple,renderTag:this.renderTag,renderLabel:this.renderLabel,filterable:this.filterable,clearable:this.clearable,disabled:this.mergedDisabled,size:this.mergedSize,theme:this.mergedTheme.peers.InternalSelection,labelField:this.labelField,valueField:this.valueField,themeOverrides:this.mergedTheme.peerOverrides.InternalSelection,loading:this.loading,focused:this.focused,onClick:this.handleTriggerClick,onDeleteOption:this.handleDeleteOption,onPatternInput:this.handlePatternInput,onClear:this.handleClear,onBlur:this.handleTriggerBlur,onFocus:this.handleTriggerFocus,onKeydown:this.handleKeydown,onPatternBlur:this.onTriggerInputBlur,onPatternFocus:this.onTriggerInputFocus,onResize:this.handleTriggerOrMenuResize,ignoreComposition:this.ignoreComposition},{arrow:()=>{var e,t;return[null===(t=(e=this.$slots).arrow)||void 0===t?void 0:t.call(e)]}})}),M(Jr,{ref:"followerRef",show:this.mergedShow,to:this.adjustedTo,teleportDisabled:this.adjustedTo===Or.tdkey,containerClass:this.namespace,width:this.consistentMenuWidth?"target":void 0,minWidth:"target",placement:this.placement},{default:()=>M(De,{name:"fade-in-scale-up-transition",appear:this.isMounted,onAfterLeave:this.handleMenuAfterLeave},{default:()=>{var e,t,n;return this.mergedShow||"show"===this.displayDirective?(null===(e=this.onRender)||void 0===e||e.call(this),S(M(kl,Object.assign({},this.menuProps,{ref:"menuRef",onResize:this.handleTriggerOrMenuResize,inlineThemeDisabled:this.inlineThemeDisabled,virtualScroll:this.consistentMenuWidth&&this.virtualScroll,class:[`${this.mergedClsPrefix}-select-menu`,this.themeClass,null===(t=this.menuProps)||void 0===t?void 0:t.class],clsPrefix:this.mergedClsPrefix,focusable:!0,labelField:this.labelField,valueField:this.valueField,autoPending:!0,nodeProps:this.nodeProps,theme:this.mergedTheme.peers.InternalSelectMenu,themeOverrides:this.mergedTheme.peerOverrides.InternalSelectMenu,treeMate:this.treeMate,multiple:this.multiple,size:this.menuSize,renderOption:this.renderOption,renderLabel:this.renderLabel,value:this.mergedValue,style:[null===(n=this.menuProps)||void 0===n?void 0:n.style,this.cssVars],onToggle:this.handleToggle,onScroll:this.handleMenuScroll,onFocus:this.handleMenuFocus,onBlur:this.handleMenuBlur,onKeydown:this.handleMenuKeydown,onTabOut:this.handleMenuTabOut,onMousedown:this.handleMenuMousedown,show:this.mergedShow,showCheckmark:this.showCheckmark,resetMenuOnOptionsChange:this.resetMenuOnOptionsChange}),{empty:()=>{var e,t;return[null===(t=(e=this.$slots).empty)||void 0===t?void 0:t.call(e)]},header:()=>{var e,t;return[null===(t=(e=this.$slots).header)||void 0===t?void 0:t.call(e)]},action:()=>{var e,t;return[null===(t=(e=this.$slots).action)||void 0===t?void 0:t.call(e)]}}),"show"===this.displayDirective?[[Ve,this.mergedShow],[Ue,this.handleMenuClickOutside,void 0,{capture:!0}]]:[[Ue,this.handleMenuClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),eu=Object.assign(Object.assign({},_l),Re.props),tu=x({name:"Tooltip",props:eu,slots:Object,__popover__:!0,setup(e){const{mergedClsPrefixRef:t}=Me(e),n=Re("Tooltip","-tooltip",void 0,Lt,e,t),r=f(null),o={syncPosition(){r.value.syncPosition()},setShow(e){r.value.setShow(e)}};return Object.assign(Object.assign({},o),{popoverRef:r,mergedTheme:n,popoverThemeOverrides:a(()=>n.value.self)})},render(){const{mergedTheme:e,internalExtraClass:t}=this;return M(El,Object.assign(Object.assign({},this.$props),{theme:e.peers.Popover,themeOverrides:e.peerOverrides.Popover,builtinThemeOverrides:this.popoverThemeOverrides,internalExtraClass:t.concat("tooltip"),ref:"popoverRef"}),this.$slots)}}),nu=p("n-dropdown-menu"),ru=p("n-dropdown"),ou=p("n-dropdown-option"),iu=x({name:"DropdownDivider",props:{clsPrefix:{type:String,required:!0}},render(){return M("div",{class:`${this.clsPrefix}-dropdown-divider`})}}),au=x({name:"DropdownGroupHeader",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0}},setup(){const{showIconRef:e,hasSubmenuRef:t}=m(nu),{renderLabelRef:n,labelFieldRef:r,nodePropsRef:o,renderOptionRef:i}=m(ru);return{labelField:r,showIcon:e,hasSubmenu:t,renderLabel:n,nodeProps:o,renderOption:i}},render(){var e;const{clsPrefix:t,hasSubmenu:n,showIcon:r,nodeProps:o,renderLabel:i,renderOption:a}=this,{rawNode:l}=this.tmNode,s=M("div",Object.assign({class:`${t}-dropdown-option`},null==o?void 0:o(l)),M("div",{class:`${t}-dropdown-option-body ${t}-dropdown-option-body--group`},M("div",{"data-dropdown-option":!0,class:[`${t}-dropdown-option-body__prefix`,r&&`${t}-dropdown-option-body__prefix--show-icon`]},Pe(l.icon)),M("div",{class:`${t}-dropdown-option-body__label`,"data-dropdown-option":!0},i?i(l):Pe(null!==(e=l.title)&&void 0!==e?e:l[this.labelField])),M("div",{class:[`${t}-dropdown-option-body__suffix`,n&&`${t}-dropdown-option-body__suffix--has-submenu`],"data-dropdown-option":!0})));return a?a({node:s,option:l}):s}}),lu=we("icon","\n height: 1em;\n width: 1em;\n line-height: 1em;\n text-align: center;\n display: inline-block;\n position: relative;\n fill: currentColor;\n",[Fe("color-transition",{transition:"color .3s var(--n-bezier)"}),Fe("depth",{color:"var(--n-color)"},[ye("svg",{opacity:"var(--n-opacity)",transition:"opacity .3s var(--n-bezier)"})]),ye("svg",{height:"1em",width:"1em"})]),su=Object.assign(Object.assign({},Re.props),{depth:[String,Number],size:[Number,String],color:String,component:[Object,Function]}),du=x({_n_icon__:!0,name:"Icon",inheritAttrs:!1,props:su,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=Me(e),r=Re("Icon","-icon",lu,Ht,e,t),o=a(()=>{const{depth:t}=e,{common:{cubicBezierEaseInOut:n},self:o}=r.value;if(void 0!==t){const{color:e,[`opacity${t}Depth`]:r}=o;return{"--n-bezier":n,"--n-color":e,"--n-opacity":r}}return{"--n-bezier":n,"--n-color":"","--n-opacity":""}}),i=n?Oe("icon",a(()=>`${e.depth||"d"}`),o,e):void 0;return{mergedClsPrefix:t,mergedStyle:a(()=>{const{size:t,color:n}=e;return{fontSize:mo(t),color:n}}),cssVars:n?void 0:o,themeClass:null==i?void 0:i.themeClass,onRender:null==i?void 0:i.onRender}},render(){var e;const{$parent:t,depth:n,mergedClsPrefix:r,component:o,onRender:i,themeClass:a}=this;return(null===(e=null==t?void 0:t.$options)||void 0===e?void 0:e._n_icon__)&&Nt("icon","don't wrap `n-icon` inside `n-icon`"),null==i||i(),M("i",_(this.$attrs,{role:"img",class:[`${r}-icon`,a,{[`${r}-icon--depth`]:n,[`${r}-icon--color-transition`]:void 0!==n}],style:[this.cssVars,this.mergedStyle]}),o?M(o):this.$slots)}});function cu(e,t){return"submenu"===e.type||void 0===e.type&&void 0!==e[t]}function uu(e){return"divider"===e.type}const hu=x({name:"DropdownOption",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null},placement:{type:String,default:"right-start"},props:Object,scrollable:Boolean},setup(e){const t=m(ru),{hoverKeyRef:n,keyboardKeyRef:r,lastToggledSubmenuKeyRef:o,pendingKeyPathRef:l,activeKeyPathRef:s,animatedRef:d,mergedShowRef:c,renderLabelRef:u,renderIconRef:h,labelFieldRef:p,childrenFieldRef:g,renderOptionRef:b,nodePropsRef:y,menuPropsRef:x}=t,k=m(ou,null),S=m(nu),z=m(w),$=a(()=>e.tmNode.rawNode),M=a(()=>{const{value:t}=g;return cu(e.tmNode.rawNode,t)}),R=a(()=>{const{disabled:t}=e.tmNode;return t}),A=function(e,t,n){const r=f(e.value);let o=null;return i(e,e=>{null!==o&&window.clearTimeout(o),!0===e?n&&!n.value?r.value=!0:o=window.setTimeout(()=>{r.value=!0},t):r.value=!1}),r}(a(()=>{if(!M.value)return!1;const{key:t,disabled:i}=e.tmNode;if(i)return!1;const{value:a}=n,{value:s}=r,{value:d}=o,{value:c}=l;return null!==a?c.includes(t):null!==s?c.includes(t)&&c[c.length-1]!==t:null!==d&&c.includes(t)}),300,a(()=>null===r.value&&!d.value)),O=a(()=>!!(null==k?void 0:k.enteringSubmenuRef.value)),T=f(!1);function P(){const{parentKey:t,tmNode:i}=e;i.disabled||c.value&&(o.value=t,r.value=null,n.value=i.key)}return C(ou,{enteringSubmenuRef:T}),{labelField:p,renderLabel:u,renderIcon:h,siblingHasIcon:S.showIconRef,siblingHasSubmenu:S.hasSubmenuRef,menuProps:x,popoverBody:z,animated:d,mergedShowSubmenu:a(()=>A.value&&!O.value),rawNode:$,hasSubmenu:M,pending:v(()=>{const{value:t}=l,{key:n}=e.tmNode;return t.includes(n)}),childActive:v(()=>{const{value:t}=s,{key:n}=e.tmNode,r=t.findIndex(e=>n===e);return-1!==r&&r<t.length-1}),active:v(()=>{const{value:t}=s,{key:n}=e.tmNode,r=t.findIndex(e=>n===e);return-1!==r&&r===t.length-1}),mergedDisabled:R,renderOption:b,nodeProps:y,handleClick:function(){const{value:n}=M,{tmNode:r}=e;c.value&&(n||r.disabled||(t.doSelect(r.key,r.rawNode),t.doUpdateShow(!1)))},handleMouseMove:function(){const{tmNode:t}=e;t.disabled||c.value&&n.value!==t.key&&P()},handleMouseEnter:P,handleMouseLeave:function(t){if(e.tmNode.disabled)return;if(!c.value)return;const{relatedTarget:r}=t;!r||br({target:r},"dropdownOption")||br({target:r},"scrollbarRail")||(n.value=null)},handleSubmenuBeforeEnter:function(){T.value=!0},handleSubmenuAfterEnter:function(){T.value=!1}}},render(){var e,t;const{animated:n,rawNode:r,mergedShowSubmenu:o,clsPrefix:i,siblingHasIcon:a,siblingHasSubmenu:l,renderLabel:s,renderIcon:d,renderOption:c,nodeProps:u,props:h,scrollable:p}=this;let f=null;if(o){const t=null===(e=this.menuProps)||void 0===e?void 0:e.call(this,r,r.children);f=M(vu,Object.assign({},t,{clsPrefix:i,scrollable:this.scrollable,tmNodes:this.tmNode.children,parentKey:this.tmNode.key}))}const v={class:[`${i}-dropdown-option-body`,this.pending&&`${i}-dropdown-option-body--pending`,this.active&&`${i}-dropdown-option-body--active`,this.childActive&&`${i}-dropdown-option-body--child-active`,this.mergedDisabled&&`${i}-dropdown-option-body--disabled`],onMousemove:this.handleMouseMove,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onClick:this.handleClick},m=null==u?void 0:u(r),g=M("div",Object.assign({class:[`${i}-dropdown-option`,null==m?void 0:m.class],"data-dropdown-option":!0},m),M("div",_(v,h),[M("div",{class:[`${i}-dropdown-option-body__prefix`,a&&`${i}-dropdown-option-body__prefix--show-icon`]},[d?d(r):Pe(r.icon)]),M("div",{"data-dropdown-option":!0,class:`${i}-dropdown-option-body__label`},s?s(r):Pe(null!==(t=r[this.labelField])&&void 0!==t?t:r.title)),M("div",{"data-dropdown-option":!0,class:[`${i}-dropdown-option-body__suffix`,l&&`${i}-dropdown-option-body__suffix--has-submenu`]},this.hasSubmenu?M(du,null,{default:()=>M(Ma,null)}):null)]),this.hasSubmenu?M(Br,null,{default:()=>[M(Er,null,{default:()=>M("div",{class:`${i}-dropdown-offset-container`},M(Jr,{show:this.mergedShowSubmenu,placement:this.placement,to:p&&this.popoverBody||void 0,teleportDisabled:!p},{default:()=>M("div",{class:`${i}-dropdown-menu-wrapper`},n?M(De,{onBeforeEnter:this.handleSubmenuBeforeEnter,onAfterEnter:this.handleSubmenuAfterEnter,name:"fade-in-scale-up-transition",appear:!0},{default:()=>f}):f)}))})]}):null);return c?c({node:g,option:r}):g}}),pu=x({name:"NDropdownGroup",props:{clsPrefix:{type:String,required:!0},tmNode:{type:Object,required:!0},parentKey:{type:[String,Number],default:null}},render(){const{tmNode:e,parentKey:t,clsPrefix:n}=this,{children:r}=e;return M(Ze,null,M(au,{clsPrefix:n,tmNode:e,key:e.key}),null==r?void 0:r.map(e=>{const{rawNode:r}=e;return!1===r.show?null:uu(r)?M(iu,{clsPrefix:n,key:e.key}):e.isGroup?(Nt("dropdown","`group` node is not allowed to be put in `group` node."),null):M(hu,{clsPrefix:n,tmNode:e,parentKey:t,key:e.key})}))}}),fu=x({name:"DropdownRenderOption",props:{tmNode:{type:Object,required:!0}},render(){const{rawNode:{render:e,props:t}}=this.tmNode;return M("div",t,[null==e?void 0:e()])}}),vu=x({name:"DropdownMenu",props:{scrollable:Boolean,showArrow:Boolean,arrowStyle:[String,Object],clsPrefix:{type:String,required:!0},tmNodes:{type:Array,default:()=>[]},parentKey:{type:[String,Number],default:null}},setup(e){const{renderIconRef:t,childrenFieldRef:n}=m(ru);C(nu,{showIconRef:a(()=>{const n=t.value;return e.tmNodes.some(e=>{var t;if(e.isGroup)return null===(t=e.children)||void 0===t?void 0:t.some(({rawNode:e})=>n?n(e):e.icon);const{rawNode:r}=e;return n?n(r):r.icon})}),hasSubmenuRef:a(()=>{const{value:t}=n;return e.tmNodes.some(e=>{var n;if(e.isGroup)return null===(n=e.children)||void 0===n?void 0:n.some(({rawNode:e})=>cu(e,t));const{rawNode:r}=e;return cu(r,t)})})});const r=f(null);return C(g,null),C(b,null),C(w,r),{bodyRef:r}},render(){const{parentKey:e,clsPrefix:t,scrollable:n}=this,r=this.tmNodes.map(r=>{const{rawNode:o}=r;return!1===o.show?null:function(e){return"render"===e.type}(o)?M(fu,{tmNode:r,key:r.key}):uu(o)?M(iu,{clsPrefix:t,key:r.key}):function(e){return"group"===e.type}(o)?M(pu,{clsPrefix:t,tmNode:r,parentKey:e,key:r.key}):M(hu,{clsPrefix:t,tmNode:r,parentKey:e,key:r.key,props:o.props,scrollable:n})});return M("div",{class:[`${t}-dropdown-menu`,n&&`${t}-dropdown-menu--scrollable`],ref:"bodyRef"},n?M(Ge,{contentClass:`${t}-dropdown-menu__content`},{default:()=>r}):r,this.showArrow?Tl({clsPrefix:t,arrowStyle:this.arrowStyle,arrowClass:void 0,arrowWrapperClass:void 0,arrowWrapperStyle:void 0}):null)}}),mu=we("dropdown-menu","\n transform-origin: var(--v-transform-origin);\n background-color: var(--n-color);\n border-radius: var(--n-border-radius);\n box-shadow: var(--n-box-shadow);\n position: relative;\n transition:\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n",[Be(),we("dropdown-option","\n position: relative;\n ",[ye("a","\n text-decoration: none;\n color: inherit;\n outline: none;\n ",[ye("&::before",'\n content: "";\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n ')]),we("dropdown-option-body","\n display: flex;\n cursor: pointer;\n position: relative;\n height: var(--n-option-height);\n line-height: var(--n-option-height);\n font-size: var(--n-font-size);\n color: var(--n-option-text-color);\n transition: color .3s var(--n-bezier);\n ",[ye("&::before",'\n content: "";\n position: absolute;\n top: 0;\n bottom: 0;\n left: 4px;\n right: 4px;\n transition: background-color .3s var(--n-bezier);\n border-radius: var(--n-border-radius);\n '),_e("disabled",[Fe("pending","\n color: var(--n-option-text-color-hover);\n ",[xe("prefix, suffix","\n color: var(--n-option-text-color-hover);\n "),ye("&::before","background-color: var(--n-option-color-hover);")]),Fe("active","\n color: var(--n-option-text-color-active);\n ",[xe("prefix, suffix","\n color: var(--n-option-text-color-active);\n "),ye("&::before","background-color: var(--n-option-color-active);")]),Fe("child-active","\n color: var(--n-option-text-color-child-active);\n ",[xe("prefix, suffix","\n color: var(--n-option-text-color-child-active);\n ")])]),Fe("disabled","\n cursor: not-allowed;\n opacity: var(--n-option-opacity-disabled);\n "),Fe("group","\n font-size: calc(var(--n-font-size) - 1px);\n color: var(--n-group-header-text-color);\n ",[xe("prefix","\n width: calc(var(--n-option-prefix-width) / 2);\n ",[Fe("show-icon","\n width: calc(var(--n-option-icon-prefix-width) / 2);\n ")])]),xe("prefix","\n width: var(--n-option-prefix-width);\n display: flex;\n justify-content: center;\n align-items: center;\n color: var(--n-prefix-color);\n transition: color .3s var(--n-bezier);\n z-index: 1;\n ",[Fe("show-icon","\n width: var(--n-option-icon-prefix-width);\n "),we("icon","\n font-size: var(--n-option-icon-size);\n ")]),xe("label","\n white-space: nowrap;\n flex: 1;\n z-index: 1;\n "),xe("suffix","\n box-sizing: border-box;\n flex-grow: 0;\n flex-shrink: 0;\n display: flex;\n justify-content: flex-end;\n align-items: center;\n min-width: var(--n-option-suffix-width);\n padding: 0 8px;\n transition: color .3s var(--n-bezier);\n color: var(--n-suffix-color);\n z-index: 1;\n ",[Fe("has-submenu","\n width: var(--n-option-icon-suffix-width);\n "),we("icon","\n font-size: var(--n-option-icon-size);\n ")]),we("dropdown-menu","pointer-events: all;")]),we("dropdown-offset-container","\n pointer-events: none;\n position: absolute;\n left: 0;\n right: 0;\n top: -4px;\n bottom: -4px;\n ")]),we("dropdown-divider","\n transition: background-color .3s var(--n-bezier);\n background-color: var(--n-divider-color);\n height: 1px;\n margin: 4px 0;\n "),we("dropdown-menu-wrapper","\n transform-origin: var(--v-transform-origin);\n width: fit-content;\n "),ye(">",[we("scrollbar","\n height: inherit;\n max-height: inherit;\n ")]),_e("scrollable","\n padding: var(--n-padding);\n "),Fe("scrollable",[xe("content","\n padding: var(--n-padding);\n ")])]),gu={animated:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},size:{type:String,default:"medium"},inverted:Boolean,placement:{type:String,default:"bottom"},onSelect:[Function,Array],options:{type:Array,default:()=>[]},menuProps:Function,showArrow:Boolean,renderLabel:Function,renderIcon:Function,renderOption:Function,nodeProps:Function,labelField:{type:String,default:"label"},keyField:{type:String,default:"key"},childrenField:{type:String,default:"children"},value:[String,Number]},bu=Object.keys(_l),wu=Object.assign(Object.assign(Object.assign({},_l),gu),Re.props),yu=x({name:"Dropdown",inheritAttrs:!1,props:wu,setup(e){const t=f(!1),n=Sr(T(e,"show"),t),r=a(()=>{const{keyField:t,childrenField:n}=e;return vl(e.options,{getKey:e=>e[t],getDisabled:e=>!0===e.disabled,getIgnored:e=>"divider"===e.type||"render"===e.type,getChildren:e=>e[n]})}),o=a(()=>r.value.treeNodes),l=f(null),s=f(null),d=f(null),c=a(()=>{var e,t,n;return null!==(n=null!==(t=null!==(e=l.value)&&void 0!==e?e:s.value)&&void 0!==t?t:d.value)&&void 0!==n?n:null}),u=a(()=>r.value.getPath(c.value).keyPath),h=a(()=>r.value.getPath(e.value).keyPath);$r({keydown:{ArrowUp:{prevent:!0,handler:function(){k("up")}},ArrowRight:{prevent:!0,handler:function(){k("right")}},ArrowDown:{prevent:!0,handler:function(){k("down")}},ArrowLeft:{prevent:!0,handler:function(){k("left")}},Enter:{prevent:!0,handler:function(){const e=x();(null==e?void 0:e.isLeaf)&&n.value&&(b(e.key,e.rawNode),w(!1))}},Escape:function(){w(!1)}}},v(()=>e.keyboard&&n.value));const{mergedClsPrefixRef:p,inlineThemeDisabled:m}=Me(e),g=Re("Dropdown","-dropdown",mu,Yt,e,p);function b(t,n){const{onSelect:r}=e;r&&rt(r,t,n)}function w(n){const{"onUpdate:show":r,onUpdateShow:o}=e;r&&rt(r,n),o&&rt(o,n),t.value=n}function y(){l.value=null,s.value=null,d.value=null}function x(){var e;const{value:t}=r,{value:n}=c;return t&&null!==n&&null!==(e=t.getNode(n))&&void 0!==e?e:null}function k(e){const{value:t}=c,{value:{getFirstAvailableNode:n}}=r;let o=null;if(null===t){const e=n();null!==e&&(o=e.key)}else{const t=x();if(t){let n;switch(e){case"down":n=t.getNext();break;case"up":n=t.getPrev();break;case"right":n=t.getChild();break;case"left":n=t.getParent()}n&&(o=n.key)}}null!==o&&(l.value=null,s.value=o)}C(ru,{labelFieldRef:T(e,"labelField"),childrenFieldRef:T(e,"childrenField"),renderLabelRef:T(e,"renderLabel"),renderIconRef:T(e,"renderIcon"),hoverKeyRef:l,keyboardKeyRef:s,lastToggledSubmenuKeyRef:d,pendingKeyPathRef:u,activeKeyPathRef:h,animatedRef:T(e,"animated"),mergedShowRef:n,nodePropsRef:T(e,"nodeProps"),renderOptionRef:T(e,"renderOption"),menuPropsRef:T(e,"menuProps"),doSelect:b,doUpdateShow:w}),i(n,t=>{e.animated||t||y()});const S=a(()=>{const{size:t,inverted:n}=e,{common:{cubicBezierEaseInOut:r},self:o}=g.value,{padding:i,dividerColor:a,borderRadius:l,optionOpacityDisabled:s,[Ae("optionIconSuffixWidth",t)]:d,[Ae("optionSuffixWidth",t)]:c,[Ae("optionIconPrefixWidth",t)]:u,[Ae("optionPrefixWidth",t)]:h,[Ae("fontSize",t)]:p,[Ae("optionHeight",t)]:f,[Ae("optionIconSize",t)]:v}=o,m={"--n-bezier":r,"--n-font-size":p,"--n-padding":i,"--n-border-radius":l,"--n-option-height":f,"--n-option-prefix-width":h,"--n-option-icon-prefix-width":u,"--n-option-suffix-width":c,"--n-option-icon-suffix-width":d,"--n-option-icon-size":v,"--n-divider-color":a,"--n-option-opacity-disabled":s};return n?(m["--n-color"]=o.colorInverted,m["--n-option-color-hover"]=o.optionColorHoverInverted,m["--n-option-color-active"]=o.optionColorActiveInverted,m["--n-option-text-color"]=o.optionTextColorInverted,m["--n-option-text-color-hover"]=o.optionTextColorHoverInverted,m["--n-option-text-color-active"]=o.optionTextColorActiveInverted,m["--n-option-text-color-child-active"]=o.optionTextColorChildActiveInverted,m["--n-prefix-color"]=o.prefixColorInverted,m["--n-suffix-color"]=o.suffixColorInverted,m["--n-group-header-text-color"]=o.groupHeaderTextColorInverted):(m["--n-color"]=o.color,m["--n-option-color-hover"]=o.optionColorHover,m["--n-option-color-active"]=o.optionColorActive,m["--n-option-text-color"]=o.optionTextColor,m["--n-option-text-color-hover"]=o.optionTextColorHover,m["--n-option-text-color-active"]=o.optionTextColorActive,m["--n-option-text-color-child-active"]=o.optionTextColorChildActive,m["--n-prefix-color"]=o.prefixColor,m["--n-suffix-color"]=o.suffixColor,m["--n-group-header-text-color"]=o.groupHeaderTextColor),m}),z=m?Oe("dropdown",a(()=>`${e.size[0]}${e.inverted?"i":""}`),S,e):void 0;return{mergedClsPrefix:p,mergedTheme:g,tmNodes:o,mergedShow:n,handleAfterLeave:()=>{e.animated&&y()},doUpdateShow:w,cssVars:m?void 0:S,themeClass:null==z?void 0:z.themeClass,onRender:null==z?void 0:z.onRender}},render(){const{mergedTheme:e}=this,t={show:this.mergedShow,theme:e.peers.Popover,themeOverrides:e.peerOverrides.Popover,internalOnAfterLeave:this.handleAfterLeave,internalRenderBody:(e,t,n,r,o)=>{var i;const{mergedClsPrefix:a,menuProps:l}=this;null===(i=this.onRender)||void 0===i||i.call(this);const s=(null==l?void 0:l(void 0,this.tmNodes.map(e=>e.rawNode)))||{},d={ref:ko(t),class:[e,`${a}-dropdown`,this.themeClass],clsPrefix:a,tmNodes:this.tmNodes,style:[...n,this.cssVars],showArrow:this.showArrow,arrowStyle:this.arrowStyle,scrollable:this.scrollable,onMouseenter:r,onMouseleave:o};return M(vu,_(this.$attrs,d,s))},onUpdateShow:this.doUpdateShow,"onUpdate:show":void 0};return M(El,Object.assign({},nt(this.$props,bu),t),{trigger:()=>{var e,t;return null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e)}})}}),xu=p("n-date-picker"),ku=40,Cu={active:Boolean,dateFormat:String,calendarDayFormat:String,calendarHeaderYearFormat:String,calendarHeaderMonthFormat:String,calendarHeaderMonthYearSeparator:{type:String,required:!0},calendarHeaderMonthBeforeYear:{type:Boolean,default:void 0},timePickerFormat:{type:String,value:"HH:mm:ss"},value:{type:[Array,Number],default:null},shortcuts:Object,defaultTime:[Number,String,Array,Function],inputReadonly:Boolean,onClear:Function,onConfirm:Function,onClose:Function,onTabOut:Function,onKeydown:Function,actions:Array,onUpdateValue:{type:Function,required:!0},themeClass:String,onRender:Function,panel:Boolean,onNextMonth:Function,onPrevMonth:Function,onNextYear:Function,onPrevYear:Function};function Su(e){const{dateLocaleRef:t,timePickerSizeRef:n,timePickerPropsRef:r,localeRef:o,mergedClsPrefixRef:i,mergedThemeRef:l}=m(xu),s=a(()=>({locale:t.value.locale})),d=f(null),c=$r();function u(t,n){const{onUpdateValue:r}=e;r(t,n)}function h(t=!1){const{onClose:n}=e;n&&n(t)}function p(){const{onTabOut:t}=e;t&&t()}let v=null,g=!1;function b(){g&&(u(v,!1),g=!1)}const w=f(!1);return{mergedTheme:l,mergedClsPrefix:i,dateFnsOptions:s,timePickerSize:n,timePickerProps:r,selfRef:d,locale:o,doConfirm:function(){const{onConfirm:t,value:n}=e;t&&t(n)},doClose:h,doUpdateValue:u,doTabOut:p,handleClearClick:function(){u(null,!0),h(!0),function(){const{onClear:t}=e;t&&t()}()},handleFocusDetectorFocus:function(){p()},disableTransitionOneTick:function(){(e.active||e.panel)&&D(()=>{const{value:e}=d;if(!e)return;const t=e.querySelectorAll("[data-n-date]");t.forEach(e=>{e.classList.add("transition-disabled")}),e.offsetWidth,t.forEach(e=>{e.classList.remove("transition-disabled")})})},handlePanelKeyDown:function(e){"Tab"===e.key&&e.target===d.value&&c.shift&&(e.preventDefault(),p())},handlePanelFocus:function(e){const{value:t}=d;c.tab&&e.target===t&&(null==t?void 0:t.contains(e.relatedTarget))&&p()},cachePendingValue:function(){v=e.value,g=!0},clearPendingValue:function(){g=!1},restorePendingValue:b,getShortcutValue:function(e){return"function"==typeof e?e():e},handleShortcutMouseleave:b,showMonthYearPanel:w,handleOpenQuickSelectMonthPanel:function(){w.value=!w.value}}}const zu=Object.assign(Object.assign({},Cu),{defaultCalendarStartTime:Number,actions:{type:Array,default:()=>["now","clear","confirm"]}});function $u(e,t){var n;const r=Su(e),{isValueInvalidRef:o,isDateDisabledRef:l,isDateInvalidRef:s,isTimeInvalidRef:d,isDateTimeInvalidRef:c,isHourDisabledRef:u,isMinuteDisabledRef:h,isSecondDisabledRef:p,localeRef:v,firstDayOfWeekRef:g,datePickerSlots:b,yearFormatRef:w,monthFormatRef:y,quarterFormatRef:x,yearRangeRef:k}=m(xu),C={isValueInvalid:o,isDateDisabled:l,isDateInvalid:s,isTimeInvalid:d,isDateTimeInvalid:c,isHourDisabled:u,isMinuteDisabled:h,isSecondDisabled:p},S=a(()=>e.dateFormat||v.value.dateFormat),z=a(()=>e.calendarDayFormat||v.value.dayFormat),$=f(null===e.value||Array.isArray(e.value)?"":ud(e.value,S.value)),M=f(null===e.value||Array.isArray(e.value)?null!==(n=e.defaultCalendarStartTime)&&void 0!==n?n:Date.now():e.value),R=f(null),A=f(null),O=f(null),T=f(Date.now()),P=a(()=>{var n;return Bc(M.value,e.value,T.value,null!==(n=g.value)&&void 0!==n?n:v.value.firstDayOfWeek,!1,"week"===t)}),D=a(()=>{const{value:t}=e;return Ec(M.value,Array.isArray(t)?null:t,T.value,{monthFormat:y.value})}),F=a(()=>{const{value:t}=e;return Ic(Array.isArray(t)?null:t,T.value,{yearFormat:w.value},k)}),_=a(()=>{const{value:t}=e;return jc(M.value,Array.isArray(t)?null:t,T.value,{quarterFormat:x.value})}),B=a(()=>P.value.slice(0,7).map(e=>{const{ts:t}=e;return ud(t,z.value,r.dateFnsOptions.value)})),E=a(()=>ud(M.value,e.calendarHeaderMonthFormat||v.value.monthFormat,r.dateFnsOptions.value)),j=a(()=>ud(M.value,e.calendarHeaderYearFormat||v.value.yearFormat,r.dateFnsOptions.value)),I=a(()=>{var t;return null!==(t=e.calendarHeaderMonthBeforeYear)&&void 0!==t?t:v.value.monthBeforeYear});function L(e){var n;if("datetime"===t)return yd(wc(e));if("month"===t)return yd(Ds(e));if("year"===t)return yd(Fs(e));if("quarter"===t)return yd(Ps(e));if("week"===t){const t=((null!==(n=g.value)&&void 0!==n?n:v.value.firstDayOfWeek)+1)%7;return yd(zt(e,{weekStartsOn:t}))}return yd(Ms(e))}function N(e,t){const{isDateDisabled:{value:n}}=C;return!!n&&n(e,t)}i(M,(e,n)=>{"date"!==t&&"datetime"!==t||gc(e,n)||r.disableTransitionOneTick()}),i(a(()=>e.value),e=>{null===e||Array.isArray(e)?$.value="":($.value=ud(e,S.value,r.dateFnsOptions.value),M.value=e)});const H=f(null);function Y(){C.isDateInvalid.value||C.isTimeInvalid.value||(r.doConfirm(),e.active&&r.doClose())}function W(t){const{value:n}=e;if(O.value){const e=bd(void 0===t?null===n?Date.now():n:t);O.value.scrollTo({top:e*ku})}if(R.value){const e=xd(void 0===t?null===n?Date.now():n:t)-k.value[0];R.value.scrollTo({top:e*ku})}}const U={monthScrollbarRef:O,yearScrollbarRef:A,yearVlRef:R};return Object.assign(Object.assign(Object.assign(Object.assign({dateArray:P,monthArray:D,yearArray:F,quarterArray:_,calendarYear:j,calendarMonth:E,weekdays:B,calendarMonthBeforeYear:I,mergedIsDateDisabled:N,nextYear:function(){var t;M.value=yd(As(M.value,1)),null===(t=e.onNextYear)||void 0===t||t.call(e)},prevYear:function(){var t;M.value=yd(As(M.value,-1)),null===(t=e.onPrevYear)||void 0===t||t.call(e)},nextMonth:function(){var t;M.value=yd(Cs(M.value,1)),null===(t=e.onNextMonth)||void 0===t||t.call(e)},prevMonth:function(){var t;M.value=yd(Cs(M.value,-1)),null===(t=e.onPrevMonth)||void 0===t||t.call(e)},handleNowClick:function(){r.doUpdateValue(yd(L(Date.now())),!0);const n=Date.now();M.value=n,r.doClose(!0),!e.panel||"month"!==t&&"quarter"!==t&&"year"!==t||(r.disableTransitionOneTick(),W(n))},handleConfirmClick:Y,handleSingleShortcutMouseenter:function(e){r.cachePendingValue();const t=r.getShortcutValue(e);"number"==typeof t&&r.doUpdateValue(t,!1)},handleSingleShortcutClick:function(t){const n=r.getShortcutValue(t);"number"==typeof n&&(r.doUpdateValue(n,e.panel),r.clearPendingValue(),Y())}},C),r),U),{handleDateClick:function(n){if(N(n.ts,"date"===n.type?{type:"date",year:n.dateObject.year,month:n.dateObject.month,date:n.dateObject.date}:"month"===n.type?{type:"month",year:n.dateObject.year,month:n.dateObject.month}:"year"===n.type?{type:"year",year:n.dateObject.year}:{type:"quarter",year:n.dateObject.year,quarter:n.dateObject.quarter}))return;let o;if(o=null===e.value||Array.isArray(e.value)?Date.now():e.value,"datetime"===t&&null!==e.defaultTime&&!Array.isArray(e.defaultTime)){let t;"function"==typeof e.defaultTime?(i=n.ts,t=Hc((0,e.defaultTime)(i))):t=Hc(e.defaultTime),t&&(o=yd(kc(o,t)))}var i;switch(o=yd("quarter"===n.type&&n.dateObject.quarter?function(e,t,n){const r=Ct(e,null==n?void 0:n.in),o=t-(Math.trunc(r.getMonth()/3)+1);return xc(r,r.getMonth()+3*o)}($c(o,n.dateObject.year),n.dateObject.quarter):kc(o,n.dateObject)),r.doUpdateValue(L(o),e.panel||"date"===t||"week"===t||"year"===t),t){case"date":case"week":r.doClose();break;case"year":e.panel&&r.disableTransitionOneTick(),r.doClose();break;case"month":case"quarter":r.disableTransitionOneTick(),W(o)}},handleDateInputBlur:function(){const t=Lc($.value,S.value,new Date,r.dateFnsOptions.value);if(Os(t)){if(null===e.value)r.doUpdateValue(yd(L(Date.now())),!1);else if(!Array.isArray(e.value)){const n=kc(e.value,{year:xd(t),month:bd(t),date:pd(t)});r.doUpdateValue(yd(L(yd(n))),!1)}}else!function(t){if(null===e.value||Array.isArray(e.value))return void($.value="");void 0===t&&(t=e.value);$.value=ud(t,S.value,r.dateFnsOptions.value)}()},handleDateInput:function(t){const n=Lc(t,S.value,new Date,r.dateFnsOptions.value);if(Os(n)){if(null===e.value)r.doUpdateValue(yd(L(Date.now())),e.panel);else if(!Array.isArray(e.value)){const t=kc(e.value,{year:xd(n),month:bd(n),date:pd(n)});r.doUpdateValue(yd(L(yd(t))),e.panel)}}else $.value=t},handleDateMouseEnter:function(e){"date"===e.type&&"week"===t&&(H.value=L(yd(e.ts)))},isWeekHovered:function(e){return"date"===e.type&&"week"===t&&L(yd(e.ts))===H.value},handleTimePickerChange:function(t){null!==t&&r.doUpdateValue(t,e.panel)},clearSelectedDateTime:function(){r.doUpdateValue(null,!0),$.value="",r.doClose(!0),r.handleClearClick()},virtualListContainer:function(){const{value:e}=R;return(null==e?void 0:e.listElRef)||null},virtualListContent:function(){const{value:e}=R;return(null==e?void 0:e.itemsElRef)||null},handleVirtualListScroll:function(){var e;null===(e=A.value)||void 0===e||e.sync()},timePickerSize:r.timePickerSize,dateInputValue:$,datePickerSlots:b,handleQuickMonthClick:function(t,n){let r;r=null===e.value||Array.isArray(e.value)?Date.now():e.value,r=yd("month"===t.type?xc(r,t.dateObject.month):$c(r,t.dateObject.year)),n(r),W(r)},justifyColumnsScrollState:W,calendarValue:M,onUpdateCalendarValue:function(e){M.value=e}})}const Mu=x({name:"MonthPanel",props:Object.assign(Object.assign({},zu),{type:{type:String,required:!0},useAsQuickJump:Boolean}),setup(e){const t=$u(e,e.type),{dateLocaleRef:r}=ka("DatePicker"),{useAsQuickJump:o}=e;return n(()=>{t.justifyColumnsScrollState()}),Object.assign(Object.assign({},t),{renderItem:(n,i,a)=>{const{mergedIsDateDisabled:l,handleDateClick:s,handleQuickMonthClick:d}=t;return M("div",{"data-n-date":!0,key:i,class:[`${a}-date-panel-month-calendar__picker-col-item`,n.isCurrent&&`${a}-date-panel-month-calendar__picker-col-item--current`,n.selected&&`${a}-date-panel-month-calendar__picker-col-item--selected`,!o&&l(n.ts,"year"===n.type?{type:"year",year:n.dateObject.year}:"month"===n.type?{type:"month",year:n.dateObject.year,month:n.dateObject.month}:"quarter"===n.type?{type:"month",year:n.dateObject.year,month:n.dateObject.quarter}:null)&&`${a}-date-panel-month-calendar__picker-col-item--disabled`],onClick:()=>{o?d(n,t=>{e.onUpdateValue(t,!1)}):s(n)}},(e=>{switch(e.type){case"year":return Tc(e.dateObject.year,e.yearFormat,r.value.locale);case"month":return Oc(e.dateObject.month,e.monthFormat,r.value.locale);case"quarter":return Pc(e.dateObject.quarter,e.quarterFormat,r.value.locale)}})(n))}})},render(){const{mergedClsPrefix:e,mergedTheme:t,shortcuts:n,actions:r,renderItem:o,type:i,onRender:a}=this;return null==a||a(),M("div",{ref:"selfRef",tabindex:0,class:[`${e}-date-panel`,`${e}-date-panel--month`,!this.panel&&`${e}-date-panel--shadow`,this.themeClass],onFocus:this.handlePanelFocus,onKeydown:this.handlePanelKeyDown},M("div",{class:`${e}-date-panel-month-calendar`},M(Ie,{ref:"yearScrollbarRef",class:`${e}-date-panel-month-calendar__picker-col`,theme:t.peers.Scrollbar,themeOverrides:t.peerOverrides.Scrollbar,container:this.virtualListContainer,content:this.virtualListContent,horizontalRailStyle:{zIndex:1},verticalRailStyle:{zIndex:1}},{default:()=>M(ao,{ref:"yearVlRef",items:this.yearArray,itemSize:ku,showScrollbar:!1,keyField:"ts",onScroll:this.handleVirtualListScroll,paddingBottom:4},{default:({item:t,index:n})=>o(t,n,e)})}),"month"===i||"quarter"===i?M("div",{class:`${e}-date-panel-month-calendar__picker-col`},M(Ie,{ref:"monthScrollbarRef",theme:t.peers.Scrollbar,themeOverrides:t.peerOverrides.Scrollbar},{default:()=>[("month"===i?this.monthArray:this.quarterArray).map((t,n)=>o(t,n,e)),M("div",{class:`${e}-date-panel-${i}-calendar__padding`})]})):null),Ee(this.datePickerSlots.footer,t=>t?M("div",{class:`${e}-date-panel-footer`},t):null),(null==r?void 0:r.length)||n?M("div",{class:`${e}-date-panel-actions`},M("div",{class:`${e}-date-panel-actions__prefix`},n&&Object.keys(n).map(e=>{const t=n[e];return Array.isArray(t)?null:M(Wt,{size:"tiny",onMouseenter:()=>{this.handleSingleShortcutMouseenter(t)},onClick:()=>{this.handleSingleShortcutClick(t)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>e})})),M("div",{class:`${e}-date-panel-actions__suffix`},(null==r?void 0:r.includes("clear"))?pt(this.datePickerSlots.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[M(Ut,{theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,(null==r?void 0:r.includes("now"))?pt(this.datePickerSlots.now,{onNow:this.handleNowClick,text:this.locale.now},()=>[M(Ut,{theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,size:"tiny",onClick:this.handleNowClick},{default:()=>this.locale.now})]):null,(null==r?void 0:r.includes("confirm"))?pt(this.datePickerSlots.confirm,{onConfirm:this.handleConfirmClick,disabled:this.isDateInvalid,text:this.locale.confirm},()=>[M(Ut,{theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isDateInvalid,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,M(Va,{onFocus:this.handleFocusDetectorFocus}))}}),Ru=x({props:{mergedClsPrefix:{type:String,required:!0},value:Number,monthBeforeYear:{type:Boolean,required:!0},monthYearSeparator:{type:String,required:!0},calendarMonth:{type:String,required:!0},calendarYear:{type:String,required:!0},onUpdateValue:{type:Function,required:!0}},setup(){const e=f(null),t=f(null),n=f(!1);return{show:n,triggerRef:e,monthPanelRef:t,handleHeaderClick:function(){n.value=!n.value},handleClickOutside:function(t){var r;n.value&&!(null===(r=e.value)||void 0===r?void 0:r.contains(qe(t)))&&(n.value=!1)}}},render(){const{handleClickOutside:e,mergedClsPrefix:t}=this;return M("div",{class:`${t}-date-panel-month__month-year`,ref:"triggerRef"},M(Br,null,{default:()=>[M(Er,null,{default:()=>M("div",{class:[`${t}-date-panel-month__text`,this.show&&`${t}-date-panel-month__text--active`],onClick:this.handleHeaderClick},this.monthBeforeYear?[this.calendarMonth,this.monthYearSeparator,this.calendarYear]:[this.calendarYear,this.monthYearSeparator,this.calendarMonth])}),M(Jr,{show:this.show,teleportDisabled:!0},{default:()=>M(De,{name:"fade-in-scale-up-transition",appear:!0},{default:()=>this.show?S(M(Mu,{ref:"monthPanelRef",onUpdateValue:this.onUpdateValue,actions:[],calendarHeaderMonthYearSeparator:this.monthYearSeparator,type:"month",key:"month",useAsQuickJump:!0,value:this.value}),[[Ue,e,void 0,{capture:!0}]]):null})})]}))}}),Au=x({name:"DatePanel",props:Object.assign(Object.assign({},zu),{type:{type:String,required:!0}}),setup:e=>$u(e,e.type),render(){var e,t,n;const{mergedClsPrefix:r,mergedTheme:o,shortcuts:i,onRender:a,datePickerSlots:l,type:s}=this;return null==a||a(),M("div",{ref:"selfRef",tabindex:0,class:[`${r}-date-panel`,`${r}-date-panel--${s}`,!this.panel&&`${r}-date-panel--shadow`,this.themeClass],onFocus:this.handlePanelFocus,onKeydown:this.handlePanelKeyDown},M("div",{class:`${r}-date-panel-calendar`},M("div",{class:`${r}-date-panel-month`},M("div",{class:`${r}-date-panel-month__fast-prev`,onClick:this.prevYear},Se(l["prev-year"],()=>[M(Fa,null)])),M("div",{class:`${r}-date-panel-month__prev`,onClick:this.prevMonth},Se(l["prev-month"],()=>[M(Sa,null)])),M(Ru,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.calendarValue,onUpdateValue:this.onUpdateCalendarValue,mergedClsPrefix:r,calendarMonth:this.calendarMonth,calendarYear:this.calendarYear}),M("div",{class:`${r}-date-panel-month__next`,onClick:this.nextMonth},Se(l["next-month"],()=>[M(Ba,null)])),M("div",{class:`${r}-date-panel-month__fast-next`,onClick:this.nextYear},Se(l["next-year"],()=>[M(_a,null)]))),M("div",{class:`${r}-date-panel-weekdays`},this.weekdays.map(e=>M("div",{key:e,class:`${r}-date-panel-weekdays__day`},e))),M("div",{class:`${r}-date-panel-dates`},this.dateArray.map((e,t)=>M("div",{"data-n-date":!0,key:t,class:[`${r}-date-panel-date`,{[`${r}-date-panel-date--current`]:e.isCurrentDate,[`${r}-date-panel-date--selected`]:e.selected,[`${r}-date-panel-date--excluded`]:!e.inCurrentMonth,[`${r}-date-panel-date--disabled`]:this.mergedIsDateDisabled(e.ts,{type:"date",year:e.dateObject.year,month:e.dateObject.month,date:e.dateObject.date}),[`${r}-date-panel-date--week-hovered`]:this.isWeekHovered(e),[`${r}-date-panel-date--week-selected`]:e.inSelectedWeek}],onClick:()=>{this.handleDateClick(e)},onMouseenter:()=>{this.handleDateMouseEnter(e)}},M("div",{class:`${r}-date-panel-date__trigger`}),e.dateObject.date,e.isCurrentDate?M("div",{class:`${r}-date-panel-date__sup`}):null)))),this.datePickerSlots.footer?M("div",{class:`${r}-date-panel-footer`},this.datePickerSlots.footer()):null,(null===(e=this.actions)||void 0===e?void 0:e.length)||i?M("div",{class:`${r}-date-panel-actions`},M("div",{class:`${r}-date-panel-actions__prefix`},i&&Object.keys(i).map(e=>{const t=i[e];return Array.isArray(t)?null:M(Wt,{size:"tiny",onMouseenter:()=>{this.handleSingleShortcutMouseenter(t)},onClick:()=>{this.handleSingleShortcutClick(t)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>e})})),M("div",{class:`${r}-date-panel-actions__suffix`},(null===(t=this.actions)||void 0===t?void 0:t.includes("clear"))?pt(this.$slots.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[M(Ut,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,(null===(n=this.actions)||void 0===n?void 0:n.includes("now"))?pt(this.$slots.now,{onNow:this.handleNowClick,text:this.locale.now},()=>[M(Ut,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",onClick:this.handleNowClick},{default:()=>this.locale.now})]):null)):null,M(Va,{onFocus:this.handleFocusDetectorFocus}))}}),Ou=Object.assign(Object.assign({},Cu),{defaultCalendarStartTime:Number,defaultCalendarEndTime:Number,bindCalendarMonths:Boolean,actions:{type:Array,default:()=>["clear","confirm"]}});function Tu(e,t){var n,r;const{isDateDisabledRef:o,isStartHourDisabledRef:l,isEndHourDisabledRef:s,isStartMinuteDisabledRef:d,isEndMinuteDisabledRef:c,isStartSecondDisabledRef:u,isEndSecondDisabledRef:h,isStartDateInvalidRef:p,isEndDateInvalidRef:v,isStartTimeInvalidRef:g,isEndTimeInvalidRef:b,isStartValueInvalidRef:w,isEndValueInvalidRef:y,isRangeInvalidRef:x,localeRef:k,rangesRef:C,closeOnSelectRef:S,updateValueOnCloseRef:z,firstDayOfWeekRef:$,datePickerSlots:M,monthFormatRef:R,yearFormatRef:A,quarterFormatRef:O,yearRangeRef:T}=m(xu),P={isDateDisabled:o,isStartHourDisabled:l,isEndHourDisabled:s,isStartMinuteDisabled:d,isEndMinuteDisabled:c,isStartSecondDisabled:u,isEndSecondDisabled:h,isStartDateInvalid:p,isEndDateInvalid:v,isStartTimeInvalid:g,isEndTimeInvalid:b,isStartValueInvalid:w,isEndValueInvalid:y,isRangeInvalid:x},D=Su(e),F=f(null),_=f(null),B=f(null),E=f(null),j=f(null),I=f(null),L=f(null),N=f(null),{value:H}=e,Y=null!==(n=e.defaultCalendarStartTime)&&void 0!==n?n:Array.isArray(H)&&"number"==typeof H[0]?H[0]:Date.now(),W=f(Y),U=f(null!==(r=e.defaultCalendarEndTime)&&void 0!==r?r:Array.isArray(H)&&"number"==typeof H[1]?H[1]:yd(Cs(Y,1)));be(!0);const V=f(Date.now()),q=f(!1),X=f(0),Q=a(()=>e.dateFormat||k.value.dateFormat),K=a(()=>e.calendarDayFormat||k.value.dayFormat),Z=f(Array.isArray(H)?ud(H[0],Q.value,D.dateFnsOptions.value):""),G=f(Array.isArray(H)?ud(H[1],Q.value,D.dateFnsOptions.value):""),J=a(()=>q.value?"end":"start"),ee=a(()=>{var t;return Bc(W.value,e.value,V.value,null!==(t=$.value)&&void 0!==t?t:k.value.firstDayOfWeek)}),te=a(()=>{var t;return Bc(U.value,e.value,V.value,null!==(t=$.value)&&void 0!==t?t:k.value.firstDayOfWeek)}),ne=a(()=>ee.value.slice(0,7).map(e=>{const{ts:t}=e;return ud(t,K.value,D.dateFnsOptions.value)})),re=a(()=>ud(W.value,e.calendarHeaderMonthFormat||k.value.monthFormat,D.dateFnsOptions.value)),oe=a(()=>ud(U.value,e.calendarHeaderMonthFormat||k.value.monthFormat,D.dateFnsOptions.value)),ie=a(()=>ud(W.value,e.calendarHeaderYearFormat||k.value.yearFormat,D.dateFnsOptions.value)),ae=a(()=>ud(U.value,e.calendarHeaderYearFormat||k.value.yearFormat,D.dateFnsOptions.value)),le=a(()=>{const{value:t}=e;return Array.isArray(t)?t[0]:null}),se=a(()=>{const{value:t}=e;return Array.isArray(t)?t[1]:null}),de=a(()=>{const{shortcuts:t}=e;return t||C.value}),ce=a(()=>Ic(Yc(e.value,"start"),V.value,{yearFormat:A.value},T)),ue=a(()=>Ic(Yc(e.value,"end"),V.value,{yearFormat:A.value},T)),he=a(()=>{const t=Yc(e.value,"start");return jc(null!=t?t:Date.now(),t,V.value,{quarterFormat:O.value})}),pe=a(()=>{const t=Yc(e.value,"end");return jc(null!=t?t:Date.now(),t,V.value,{quarterFormat:O.value})}),fe=a(()=>{const t=Yc(e.value,"start");return Ec(null!=t?t:Date.now(),t,V.value,{monthFormat:R.value})}),ve=a(()=>{const t=Yc(e.value,"end");return Ec(null!=t?t:Date.now(),t,V.value,{monthFormat:R.value})}),me=a(()=>{var t;return null!==(t=e.calendarHeaderMonthBeforeYear)&&void 0!==t?t:k.value.monthBeforeYear});function ge(e,n){"daterange"!==t&&"datetimerange"!==t||xd(e)===xd(n)&&bd(e)===bd(n)||D.disableTransitionOneTick()}function be(t){const n=Ds(W.value),r=Ds(U.value);(e.bindCalendarMonths||n>=r)&&(t?U.value=yd(Cs(n,1)):W.value=yd(Cs(r,-1)))}function we(t){const n=o.value;if(!n)return!1;if(!Array.isArray(e.value))return n(t,"start",null);if("start"===J.value)return n(t,"start",null);{const{value:e}=X;return t<X.value?n(t,"start",[e,e]):n(t,"end",[e,e])}}function ye(){x.value||(D.doConfirm(),xe())}function xe(){q.value=!1,e.active&&D.doClose()}function ke(t){"number"!=typeof t&&(t=yd(t)),null===e.value?D.doUpdateValue([t,t],e.panel):Array.isArray(e.value)&&D.doUpdateValue([t,Math.max(e.value[1],t)],e.panel)}function Ce(t){"number"!=typeof t&&(t=yd(t)),null===e.value?D.doUpdateValue([t,t],e.panel):Array.isArray(e.value)&&D.doUpdateValue([Math.min(e.value[0],t),t],e.panel)}function Se(n,r,o){if("number"!=typeof n&&(n=yd(n)),"shortcutPreview"!==o&&"shortcutDone"!==o){let o,i;if("datetimerange"===t){const{defaultTime:t}=e;"function"==typeof t?(o=Nc(n,t,"start",[n,r]),i=Nc(r,t,"end",[n,r])):Array.isArray(t)?(o=Hc(t[0]),i=Hc(t[1])):(o=Hc(t),i=o)}o&&(n=yd(kc(n,o))),i&&(r=yd(kc(r,i)))}D.doUpdateValue([n,r],e.panel&&("done"===o||"shortcutDone"===o))}function ze(e){return yd("datetimerange"===t?wc(e):"monthrange"===t?Ds(e):Ms(e))}function $e(t){const{value:n}=e;if(null===n||!Array.isArray(n))return Z.value="",void(G.value="");void 0===t&&(t=n),Z.value=ud(t[0],Q.value,D.dateFnsOptions.value),G.value=ud(t[1],Q.value,D.dateFnsOptions.value)}function Me(t,n){const r=void 0===t?e.value:t;if(void 0===t||"start"===n){if(L.value){const e=Array.isArray(r)?bd(r[0]):bd(Date.now());L.value.scrollTo({debounce:!1,index:e,elSize:ku})}if(j.value){const e=(Array.isArray(r)?xd(r[0]):xd(Date.now()))-T.value[0];j.value.scrollTo({index:e,debounce:!1})}}if(void 0===t||"end"===n){if(N.value){const e=Array.isArray(r)?bd(r[1]):bd(Date.now());N.value.scrollTo({debounce:!1,index:e,elSize:ku})}if(I.value){const e=(Array.isArray(r)?xd(r[1]):xd(Date.now()))-T.value[0];I.value.scrollTo({index:e,debounce:!1})}}}i(a(()=>e.value),e=>{if(null!==e&&Array.isArray(e)){const[t,n]=e;Z.value=ud(t,Q.value,D.dateFnsOptions.value),G.value=ud(n,Q.value,D.dateFnsOptions.value),q.value||function(e){if(null===e)return;const[t,n]=e;W.value=t,Ds(n)<=Ds(t)?U.value=yd(Ds(Cs(t,1))):U.value=yd(Ds(n))}(e)}else Z.value="",G.value=""}),i(W,ge),i(U,ge);const Re={startYearVlRef:j,endYearVlRef:I,startMonthScrollbarRef:L,endMonthScrollbarRef:N,startYearScrollbarRef:B,endYearScrollbarRef:E};return Object.assign(Object.assign(Object.assign(Object.assign({startDatesElRef:F,endDatesElRef:_,handleDateClick:function(n){if(q.value){q.value=!1;const{value:n}=e;e.panel&&Array.isArray(n)?Se(n[0],n[1],"done"):S.value&&"daterange"===t&&(z.value?xe():ye())}else q.value=!0,X.value=n.ts,Se(n.ts,n.ts,"done")},handleColItemClick:function(n,r){const{value:o}=e,i=!Array.isArray(o),a="year"===n.type&&"yearrange"!==t?i?kc(n.ts,{month:bd("quarterrange"===t?Ps(new Date):new Date)}).valueOf():kc(n.ts,{month:bd("quarterrange"===t?Ps(o["start"===r?0:1]):o["start"===r?0:1])}).valueOf():n.ts;if(i){const t=ze(a),n=[t,t];return D.doUpdateValue(n,e.panel),Me(n,"start"),Me(n,"end"),void D.disableTransitionOneTick()}const l=[o[0],o[1]];let s=!1;switch("start"===r?(l[0]=ze(a),l[0]>l[1]&&(l[1]=l[0],s=!0)):(l[1]=ze(a),l[0]>l[1]&&(l[0]=l[1],s=!0)),D.doUpdateValue(l,e.panel),t){case"monthrange":case"quarterrange":D.disableTransitionOneTick(),s?(Me(l,"start"),Me(l,"end")):Me(l,r);break;case"yearrange":D.disableTransitionOneTick(),Me(l,"start"),Me(l,"end")}},handleDateMouseEnter:function(e){if(q.value){if(we(e.ts))return;e.ts>=X.value?Se(X.value,e.ts,"wipPreview"):Se(e.ts,X.value,"wipPreview")}},handleConfirmClick:ye,startCalendarPrevYear:function(){W.value=yd(Cs(W.value,-12)),be(!0)},startCalendarPrevMonth:function(){W.value=yd(Cs(W.value,-1)),be(!0)},startCalendarNextYear:function(){W.value=yd(Cs(W.value,12)),be(!0)},startCalendarNextMonth:function(){W.value=yd(Cs(W.value,1)),be(!0)},endCalendarPrevYear:function(){U.value=yd(Cs(U.value,-12)),be(!1)},endCalendarPrevMonth:function(){U.value=yd(Cs(U.value,-1)),be(!1)},endCalendarNextMonth:function(){U.value=yd(Cs(U.value,1)),be(!1)},endCalendarNextYear:function(){U.value=yd(Cs(U.value,12)),be(!1)},mergedIsDateDisabled:we,changeStartEndTime:Se,ranges:C,calendarMonthBeforeYear:me,startCalendarMonth:re,startCalendarYear:ie,endCalendarMonth:oe,endCalendarYear:ae,weekdays:ne,startDateArray:ee,endDateArray:te,startYearArray:ce,startMonthArray:fe,startQuarterArray:he,endYearArray:ue,endMonthArray:ve,endQuarterArray:pe,isSelecting:q,handleRangeShortcutMouseenter:function(e){D.cachePendingValue();const t=D.getShortcutValue(e);Array.isArray(t)&&Se(t[0],t[1],"shortcutPreview")},handleRangeShortcutClick:function(e){const t=D.getShortcutValue(e);Array.isArray(t)&&(Se(t[0],t[1],"shortcutDone"),D.clearPendingValue(),ye())}},D),P),Re),{startDateDisplayString:Z,endDateInput:G,timePickerSize:D.timePickerSize,startTimeValue:le,endTimeValue:se,datePickerSlots:M,shortcuts:de,startCalendarDateTime:W,endCalendarDateTime:U,justifyColumnsScrollState:Me,handleFocusDetectorFocus:D.handleFocusDetectorFocus,handleStartTimePickerChange:function(e){null!==e&&ke(e)},handleEndTimePickerChange:function(e){null!==e&&Ce(e)},handleStartDateInput:function(t){const n=Lc(t,Q.value,new Date,D.dateFnsOptions.value);if(Os(n))if(e.value){if(Array.isArray(e.value)){ke(ze(yd(kc(e.value[0],{year:xd(n),month:bd(n),date:pd(n)}))))}}else{ke(ze(yd(kc(new Date,{year:xd(n),month:bd(n),date:pd(n)}))))}else Z.value=t},handleStartDateInputBlur:function(){const t=Lc(Z.value,Q.value,new Date,D.dateFnsOptions.value),{value:n}=e;if(Os(t)){if(null===n){ke(ze(yd(kc(new Date,{year:xd(t),month:bd(t),date:pd(t)}))))}else if(Array.isArray(n)){ke(ze(yd(kc(n[0],{year:xd(t),month:bd(t),date:pd(t)}))))}}else $e()},handleEndDateInput:function(t){const n=Lc(t,Q.value,new Date,D.dateFnsOptions.value);if(Os(n)){if(null===e.value){Ce(ze(yd(kc(new Date,{year:xd(n),month:bd(n),date:pd(n)}))))}else if(Array.isArray(e.value)){Ce(ze(yd(kc(e.value[1],{year:xd(n),month:bd(n),date:pd(n)}))))}}else G.value=t},handleEndDateInputBlur:function(){const t=Lc(G.value,Q.value,new Date,D.dateFnsOptions.value),{value:n}=e;if(Os(t)){if(null===n){Ce(ze(yd(kc(new Date,{year:xd(t),month:bd(t),date:pd(t)}))))}else if(Array.isArray(n)){Ce(ze(yd(kc(n[1],{year:xd(t),month:bd(t),date:pd(t)}))))}}else $e()},handleStartYearVlScroll:function(){var e;null===(e=B.value)||void 0===e||e.sync()},handleEndYearVlScroll:function(){var e;null===(e=E.value)||void 0===e||e.sync()},virtualListContainer:function(e){var t,n;return"start"===e?(null===(t=j.value)||void 0===t?void 0:t.listElRef)||null:(null===(n=I.value)||void 0===n?void 0:n.listElRef)||null},virtualListContent:function(e){var t,n;return"start"===e?(null===(t=j.value)||void 0===t?void 0:t.itemsElRef)||null:(null===(n=I.value)||void 0===n?void 0:n.itemsElRef)||null},onUpdateStartCalendarValue:function(e){W.value=e,be(!0)},onUpdateEndCalendarValue:function(e){U.value=e,be(!1)}})}const Pu=x({name:"DateRangePanel",props:Ou,setup:e=>Tu(e,"daterange"),render(){var e,t,n;const{mergedClsPrefix:r,mergedTheme:o,shortcuts:i,onRender:a,datePickerSlots:l}=this;return null==a||a(),M("div",{ref:"selfRef",tabindex:0,class:[`${r}-date-panel`,`${r}-date-panel--daterange`,!this.panel&&`${r}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},M("div",{ref:"startDatesElRef",class:`${r}-date-panel-calendar ${r}-date-panel-calendar--start`},M("div",{class:`${r}-date-panel-month`},M("div",{class:`${r}-date-panel-month__fast-prev`,onClick:this.startCalendarPrevYear},Se(l["prev-year"],()=>[M(Fa,null)])),M("div",{class:`${r}-date-panel-month__prev`,onClick:this.startCalendarPrevMonth},Se(l["prev-month"],()=>[M(Sa,null)])),M(Ru,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.startCalendarDateTime,onUpdateValue:this.onUpdateStartCalendarValue,mergedClsPrefix:r,calendarMonth:this.startCalendarMonth,calendarYear:this.startCalendarYear}),M("div",{class:`${r}-date-panel-month__next`,onClick:this.startCalendarNextMonth},Se(l["next-month"],()=>[M(Ba,null)])),M("div",{class:`${r}-date-panel-month__fast-next`,onClick:this.startCalendarNextYear},Se(l["next-year"],()=>[M(_a,null)]))),M("div",{class:`${r}-date-panel-weekdays`},this.weekdays.map(e=>M("div",{key:e,class:`${r}-date-panel-weekdays__day`},e))),M("div",{class:`${r}-date-panel__divider`}),M("div",{class:`${r}-date-panel-dates`},this.startDateArray.map((e,t)=>M("div",{"data-n-date":!0,key:t,class:[`${r}-date-panel-date`,{[`${r}-date-panel-date--excluded`]:!e.inCurrentMonth,[`${r}-date-panel-date--current`]:e.isCurrentDate,[`${r}-date-panel-date--selected`]:e.selected,[`${r}-date-panel-date--covered`]:e.inSpan,[`${r}-date-panel-date--start`]:e.startOfSpan,[`${r}-date-panel-date--end`]:e.endOfSpan,[`${r}-date-panel-date--disabled`]:this.mergedIsDateDisabled(e.ts)}],onClick:()=>{this.handleDateClick(e)},onMouseenter:()=>{this.handleDateMouseEnter(e)}},M("div",{class:`${r}-date-panel-date__trigger`}),e.dateObject.date,e.isCurrentDate?M("div",{class:`${r}-date-panel-date__sup`}):null)))),M("div",{class:`${r}-date-panel__vertical-divider`}),M("div",{ref:"endDatesElRef",class:`${r}-date-panel-calendar ${r}-date-panel-calendar--end`},M("div",{class:`${r}-date-panel-month`},M("div",{class:`${r}-date-panel-month__fast-prev`,onClick:this.endCalendarPrevYear},Se(l["prev-year"],()=>[M(Fa,null)])),M("div",{class:`${r}-date-panel-month__prev`,onClick:this.endCalendarPrevMonth},Se(l["prev-month"],()=>[M(Sa,null)])),M(Ru,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.endCalendarDateTime,onUpdateValue:this.onUpdateEndCalendarValue,mergedClsPrefix:r,calendarMonth:this.endCalendarMonth,calendarYear:this.endCalendarYear}),M("div",{class:`${r}-date-panel-month__next`,onClick:this.endCalendarNextMonth},Se(l["next-month"],()=>[M(Ba,null)])),M("div",{class:`${r}-date-panel-month__fast-next`,onClick:this.endCalendarNextYear},Se(l["next-year"],()=>[M(_a,null)]))),M("div",{class:`${r}-date-panel-weekdays`},this.weekdays.map(e=>M("div",{key:e,class:`${r}-date-panel-weekdays__day`},e))),M("div",{class:`${r}-date-panel__divider`}),M("div",{class:`${r}-date-panel-dates`},this.endDateArray.map((e,t)=>M("div",{"data-n-date":!0,key:t,class:[`${r}-date-panel-date`,{[`${r}-date-panel-date--excluded`]:!e.inCurrentMonth,[`${r}-date-panel-date--current`]:e.isCurrentDate,[`${r}-date-panel-date--selected`]:e.selected,[`${r}-date-panel-date--covered`]:e.inSpan,[`${r}-date-panel-date--start`]:e.startOfSpan,[`${r}-date-panel-date--end`]:e.endOfSpan,[`${r}-date-panel-date--disabled`]:this.mergedIsDateDisabled(e.ts)}],onClick:()=>{this.handleDateClick(e)},onMouseenter:()=>{this.handleDateMouseEnter(e)}},M("div",{class:`${r}-date-panel-date__trigger`}),e.dateObject.date,e.isCurrentDate?M("div",{class:`${r}-date-panel-date__sup`}):null)))),this.datePickerSlots.footer?M("div",{class:`${r}-date-panel-footer`},this.datePickerSlots.footer()):null,(null===(e=this.actions)||void 0===e?void 0:e.length)||i?M("div",{class:`${r}-date-panel-actions`},M("div",{class:`${r}-date-panel-actions__prefix`},i&&Object.keys(i).map(e=>{const t=i[e];return Array.isArray(t)||"function"==typeof t?M(Wt,{size:"tiny",onMouseenter:()=>{this.handleRangeShortcutMouseenter(t)},onClick:()=>{this.handleRangeShortcutClick(t)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>e}):null})),M("div",{class:`${r}-date-panel-actions__suffix`},(null===(t=this.actions)||void 0===t?void 0:t.includes("clear"))?pt(l.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[M(Ut,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,(null===(n=this.actions)||void 0===n?void 0:n.includes("confirm"))?pt(l.confirm,{onConfirm:this.handleConfirmClick,disabled:this.isRangeInvalid||this.isSelecting,text:this.locale.confirm},()=>[M(Ut,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isRangeInvalid||this.isSelecting,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,M(Va,{onFocus:this.handleFocusDetectorFocus}))}});function Du(e,t,n){const r=vd(),o=function(e,t,n){return new Intl.DateTimeFormat(n?[n.code,"en-US"]:void 0,{timeZone:t,timeZoneName:e})}(e,n.timeZone,n.locale??r.locale);return"formatToParts"in o?function(e,t){const n=e.formatToParts(t);for(let r=n.length-1;r>=0;--r)if("timeZoneName"===n[r].type)return n[r].value;return}(o,t):function(e,t){const n=e.format(t).replace(/\u200E/g,""),r=/ [\w-+ ]+$/.exec(n);return r?r[0].substr(1):""}(o,t)}function Fu(e,t){const n=function(e){Bu[e]||(Bu[e]=ju?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}));return Bu[e]}(t);return"formatToParts"in n?function(e,t){try{const n=e.formatToParts(t),r=[];for(let e=0;e<n.length;e++){const t=_u[n[e].type];void 0!==t&&(r[t]=parseInt(n[e].value,10))}return r}catch(n){if(n instanceof RangeError)return[NaN];throw n}}(n,e):function(e,t){const n=e.format(t),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(r[3],10),parseInt(r[1],10),parseInt(r[2],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10)]}(n,e)}const _u={year:0,month:1,day:2,hour:3,minute:4,second:5};const Bu={},Eu=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),ju="06/25/2014, 00:00:00"===Eu||"‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00"===Eu;function Iu(e,t,n,r,o,i,a){const l=new Date(0);return l.setUTCFullYear(e,t,n),l.setUTCHours(r,o,i,a),l}const Lu=36e5,Nu={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Hu(e,t,n){if(!e)return 0;let r,o,i=Nu.timezoneZ.exec(e);if(i)return 0;if(i=Nu.timezoneHH.exec(e),i)return r=parseInt(i[1],10),Wu(r)?-r*Lu:NaN;if(i=Nu.timezoneHHMM.exec(e),i){r=parseInt(i[2],10);const e=parseInt(i[3],10);return Wu(r,e)?(o=Math.abs(r)*Lu+6e4*e,"+"===i[1]?-o:o):NaN}if(function(e){if(Uu[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),Uu[e]=!0,!0}catch(t){return!1}}(e)){t=new Date(t||Date.now());const r=n?t:function(e){return Iu(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}(t),o=Yu(r,e),i=n?o:function(e,t,n){const r=e.getTime();let o=r-t;const i=Yu(new Date(o),n);if(t===i)return t;o-=i-t;const a=Yu(new Date(o),n);if(i===a)return i;return Math.max(i,a)}(t,o,e);return-i}return NaN}function Yu(e,t){const n=Fu(e,t),r=Iu(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let o=e.getTime();const i=o%1e3;return o-=i>=0?i:1e3+i,r-o}function Wu(e,t){return-23<=e&&e<=23&&(null==t||0<=t&&t<=59)}const Uu={};const Vu={X:function(e,t,n){const r=qu(n.timeZone,e);if(0===r)return"Z";switch(t){case"X":return Ku(r);case"XXXX":case"XX":return Qu(r);default:return Qu(r,":")}},x:function(e,t,n){const r=qu(n.timeZone,e);switch(t){case"x":return Ku(r);case"xxxx":case"xx":return Qu(r);default:return Qu(r,":")}},O:function(e,t,n){const r=qu(n.timeZone,e);switch(t){case"O":case"OO":case"OOO":return"GMT"+function(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(0===i)return n+String(o);return n+String(o)+t+Xu(i,2)}(r,":");default:return"GMT"+Qu(r,":")}},z:function(e,t,n){switch(t){case"z":case"zz":case"zzz":return Du("short",e,n);default:return Du("long",e,n)}}};function qu(e,t){const n=e?Hu(e,t,!0)/6e4:(null==t?void 0:t.getTimezoneOffset())??0;if(Number.isNaN(n))throw new RangeError("Invalid time zone specified: "+e);return n}function Xu(e,t){const n=e<0?"-":"";let r=Math.abs(e).toString();for(;r.length<t;)r="0"+r;return n+r}function Qu(e,t=""){const n=e>0?"-":"+",r=Math.abs(e);return n+Xu(Math.floor(r/60),2)+t+Xu(Math.floor(r%60),2)}function Ku(e,t){if(e%60==0){return(e>0?"-":"+")+Xu(Math.abs(e)/60,2)}return Qu(e,t)}function Zu(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const Gu=36e5,Ju=6e4,eh={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/};function th(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);const n=null==t.additionalDigits?2:Number(t.additionalDigits);if(2!==n&&1!==n&&0!==n)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e))return new Date(e.getTime());if("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);const r=function(e){const t={};let n,r=eh.dateTimePattern.exec(e);r?(t.date=r[1],n=r[3]):(r=eh.datePattern.exec(e),r?(t.date=r[1],n=r[2]):(t.date=null,n=e));if(n){const e=eh.timeZone.exec(n);e?(t.time=n.replace(e[1],""),t.timeZone=e[1].trim()):t.time=n}return t}(e),{year:o,restDateString:i}=function(e,t){if(e){const n=eh.YYY[t],r=eh.YYYYY[t];let o=eh.YYYY.exec(e)||r.exec(e);if(o){const t=o[1];return{year:parseInt(t,10),restDateString:e.slice(t.length)}}if(o=eh.YY.exec(e)||n.exec(e),o){const t=o[1];return{year:100*parseInt(t,10),restDateString:e.slice(t.length)}}}return{year:null}}(r.date,n),a=function(e,t){if(null===t)return null;let n,r,o;if(!e||!e.length)return n=new Date(0),n.setUTCFullYear(t),n;let i=eh.MM.exec(e);if(i)return n=new Date(0),r=parseInt(i[1],10)-1,ah(t,r)?(n.setUTCFullYear(t,r),n):new Date(NaN);if(i=eh.DDD.exec(e),i){n=new Date(0);const e=parseInt(i[1],10);return function(e,t){if(t<1)return!1;const n=ih(e);if(n&&t>366)return!1;if(!n&&t>365)return!1;return!0}(t,e)?(n.setUTCFullYear(t,0,e),n):new Date(NaN)}if(i=eh.MMDD.exec(e),i){n=new Date(0),r=parseInt(i[1],10)-1;const e=parseInt(i[2],10);return ah(t,r,e)?(n.setUTCFullYear(t,r,e),n):new Date(NaN)}if(i=eh.Www.exec(e),i)return o=parseInt(i[1],10)-1,lh(o)?nh(t,o):new Date(NaN);if(i=eh.WwwD.exec(e),i){o=parseInt(i[1],10)-1;const e=parseInt(i[2],10)-1;return lh(o,e)?nh(t,o,e):new Date(NaN)}return null}(i,o);if(null===a||isNaN(a.getTime()))return new Date(NaN);if(a){const e=a.getTime();let n,o=0;if(r.time&&(o=function(e){let t,n,r=eh.HH.exec(e);if(r)return t=parseFloat(r[1].replace(",",".")),sh(t)?t%24*Gu:NaN;if(r=eh.HHMM.exec(e),r)return t=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),sh(t,n)?t%24*Gu+n*Ju:NaN;if(r=eh.HHMMSS.exec(e),r){t=parseInt(r[1],10),n=parseInt(r[2],10);const e=parseFloat(r[3].replace(",","."));return sh(t,n,e)?t%24*Gu+n*Ju+1e3*e:NaN}return null}(r.time),null===o||isNaN(o)))return new Date(NaN);if(r.timeZone||t.timeZone){if(n=Hu(r.timeZone||t.timeZone,new Date(e+o)),isNaN(n))return new Date(NaN)}else n=Zu(new Date(e+o)),n=Zu(new Date(e+o+n));return new Date(e+o+n)}return new Date(NaN)}function nh(e,t,n){t=t||0,n=n||0;const r=new Date(0);r.setUTCFullYear(e,0,4);const o=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+o),r}const rh=[31,28,31,30,31,30,31,31,30,31,30,31],oh=[31,29,31,30,31,30,31,31,30,31,30,31];function ih(e){return e%400==0||e%4==0&&e%100!=0}function ah(e,t,n){if(t<0||t>11)return!1;if(null!=n){if(n<1)return!1;const r=ih(e);if(r&&n>oh[t])return!1;if(!r&&n>rh[t])return!1}return!0}function lh(e,t){return!(e<0||e>52)&&(null==t||!(t<0||t>6))}function sh(e,t,n){return!(e<0||e>=25)&&((null==t||!(t<0||t>=60))&&(null==n||!(n<0||n>=60)))}const dh=/([xXOz]+)|''|'(''|[^'])+('|$)/g;function ch(e,t,n,r){return function(e,t,n={}){const r=(t=String(t)).match(dh);if(r){const o=th(n.originalDate||e,n);t=r.reduce(function(e,t){if("'"===t[0])return e;const r=e.indexOf(t),i="'"===e[r-1],a=e.replace(t,"'"+Vu[t[0]](o,t,n)+"'");return i?a.substring(0,r-1)+a.substring(r+1):a},t)}return ud(e,t,n)}(function(e,t,n){const r=Hu(t,e=th(e,n),!0),o=new Date(e.getTime()-r),i=new Date(0);return i.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),i.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),i}(e,t,{timeZone:(r={...r,timeZone:t,originalDate:e}).timeZone}),n,r)}const uh=p("n-time-picker"),hh=x({name:"TimePickerPanelCol",props:{clsPrefix:{type:String,required:!0},data:{type:Array,required:!0},activeValue:{type:[Number,String],default:null},onItemClick:Function},render(){const{activeValue:e,onItemClick:t,clsPrefix:n}=this;return this.data.map(r=>{const{label:o,disabled:i,value:a}=r,l=e===a;return M("div",{key:o,"data-active":l?"":null,class:[`${n}-time-picker-col__item`,l&&`${n}-time-picker-col__item--active`,i&&`${n}-time-picker-col__item--disabled`],onClick:t&&!i?()=>{t(a)}:void 0},o)})}}),ph={amHours:["00","01","02","03","04","05","06","07","08","09","10","11"],pmHours:["12","01","02","03","04","05","06","07","08","09","10","11"],hours:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],minutes:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],seconds:["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59"],period:["AM","PM"]};function fh(e){return`00${e}`.slice(-2)}function vh(e,t,n){return Array.isArray(t)?("am"===n?t.filter(e=>e<12):"pm"===n?t.filter(e=>e>=12).map(e=>12===e?12:e-12):t).map(e=>fh(e)):"number"==typeof t?"am"===n?e.filter(e=>{const n=Number(e);return n<12&&n%t===0}):"pm"===n?e.filter(e=>{const n=Number(e);return n>=12&&n%t===0}).map(e=>{const t=Number(e);return fh(12===t?12:t-12)}):e.filter(e=>Number(e)%t===0):"am"===n?e.filter(e=>Number(e)<12):"pm"===n?e.map(e=>Number(e)).filter(e=>Number(e)>=12).map(e=>fh(12===e?12:e-12)):e}function mh(e,t,n){return!n||("number"==typeof n?e%n===0:n.includes(e))}const gh={actions:{type:Array,default:()=>["now","confirm"]},showHour:{type:Boolean,default:!0},showMinute:{type:Boolean,default:!0},showSecond:{type:Boolean,default:!0},showPeriod:{type:Boolean,default:!0},isHourInvalid:Boolean,isMinuteInvalid:Boolean,isSecondInvalid:Boolean,isAmPmInvalid:Boolean,isValueInvalid:Boolean,hourValue:{type:Number,default:null},minuteValue:{type:Number,default:null},secondValue:{type:Number,default:null},amPmValue:{type:String,default:null},isHourDisabled:Function,isMinuteDisabled:Function,isSecondDisabled:Function,onHourClick:{type:Function,required:!0},onMinuteClick:{type:Function,required:!0},onSecondClick:{type:Function,required:!0},onAmPmClick:{type:Function,required:!0},onNowClick:Function,clearText:String,nowText:String,confirmText:String,transitionDisabled:Boolean,onClearClick:Function,onConfirmClick:Function,onFocusin:Function,onFocusout:Function,onFocusDetectorFocus:Function,onKeydown:Function,hours:[Number,Array],minutes:[Number,Array],seconds:[Number,Array],use12Hours:Boolean},bh=x({name:"TimePickerPanel",props:gh,setup(e){const{mergedThemeRef:t,mergedClsPrefixRef:n}=m(uh);return{mergedTheme:t,mergedClsPrefix:n,hours:a(()=>{const{isHourDisabled:t,hours:n,use12Hours:r,amPmValue:o}=e;if(r){const e=null!=o?o:md(Date.now())<12?"am":"pm";return vh(ph.hours,n,e).map(n=>{const r=Number(n),o="pm"===e&&12!==r?r+12:r;return{label:n,value:o,disabled:!!t&&t(o)}})}return vh(ph.hours,n).map(e=>({label:e,value:Number(e),disabled:!!t&&t(Number(e))}))}),minutes:a(()=>{const{isMinuteDisabled:t,minutes:n}=e;return vh(ph.minutes,n).map(n=>({label:n,value:Number(n),disabled:!!t&&t(Number(n),e.hourValue)}))}),seconds:a(()=>{const{isSecondDisabled:t,seconds:n}=e;return vh(ph.seconds,n).map(n=>({label:n,value:Number(n),disabled:!!t&&t(Number(n),e.minuteValue,e.hourValue)}))}),amPm:a(()=>{const{isHourDisabled:t}=e;let n=!0,r=!0;for(let e=0;e<12;++e)if(!(null==t?void 0:t(e))){n=!1;break}for(let e=12;e<24;++e)if(!(null==t?void 0:t(e))){r=!1;break}return[{label:"AM",value:"am",disabled:n},{label:"PM",value:"pm",disabled:r}]}),hourScrollRef:f(null),minuteScrollRef:f(null),secondScrollRef:f(null),amPmScrollRef:f(null)}},render(){var e,t,n,r;const{mergedClsPrefix:o,mergedTheme:i}=this;return M("div",{tabindex:0,class:`${o}-time-picker-panel`,onFocusin:this.onFocusin,onFocusout:this.onFocusout,onKeydown:this.onKeydown},M("div",{class:`${o}-time-picker-cols`},this.showHour?M("div",{class:[`${o}-time-picker-col`,this.isHourInvalid&&`${o}-time-picker-col--invalid`,this.transitionDisabled&&`${o}-time-picker-col--transition-disabled`]},M(Ie,{ref:"hourScrollRef",theme:i.peers.Scrollbar,themeOverrides:i.peerOverrides.Scrollbar},{default:()=>[M(hh,{clsPrefix:o,data:this.hours,activeValue:this.hourValue,onItemClick:this.onHourClick}),M("div",{class:`${o}-time-picker-col__padding`})]})):null,this.showMinute?M("div",{class:[`${o}-time-picker-col`,this.transitionDisabled&&`${o}-time-picker-col--transition-disabled`,this.isMinuteInvalid&&`${o}-time-picker-col--invalid`]},M(Ie,{ref:"minuteScrollRef",theme:i.peers.Scrollbar,themeOverrides:i.peerOverrides.Scrollbar},{default:()=>[M(hh,{clsPrefix:o,data:this.minutes,activeValue:this.minuteValue,onItemClick:this.onMinuteClick}),M("div",{class:`${o}-time-picker-col__padding`})]})):null,this.showSecond?M("div",{class:[`${o}-time-picker-col`,this.isSecondInvalid&&`${o}-time-picker-col--invalid`,this.transitionDisabled&&`${o}-time-picker-col--transition-disabled`]},M(Ie,{ref:"secondScrollRef",theme:i.peers.Scrollbar,themeOverrides:i.peerOverrides.Scrollbar},{default:()=>[M(hh,{clsPrefix:o,data:this.seconds,activeValue:this.secondValue,onItemClick:this.onSecondClick}),M("div",{class:`${o}-time-picker-col__padding`})]})):null,this.use12Hours?M("div",{class:[`${o}-time-picker-col`,this.isAmPmInvalid&&`${o}-time-picker-col--invalid`,this.transitionDisabled&&`${o}-time-picker-col--transition-disabled`]},M(Ie,{ref:"amPmScrollRef",theme:i.peers.Scrollbar,themeOverrides:i.peerOverrides.Scrollbar},{default:()=>[M(hh,{clsPrefix:o,data:this.amPm,activeValue:this.amPmValue,onItemClick:this.onAmPmClick}),M("div",{class:`${o}-time-picker-col__padding`})]})):null),(null===(e=this.actions)||void 0===e?void 0:e.length)?M("div",{class:`${o}-time-picker-actions`},(null===(t=this.actions)||void 0===t?void 0:t.includes("clear"))?M(Ut,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.onClearClick},{default:()=>this.clearText}):null,(null===(n=this.actions)||void 0===n?void 0:n.includes("now"))?M(Ut,{size:"tiny",theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,onClick:this.onNowClick},{default:()=>this.nowText}):null,(null===(r=this.actions)||void 0===r?void 0:r.includes("confirm"))?M(Ut,{size:"tiny",type:"primary",class:`${o}-time-picker-actions__confirm`,theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,disabled:this.isValueInvalid,onClick:this.onConfirmClick},{default:()=>this.confirmText}):null):null,M(Va,{onFocus:this.onFocusDetectorFocus}))}}),wh=ye([we("time-picker","\n z-index: auto;\n position: relative;\n ",[we("time-picker-icon","\n color: var(--n-icon-color-override);\n transition: color .3s var(--n-bezier);\n "),Fe("disabled",[we("time-picker-icon","\n color: var(--n-icon-color-disabled-override);\n ")])]),we("time-picker-panel","\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n outline: none;\n font-size: var(--n-item-font-size);\n border-radius: var(--n-border-radius);\n margin: 4px 0;\n min-width: 104px;\n overflow: hidden;\n background-color: var(--n-panel-color);\n box-shadow: var(--n-panel-box-shadow);\n ",[Be(),we("time-picker-actions","\n padding: var(--n-panel-action-padding);\n align-items: center;\n display: flex;\n justify-content: space-evenly;\n "),we("time-picker-cols","\n height: calc(var(--n-item-height) * 6);\n display: flex;\n position: relative;\n transition: border-color .3s var(--n-bezier);\n border-bottom: 1px solid var(--n-panel-divider-color);\n "),we("time-picker-col","\n flex-grow: 1;\n min-width: var(--n-item-width);\n height: calc(var(--n-item-height) * 6);\n flex-direction: column;\n transition: box-shadow .3s var(--n-bezier);\n ",[Fe("transition-disabled",[xe("item","transition: none;",[ye("&::before","transition: none;")])]),xe("padding","\n height: calc(var(--n-item-height) * 5);\n "),ye("&:first-child","min-width: calc(var(--n-item-width) + 4px);",[xe("item",[ye("&::before","left: 4px;")])]),xe("item","\n cursor: pointer;\n height: var(--n-item-height);\n display: flex;\n align-items: center;\n justify-content: center;\n transition: \n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n opacity .3s var(--n-bezier),\n text-decoration-color .3s var(--n-bezier);\n background: #0000;\n text-decoration-color: #0000;\n color: var(--n-item-text-color);\n z-index: 0;\n box-sizing: border-box;\n padding-top: 4px;\n position: relative;\n ",[ye("&::before",'\n content: "";\n transition: background-color .3s var(--n-bezier);\n z-index: -1;\n position: absolute;\n left: 0;\n right: 4px;\n top: 4px;\n bottom: 0;\n border-radius: var(--n-item-border-radius);\n '),_e("disabled",[ye("&:hover::before","\n background-color: var(--n-item-color-hover);\n ")]),Fe("active","\n color: var(--n-item-text-color-active);\n ",[ye("&::before","\n background-color: var(--n-item-color-hover);\n ")]),Fe("disabled","\n opacity: var(--n-item-opacity-disabled);\n cursor: not-allowed;\n ")]),Fe("invalid",[xe("item",[Fe("active","\n text-decoration: line-through;\n text-decoration-color: var(--n-item-text-color-active);\n ")])])])])]);function yh(e,t){return void 0===e||(Array.isArray(e)?e.every(e=>e>=0&&e<=t):e>=0&&e<=t)}const xh=Object.assign(Object.assign({},Re.props),{to:Or.propTo,bordered:{type:Boolean,default:void 0},actions:Array,defaultValue:{type:Number,default:null},defaultFormattedValue:String,placeholder:String,placement:{type:String,default:"bottom-start"},value:Number,format:{type:String,default:"HH:mm:ss"},valueFormat:String,formattedValue:String,isHourDisabled:Function,size:String,isMinuteDisabled:Function,isSecondDisabled:Function,inputReadonly:Boolean,clearable:Boolean,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onUpdateFormattedValue:[Function,Array],"onUpdate:formattedValue":[Function,Array],onBlur:[Function,Array],onConfirm:[Function,Array],onClear:Function,onFocus:[Function,Array],timeZone:String,showIcon:{type:Boolean,default:!0},disabled:{type:Boolean,default:void 0},show:{type:Boolean,default:void 0},hours:{type:[Number,Array],validator:e=>yh(e,23)},minutes:{type:[Number,Array],validator:e=>yh(e,59)},seconds:{type:[Number,Array],validator:e=>yh(e,59)},use12Hours:Boolean,stateful:{type:Boolean,default:!0},onChange:[Function,Array]}),kh=x({name:"TimePicker",props:xh,setup(e){const{mergedBorderedRef:t,mergedClsPrefixRef:n,namespaceRef:r,inlineThemeDisabled:o}=Me(e),{localeRef:l,dateLocaleRef:s}=ka("TimePicker"),d=vt(e),{mergedSizeRef:c,mergedDisabledRef:u,mergedStatusRef:h}=d,p=Re("TimePicker","-time-picker",wh,qt,e,n),v=$r(),m=f(null),g=f(null),b=a(()=>({locale:s.value.locale}));function w(t){return null===t?null:Lc(t,e.valueFormat||e.format,new Date,b.value).getTime()}const{defaultValue:y,defaultFormattedValue:x}=e,k=f(void 0!==x?w(x):y),S=a(()=>{const{formattedValue:t}=e;if(void 0!==t)return w(t);const{value:n}=e;return void 0!==n?n:k.value}),z=a(()=>{const{timeZone:t}=e;return t?(e,n,r)=>ch(e,t,n,r):(e,t,n)=>ud(e,t,n)}),$=f("");i(()=>e.timeZone,()=>{const t=S.value;$.value=null===t?"":z.value(t,e.format,b.value)},{immediate:!0});const M=f(!1),R=Sr(T(e,"show"),M),A=f(S.value),O=f(!1),F=a(()=>l.value.clear),_=a(()=>l.value.now),B=a(()=>void 0!==e.placeholder?e.placeholder:l.value.placeholder),E=a(()=>l.value.negativeText),j=a(()=>l.value.positiveText),I=a(()=>/H|h|K|k/.test(e.format)),L=a(()=>e.format.includes("m")),N=a(()=>e.format.includes("s")),H=a(()=>{const{value:e}=S;return null===e?null:Number(z.value(e,"HH",b.value))}),Y=a(()=>{const{value:e}=S;return null===e?null:Number(z.value(e,"mm",b.value))}),W=a(()=>{const{value:e}=S;return null===e?null:Number(z.value(e,"ss",b.value))}),U=a(()=>{const{isHourDisabled:t}=e;return null!==H.value&&(!mh(H.value,0,e.hours)||!!t&&t(H.value))}),V=a(()=>{const{value:t}=Y,{value:n}=H;if(null===t||null===n)return!1;if(!mh(t,0,e.minutes))return!0;const{isMinuteDisabled:r}=e;return!!r&&r(t,n)}),q=a(()=>{const{value:t}=Y,{value:n}=H,{value:r}=W;if(null===r||null===t||null===n)return!1;if(!mh(r,0,e.seconds))return!0;const{isSecondDisabled:o}=e;return!!o&&o(r,t,n)}),X=a(()=>U.value||V.value||q.value),Q=a(()=>e.format.length+4),K=a(()=>{const{value:e}=S;return null===e?null:md(e)<12?"am":"pm"});function Z(t){return null===t?null:z.value(t,e.valueFormat||e.format)}function G(t){const{onUpdateValue:n,"onUpdate:value":r,onChange:o}=e,{nTriggerFormChange:i,nTriggerFormInput:a}=d,l=Z(t);n&&rt(n,t,l),r&&rt(r,t,l),o&&rt(o,t,l),function(t,n){const{onUpdateFormattedValue:r,"onUpdate:formattedValue":o}=e;r&&rt(r,t,n),o&&rt(o,t,n)}(l,t),k.value=t,i(),a()}function J(t){const{onBlur:n}=e,{nTriggerFormBlur:r}=d;n&&rt(n,t),r()}function ee(t){void 0===t&&(t=S.value),$.value=null===t?"":z.value(t,e.format,b.value)}function te(){if(!g.value)return;const{hourScrollRef:e,minuteScrollRef:t,secondScrollRef:n,amPmScrollRef:r}=g.value;[e,t,n,r].forEach(e=>{var t;if(!e)return;const n=null===(t=e.contentRef)||void 0===t?void 0:t.querySelector("[data-active]");n&&e.scrollTo({top:n.offsetTop})})}function ne(t){M.value=t;const{onUpdateShow:n,"onUpdate:show":r}=e;n&&rt(n,t),r&&rt(r,t)}function re(e){var t,n,r;return!(!(null===(n=null===(t=m.value)||void 0===t?void 0:t.wrapperElRef)||void 0===n?void 0:n.contains(e.relatedTarget))&&!(null===(r=g.value)||void 0===r?void 0:r.$el.contains(e.relatedTarget)))}function oe(){A.value=S.value,ne(!0),D(te)}function ie({returnFocus:e}){var t;R.value&&(ne(!1),e&&(null===(t=m.value)||void 0===t||t.focus()))}i(S,e=>{ee(e),O.value=!0,D(()=>{O.value=!1}),D(te)}),i(R,()=>{X.value&&G(A.value)}),C(uh,{mergedThemeRef:p,mergedClsPrefixRef:n});const ae={focus:()=>{var e;null===(e=m.value)||void 0===e||e.focus()},blur:()=>{var e;null===(e=m.value)||void 0===e||e.blur()}},le=a(()=>{const{common:{cubicBezierEaseInOut:e},self:{iconColor:t,iconColorDisabled:n}}=p.value;return{"--n-icon-color-override":t,"--n-icon-color-disabled-override":n,"--n-bezier":e}}),se=o?Oe("time-picker-trigger",void 0,le,e):void 0,de=a(()=>{const{self:{panelColor:e,itemTextColor:t,itemTextColorActive:n,itemColorHover:r,panelDividerColor:o,panelBoxShadow:i,itemOpacityDisabled:a,borderRadius:l,itemFontSize:s,itemWidth:d,itemHeight:c,panelActionPadding:u,itemBorderRadius:h},common:{cubicBezierEaseInOut:f}}=p.value;return{"--n-bezier":f,"--n-border-radius":l,"--n-item-color-hover":r,"--n-item-font-size":s,"--n-item-height":c,"--n-item-opacity-disabled":a,"--n-item-text-color":t,"--n-item-text-color-active":n,"--n-item-width":d,"--n-panel-action-padding":u,"--n-panel-box-shadow":i,"--n-panel-color":e,"--n-panel-divider-color":o,"--n-item-border-radius":h}}),ce=o?Oe("time-picker",void 0,de,e):void 0;return{focus:ae.focus,blur:ae.blur,mergedStatus:h,mergedBordered:t,mergedClsPrefix:n,namespace:r,uncontrolledValue:k,mergedValue:S,isMounted:P(),inputInstRef:m,panelInstRef:g,adjustedTo:Or(e),mergedShow:R,localizedClear:F,localizedNow:_,localizedPlaceholder:B,localizedNegativeText:E,localizedPositiveText:j,hourInFormat:I,minuteInFormat:L,secondInFormat:N,mergedAttrSize:Q,displayTimeString:$,mergedSize:c,mergedDisabled:u,isValueInvalid:X,isHourInvalid:U,isMinuteInvalid:V,isSecondInvalid:q,transitionDisabled:O,hourValue:H,minuteValue:Y,secondValue:W,amPmValue:K,handleInputKeydown:function(e){"Escape"===e.key&&R.value&&It(e)},handleTimeInputFocus:function(t){re(t)||function(t){const{onFocus:n}=e,{nTriggerFormFocus:r}=d;n&&rt(n,t),r()}(t)},handleTimeInputBlur:function(e){var t;if(!re(e))if(R.value){const n=null===(t=g.value)||void 0===t?void 0:t.$el;(null==n?void 0:n.contains(e.relatedTarget))||(ee(),J(e),ie({returnFocus:!1}))}else ee(),J(e)},handleNowClick:function(){const t=new Date,n={hours:md,minutes:gd,seconds:wd},[r,o,i]=["hours","minutes","seconds"].map(r=>!e[r]||mh(n[r](t),0,e[r])?n[r](t):function(e,t,n){const r=vh(ph[t],n).map(Number);let o,i;for(let a=0;a<r.length;++a){const t=r[a];if(t===e)return t;if(t>e){i=t;break}o=t}return void 0===o?(i||Vt("time-picker","Please set 'hours' or 'minutes' or 'seconds' props"),i):void 0===i||i-e>e-o?o:i}(n[r](t),r,e[r])),a=zc(Sc(Cc(S.value?S.value:yd(t),r),o),i);G(yd(a))},handleConfirmClick:function(){ee(),function(){const{onConfirm:t}=e;t&&rt(t,S.value,Z(S.value))}(),ie({returnFocus:!0})},handleTimeInputUpdateValue:function(t){if(""===t)return void G(null);const n=Lc(t,e.format,new Date,b.value);if($.value=t,Os(n)){const{value:e}=S;if(null!==e){G(yd(kc(e,{hours:md(n),minutes:gd(n),seconds:wd(n),milliseconds:(r=n,Ct(r).getMilliseconds())})))}else G(yd(n))}var r},handleMenuFocusOut:function(e){re(e)||(ee(),J(e),ie({returnFocus:!1}))},handleCancelClick:function(){G(A.value),ne(!1)},handleClickOutside:function(e){var t,n;R.value&&!(null===(n=null===(t=m.value)||void 0===t?void 0:t.wrapperElRef)||void 0===n?void 0:n.contains(qe(e)))&&ie({returnFocus:!1})},handleTimeInputActivate:function(){u.value||R.value||oe()},handleTimeInputDeactivate:function(){u.value||(ee(),ie({returnFocus:!1}))},handleHourClick:function(e){"string"!=typeof e&&(null===S.value?G(yd(Cc(function(e,t){const n=Ct(e,null==t?void 0:t.in);return n.setMinutes(0,0,0),n}(new Date),e))):G(yd(Cc(S.value,e))))},handleMinuteClick:function(e){"string"!=typeof e&&(null===S.value?G(yd(Sc(function(e,t){const n=Ct(e,null==t?void 0:t.in);return n.setSeconds(0,0),n}(new Date),e))):G(yd(Sc(S.value,e))))},handleSecondClick:function(e){"string"!=typeof e&&(null===S.value?G(yd(zc(wc(new Date),e))):G(yd(zc(S.value,e))))},handleAmPmClick:function(e){const{value:t}=S;if(null===t){const t=new Date,n=md(t);"pm"===e&&n<12?G(yd(Cc(t,n+12))):"am"===e&&n>=12&&G(yd(Cc(t,n-12))),G(yd(t))}else{const n=md(t);"pm"===e&&n<12?G(yd(Cc(t,n+12))):"am"===e&&n>=12&&G(yd(Cc(t,n-12)))}},handleTimeInputClear:function(t){var n;t.stopPropagation(),G(null),ee(null),null===(n=e.onClear)||void 0===n||n.call(e)},handleFocusDetectorFocus:function(){ie({returnFocus:!0})},handleMenuKeydown:function(e){var t;switch(e.key){case"Escape":R.value&&(It(e),ie({returnFocus:!0}));break;case"Tab":v.shift&&e.target===(null===(t=g.value)||void 0===t?void 0:t.$el)&&(e.preventDefault(),ie({returnFocus:!0}))}},handleTriggerClick:function(e){u.value||br(e,"clear")||R.value||oe()},mergedTheme:p,triggerCssVars:o?void 0:le,triggerThemeClass:null==se?void 0:se.themeClass,triggerOnRender:null==se?void 0:se.onRender,cssVars:o?void 0:de,themeClass:null==ce?void 0:ce.themeClass,onRender:null==ce?void 0:ce.onRender,clearSelectedValue:function(){G(null),ee(null),ie({returnFocus:!0})}}},render(){const{mergedClsPrefix:e,$slots:t,triggerOnRender:n}=this;return null==n||n(),M("div",{class:[`${e}-time-picker`,this.triggerThemeClass],style:this.triggerCssVars},M(Br,null,{default:()=>[M(Er,null,{default:()=>M(rs,{ref:"inputInstRef",status:this.mergedStatus,value:this.displayTimeString,bordered:this.mergedBordered,passivelyActivated:!0,attrSize:this.mergedAttrSize,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,stateful:this.stateful,size:this.mergedSize,placeholder:this.localizedPlaceholder,clearable:this.clearable,disabled:this.mergedDisabled,textDecoration:this.isValueInvalid?"line-through":void 0,onFocus:this.handleTimeInputFocus,onBlur:this.handleTimeInputBlur,onActivate:this.handleTimeInputActivate,onDeactivate:this.handleTimeInputDeactivate,onUpdateValue:this.handleTimeInputUpdateValue,onClear:this.handleTimeInputClear,internalDeactivateOnEnter:!0,internalForceFocus:this.mergedShow,readonly:this.inputReadonly||this.mergedDisabled,onClick:this.handleTriggerClick,onKeydown:this.handleInputKeydown},this.showIcon?{[this.clearable?"clear-icon-placeholder":"suffix"]:()=>M($e,{clsPrefix:e,class:`${e}-time-picker-icon`},{default:()=>t.icon?t.icon():M(La,null)})}:null)}),M(Jr,{teleportDisabled:this.adjustedTo===Or.tdkey,show:this.mergedShow,to:this.adjustedTo,containerClass:this.namespace,placement:this.placement},{default:()=>M(De,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>{var e;return this.mergedShow?(null===(e=this.onRender)||void 0===e||e.call(this),S(M(bh,{ref:"panelInstRef",actions:this.actions,class:this.themeClass,style:this.cssVars,seconds:this.seconds,minutes:this.minutes,hours:this.hours,transitionDisabled:this.transitionDisabled,hourValue:this.hourValue,showHour:this.hourInFormat,isHourInvalid:this.isHourInvalid,isHourDisabled:this.isHourDisabled,minuteValue:this.minuteValue,showMinute:this.minuteInFormat,isMinuteInvalid:this.isMinuteInvalid,isMinuteDisabled:this.isMinuteDisabled,secondValue:this.secondValue,amPmValue:this.amPmValue,showSecond:this.secondInFormat,isSecondInvalid:this.isSecondInvalid,isSecondDisabled:this.isSecondDisabled,isValueInvalid:this.isValueInvalid,clearText:this.localizedClear,nowText:this.localizedNow,confirmText:this.localizedPositiveText,use12Hours:this.use12Hours,onFocusout:this.handleMenuFocusOut,onKeydown:this.handleMenuKeydown,onHourClick:this.handleHourClick,onMinuteClick:this.handleMinuteClick,onSecondClick:this.handleSecondClick,onAmPmClick:this.handleAmPmClick,onNowClick:this.handleNowClick,onConfirmClick:this.handleConfirmClick,onClearClick:this.clearSelectedValue,onFocusDetectorFocus:this.handleFocusDetectorFocus}),[[Ue,this.handleClickOutside,void 0,{capture:!0}]])):null}})})]}))}}),Ch=x({name:"DateTimePanel",props:zu,setup:e=>$u(e,"datetime"),render(){var e,t,n,r;const{mergedClsPrefix:o,mergedTheme:i,shortcuts:a,timePickerProps:l,datePickerSlots:s,onRender:d}=this;return null==d||d(),M("div",{ref:"selfRef",tabindex:0,class:[`${o}-date-panel`,`${o}-date-panel--datetime`,!this.panel&&`${o}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},M("div",{class:`${o}-date-panel-header`},M(rs,{value:this.dateInputValue,theme:i.peers.Input,themeOverrides:i.peerOverrides.Input,stateful:!1,size:this.timePickerSize,readonly:this.inputReadonly,class:`${o}-date-panel-date-input`,textDecoration:this.isDateInvalid?"line-through":"",placeholder:this.locale.selectDate,onBlur:this.handleDateInputBlur,onUpdateValue:this.handleDateInput}),M(kh,Object.assign({size:this.timePickerSize,placeholder:this.locale.selectTime,format:this.timePickerFormat},Array.isArray(l)?void 0:l,{showIcon:!1,to:!1,theme:i.peers.TimePicker,themeOverrides:i.peerOverrides.TimePicker,value:Array.isArray(this.value)?null:this.value,isHourDisabled:this.isHourDisabled,isMinuteDisabled:this.isMinuteDisabled,isSecondDisabled:this.isSecondDisabled,onUpdateValue:this.handleTimePickerChange,stateful:!1}))),M("div",{class:`${o}-date-panel-calendar`},M("div",{class:`${o}-date-panel-month`},M("div",{class:`${o}-date-panel-month__fast-prev`,onClick:this.prevYear},Se(s["prev-year"],()=>[M(Fa,null)])),M("div",{class:`${o}-date-panel-month__prev`,onClick:this.prevMonth},Se(s["prev-month"],()=>[M(Sa,null)])),M(Ru,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.calendarValue,onUpdateValue:this.onUpdateCalendarValue,mergedClsPrefix:o,calendarMonth:this.calendarMonth,calendarYear:this.calendarYear}),M("div",{class:`${o}-date-panel-month__next`,onClick:this.nextMonth},Se(s["next-month"],()=>[M(Ba,null)])),M("div",{class:`${o}-date-panel-month__fast-next`,onClick:this.nextYear},Se(s["next-year"],()=>[M(_a,null)]))),M("div",{class:`${o}-date-panel-weekdays`},this.weekdays.map(e=>M("div",{key:e,class:`${o}-date-panel-weekdays__day`},e))),M("div",{class:`${o}-date-panel-dates`},this.dateArray.map((e,t)=>M("div",{"data-n-date":!0,key:t,class:[`${o}-date-panel-date`,{[`${o}-date-panel-date--current`]:e.isCurrentDate,[`${o}-date-panel-date--selected`]:e.selected,[`${o}-date-panel-date--excluded`]:!e.inCurrentMonth,[`${o}-date-panel-date--disabled`]:this.mergedIsDateDisabled(e.ts,{type:"date",year:e.dateObject.year,month:e.dateObject.month,date:e.dateObject.date})}],onClick:()=>{this.handleDateClick(e)}},M("div",{class:`${o}-date-panel-date__trigger`}),e.dateObject.date,e.isCurrentDate?M("div",{class:`${o}-date-panel-date__sup`}):null)))),this.datePickerSlots.footer?M("div",{class:`${o}-date-panel-footer`},this.datePickerSlots.footer()):null,(null===(e=this.actions)||void 0===e?void 0:e.length)||a?M("div",{class:`${o}-date-panel-actions`},M("div",{class:`${o}-date-panel-actions__prefix`},a&&Object.keys(a).map(e=>{const t=a[e];return Array.isArray(t)?null:M(Wt,{size:"tiny",onMouseenter:()=>{this.handleSingleShortcutMouseenter(t)},onClick:()=>{this.handleSingleShortcutClick(t)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>e})})),M("div",{class:`${o}-date-panel-actions__suffix`},(null===(t=this.actions)||void 0===t?void 0:t.includes("clear"))?pt(this.datePickerSlots.clear,{onClear:this.clearSelectedDateTime,text:this.locale.clear},()=>[M(Ut,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.clearSelectedDateTime},{default:()=>this.locale.clear})]):null,(null===(n=this.actions)||void 0===n?void 0:n.includes("now"))?pt(s.now,{onNow:this.handleNowClick,text:this.locale.now},()=>[M(Ut,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",onClick:this.handleNowClick},{default:()=>this.locale.now})]):null,(null===(r=this.actions)||void 0===r?void 0:r.includes("confirm"))?pt(s.confirm,{onConfirm:this.handleConfirmClick,disabled:this.isDateInvalid,text:this.locale.confirm},()=>[M(Ut,{theme:i.peers.Button,themeOverrides:i.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isDateInvalid,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,M(Va,{onFocus:this.handleFocusDetectorFocus}))}}),Sh=x({name:"DateTimeRangePanel",props:Ou,setup:e=>Tu(e,"datetimerange"),render(){var e,t,n;const{mergedClsPrefix:r,mergedTheme:o,shortcuts:i,timePickerProps:a,onRender:l,datePickerSlots:s}=this;return null==l||l(),M("div",{ref:"selfRef",tabindex:0,class:[`${r}-date-panel`,`${r}-date-panel--datetimerange`,!this.panel&&`${r}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},M("div",{class:`${r}-date-panel-header`},M(rs,{value:this.startDateDisplayString,theme:o.peers.Input,themeOverrides:o.peerOverrides.Input,size:this.timePickerSize,stateful:!1,readonly:this.inputReadonly,class:`${r}-date-panel-date-input`,textDecoration:this.isStartValueInvalid?"line-through":"",placeholder:this.locale.selectDate,onBlur:this.handleStartDateInputBlur,onUpdateValue:this.handleStartDateInput}),M(kh,Object.assign({placeholder:this.locale.selectTime,format:this.timePickerFormat,size:this.timePickerSize},Array.isArray(a)?a[0]:a,{value:this.startTimeValue,to:!1,showIcon:!1,disabled:this.isSelecting,theme:o.peers.TimePicker,themeOverrides:o.peerOverrides.TimePicker,stateful:!1,isHourDisabled:this.isStartHourDisabled,isMinuteDisabled:this.isStartMinuteDisabled,isSecondDisabled:this.isStartSecondDisabled,onUpdateValue:this.handleStartTimePickerChange})),M(rs,{value:this.endDateInput,theme:o.peers.Input,themeOverrides:o.peerOverrides.Input,stateful:!1,size:this.timePickerSize,readonly:this.inputReadonly,class:`${r}-date-panel-date-input`,textDecoration:this.isEndValueInvalid?"line-through":"",placeholder:this.locale.selectDate,onBlur:this.handleEndDateInputBlur,onUpdateValue:this.handleEndDateInput}),M(kh,Object.assign({placeholder:this.locale.selectTime,format:this.timePickerFormat,size:this.timePickerSize},Array.isArray(a)?a[1]:a,{disabled:this.isSelecting,showIcon:!1,theme:o.peers.TimePicker,themeOverrides:o.peerOverrides.TimePicker,to:!1,stateful:!1,value:this.endTimeValue,isHourDisabled:this.isEndHourDisabled,isMinuteDisabled:this.isEndMinuteDisabled,isSecondDisabled:this.isEndSecondDisabled,onUpdateValue:this.handleEndTimePickerChange}))),M("div",{ref:"startDatesElRef",class:`${r}-date-panel-calendar ${r}-date-panel-calendar--start`},M("div",{class:`${r}-date-panel-month`},M("div",{class:`${r}-date-panel-month__fast-prev`,onClick:this.startCalendarPrevYear},Se(s["prev-year"],()=>[M(Fa,null)])),M("div",{class:`${r}-date-panel-month__prev`,onClick:this.startCalendarPrevMonth},Se(s["prev-month"],()=>[M(Sa,null)])),M(Ru,{monthYearSeparator:this.calendarHeaderMonthYearSeparator,monthBeforeYear:this.calendarMonthBeforeYear,value:this.startCalendarDateTime,onUpdateValue:this.onUpdateStartCalendarValue,mergedClsPrefix:r,calendarMonth:this.startCalendarMonth,calendarYear:this.startCalendarYear}),M("div",{class:`${r}-date-panel-month__next`,onClick:this.startCalendarNextMonth},Se(s["next-month"],()=>[M(Ba,null)])),M("div",{class:`${r}-date-panel-month__fast-next`,onClick:this.startCalendarNextYear},Se(s["next-year"],()=>[M(_a,null)]))),M("div",{class:`${r}-date-panel-weekdays`},this.weekdays.map(e=>M("div",{key:e,class:`${r}-date-panel-weekdays__day`},e))),M("div",{class:`${r}-date-panel__divider`}),M("div",{class:`${r}-date-panel-dates`},this.startDateArray.map((e,t)=>{const n=this.mergedIsDateDisabled(e.ts);return M("div",{"data-n-date":!0,key:t,class:[`${r}-date-panel-date`,{[`${r}-date-panel-date--excluded`]:!e.inCurrentMonth,[`${r}-date-panel-date--current`]:e.isCurrentDate,[`${r}-date-panel-date--selected`]:e.selected,[`${r}-date-panel-date--covered`]:e.inSpan,[`${r}-date-panel-date--start`]:e.startOfSpan,[`${r}-date-panel-date--end`]:e.endOfSpan,[`${r}-date-panel-date--disabled`]:n}],onClick:n?void 0:()=>{this.handleDateClick(e)},onMouseenter:n?void 0:()=>{this.handleDateMouseEnter(e)}},M("div",{class:`${r}-date-panel-date__trigger`}),e.dateObject.date,e.isCurrentDate?M("div",{class:`${r}-date-panel-date__sup`}):null)}))),M("div",{class:`${r}-date-panel__vertical-divider`}),M("div",{ref:"endDatesElRef",class:`${r}-date-panel-calendar ${r}-date-panel-calendar--end`},M("div",{class:`${r}-date-panel-month`},M("div",{class:`${r}-date-panel-month__fast-prev`,onClick:this.endCalendarPrevYear},Se(s["prev-year"],()=>[M(Fa,null)])),M("div",{class:`${r}-date-panel-month__prev`,onClick:this.endCalendarPrevMonth},Se(s["prev-month"],()=>[M(Sa,null)])),M(Ru,{monthBeforeYear:this.calendarMonthBeforeYear,value:this.endCalendarDateTime,onUpdateValue:this.onUpdateEndCalendarValue,mergedClsPrefix:r,monthYearSeparator:this.calendarHeaderMonthYearSeparator,calendarMonth:this.endCalendarMonth,calendarYear:this.endCalendarYear}),M("div",{class:`${r}-date-panel-month__next`,onClick:this.endCalendarNextMonth},Se(s["next-month"],()=>[M(Ba,null)])),M("div",{class:`${r}-date-panel-month__fast-next`,onClick:this.endCalendarNextYear},Se(s["next-year"],()=>[M(_a,null)]))),M("div",{class:`${r}-date-panel-weekdays`},this.weekdays.map(e=>M("div",{key:e,class:`${r}-date-panel-weekdays__day`},e))),M("div",{class:`${r}-date-panel__divider`}),M("div",{class:`${r}-date-panel-dates`},this.endDateArray.map((e,t)=>{const n=this.mergedIsDateDisabled(e.ts);return M("div",{"data-n-date":!0,key:t,class:[`${r}-date-panel-date`,{[`${r}-date-panel-date--excluded`]:!e.inCurrentMonth,[`${r}-date-panel-date--current`]:e.isCurrentDate,[`${r}-date-panel-date--selected`]:e.selected,[`${r}-date-panel-date--covered`]:e.inSpan,[`${r}-date-panel-date--start`]:e.startOfSpan,[`${r}-date-panel-date--end`]:e.endOfSpan,[`${r}-date-panel-date--disabled`]:n}],onClick:n?void 0:()=>{this.handleDateClick(e)},onMouseenter:n?void 0:()=>{this.handleDateMouseEnter(e)}},M("div",{class:`${r}-date-panel-date__trigger`}),e.dateObject.date,e.isCurrentDate?M("div",{class:`${r}-date-panel-date__sup`}):null)}))),this.datePickerSlots.footer?M("div",{class:`${r}-date-panel-footer`},this.datePickerSlots.footer()):null,(null===(e=this.actions)||void 0===e?void 0:e.length)||i?M("div",{class:`${r}-date-panel-actions`},M("div",{class:`${r}-date-panel-actions__prefix`},i&&Object.keys(i).map(e=>{const t=i[e];return Array.isArray(t)||"function"==typeof t?M(Wt,{size:"tiny",onMouseenter:()=>{this.handleRangeShortcutMouseenter(t)},onClick:()=>{this.handleRangeShortcutClick(t)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>e}):null})),M("div",{class:`${r}-date-panel-actions__suffix`},(null===(t=this.actions)||void 0===t?void 0:t.includes("clear"))?pt(s.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[M(Ut,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,(null===(n=this.actions)||void 0===n?void 0:n.includes("confirm"))?pt(s.confirm,{onConfirm:this.handleConfirmClick,disabled:this.isRangeInvalid||this.isSelecting,text:this.locale.confirm},()=>[M(Ut,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isRangeInvalid||this.isSelecting,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,M(Va,{onFocus:this.handleFocusDetectorFocus}))}}),zh=x({name:"MonthRangePanel",props:Object.assign(Object.assign({},Ou),{type:{type:String,required:!0}}),setup(e){const t=Tu(e,e.type),{dateLocaleRef:r}=ka("DatePicker");return n(()=>{t.justifyColumnsScrollState()}),Object.assign(Object.assign({},t),{renderItem:(e,n,o,i)=>{const{handleColItemClick:a}=t;return M("div",{"data-n-date":!0,key:n,class:[`${o}-date-panel-month-calendar__picker-col-item`,e.isCurrent&&`${o}-date-panel-month-calendar__picker-col-item--current`,e.selected&&`${o}-date-panel-month-calendar__picker-col-item--selected`,!1],onClick:()=>{a(e,i)}},"month"===e.type?Oc(e.dateObject.month,e.monthFormat,r.value.locale):"quarter"===e.type?Pc(e.dateObject.quarter,e.quarterFormat,r.value.locale):Tc(e.dateObject.year,e.yearFormat,r.value.locale))}})},render(){var e,t,n;const{mergedClsPrefix:r,mergedTheme:o,shortcuts:i,type:a,renderItem:l,onRender:s}=this;return null==s||s(),M("div",{ref:"selfRef",tabindex:0,class:[`${r}-date-panel`,`${r}-date-panel--daterange`,!this.panel&&`${r}-date-panel--shadow`,this.themeClass],onKeydown:this.handlePanelKeyDown,onFocus:this.handlePanelFocus},M("div",{ref:"startDatesElRef",class:`${r}-date-panel-calendar ${r}-date-panel-calendar--start`},M("div",{class:`${r}-date-panel-month-calendar`},M(Ie,{ref:"startYearScrollbarRef",class:`${r}-date-panel-month-calendar__picker-col`,theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar,container:()=>this.virtualListContainer("start"),content:()=>this.virtualListContent("start"),horizontalRailStyle:{zIndex:1},verticalRailStyle:{zIndex:1}},{default:()=>M(ao,{ref:"startYearVlRef",items:this.startYearArray,itemSize:ku,showScrollbar:!1,keyField:"ts",onScroll:this.handleStartYearVlScroll,paddingBottom:4},{default:({item:e,index:t})=>l(e,t,r,"start")})}),"monthrange"===a||"quarterrange"===a?M("div",{class:`${r}-date-panel-month-calendar__picker-col`},M(Ie,{ref:"startMonthScrollbarRef",theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar},{default:()=>[("monthrange"===a?this.startMonthArray:this.startQuarterArray).map((e,t)=>l(e,t,r,"start")),"monthrange"===a&&M("div",{class:`${r}-date-panel-month-calendar__padding`})]})):null)),M("div",{class:`${r}-date-panel__vertical-divider`}),M("div",{ref:"endDatesElRef",class:`${r}-date-panel-calendar ${r}-date-panel-calendar--end`},M("div",{class:`${r}-date-panel-month-calendar`},M(Ie,{ref:"endYearScrollbarRef",class:`${r}-date-panel-month-calendar__picker-col`,theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar,container:()=>this.virtualListContainer("end"),content:()=>this.virtualListContent("end"),horizontalRailStyle:{zIndex:1},verticalRailStyle:{zIndex:1}},{default:()=>M(ao,{ref:"endYearVlRef",items:this.endYearArray,itemSize:ku,showScrollbar:!1,keyField:"ts",onScroll:this.handleEndYearVlScroll,paddingBottom:4},{default:({item:e,index:t})=>l(e,t,r,"end")})}),"monthrange"===a||"quarterrange"===a?M("div",{class:`${r}-date-panel-month-calendar__picker-col`},M(Ie,{ref:"endMonthScrollbarRef",theme:o.peers.Scrollbar,themeOverrides:o.peerOverrides.Scrollbar},{default:()=>[("monthrange"===a?this.endMonthArray:this.endQuarterArray).map((e,t)=>l(e,t,r,"end")),"monthrange"===a&&M("div",{class:`${r}-date-panel-month-calendar__padding`})]})):null)),Ee(this.datePickerSlots.footer,e=>e?M("div",{class:`${r}-date-panel-footer`},e):null),(null===(e=this.actions)||void 0===e?void 0:e.length)||i?M("div",{class:`${r}-date-panel-actions`},M("div",{class:`${r}-date-panel-actions__prefix`},i&&Object.keys(i).map(e=>{const t=i[e];return Array.isArray(t)||"function"==typeof t?M(Wt,{size:"tiny",onMouseenter:()=>{this.handleRangeShortcutMouseenter(t)},onClick:()=>{this.handleRangeShortcutClick(t)},onMouseleave:()=>{this.handleShortcutMouseleave()}},{default:()=>e}):null})),M("div",{class:`${r}-date-panel-actions__suffix`},(null===(t=this.actions)||void 0===t?void 0:t.includes("clear"))?pt(this.datePickerSlots.clear,{onClear:this.handleClearClick,text:this.locale.clear},()=>[M(Wt,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",onClick:this.handleClearClick},{default:()=>this.locale.clear})]):null,(null===(n=this.actions)||void 0===n?void 0:n.includes("confirm"))?pt(this.datePickerSlots.confirm,{disabled:this.isRangeInvalid,onConfirm:this.handleConfirmClick,text:this.locale.confirm},()=>[M(Wt,{theme:o.peers.Button,themeOverrides:o.peerOverrides.Button,size:"tiny",type:"primary",disabled:this.isRangeInvalid,onClick:this.handleConfirmClick},{default:()=>this.locale.confirm})]):null)):null,M(Va,{onFocus:this.handleFocusDetectorFocus}))}}),$h=Object.assign(Object.assign({},Re.props),{to:Or.propTo,bordered:{type:Boolean,default:void 0},clearable:Boolean,updateValueOnClose:Boolean,calendarDayFormat:String,calendarHeaderYearFormat:String,calendarHeaderMonthFormat:String,calendarHeaderMonthYearSeparator:{type:String,default:" "},calendarHeaderMonthBeforeYear:{type:Boolean,default:void 0},defaultValue:[Number,Array],defaultFormattedValue:[String,Array],defaultTime:[Number,String,Array,Function],disabled:{type:Boolean,default:void 0},placement:{type:String,default:"bottom-start"},value:[Number,Array],formattedValue:[String,Array],size:String,type:{type:String,default:"date"},valueFormat:String,separator:String,placeholder:String,startPlaceholder:String,endPlaceholder:String,format:String,dateFormat:String,timePickerFormat:String,actions:Array,shortcuts:Object,isDateDisabled:Function,isTimeDisabled:Function,show:{type:Boolean,default:void 0},panel:Boolean,ranges:Object,firstDayOfWeek:Number,inputReadonly:Boolean,closeOnSelect:Boolean,status:String,timePickerProps:[Object,Array],onClear:Function,onConfirm:Function,defaultCalendarStartTime:Number,defaultCalendarEndTime:Number,bindCalendarMonths:Boolean,monthFormat:{type:String,default:"M"},yearFormat:{type:String,default:"y"},quarterFormat:{type:String,default:"'Q'Q"},yearRange:{type:Array,default:()=>[1901,2100]},"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],"onUpdate:formattedValue":[Function,Array],onUpdateFormattedValue:[Function,Array],"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onNextMonth:Function,onPrevMonth:Function,onNextYear:Function,onPrevYear:Function,onChange:[Function,Array]}),Mh=ye([we("date-picker","\n position: relative;\n z-index: auto;\n ",[we("date-picker-icon","\n color: var(--n-icon-color-override);\n transition: color .3s var(--n-bezier);\n "),we("icon","\n color: var(--n-icon-color-override);\n transition: color .3s var(--n-bezier);\n "),Fe("disabled",[we("date-picker-icon","\n color: var(--n-icon-color-disabled-override);\n "),we("icon","\n color: var(--n-icon-color-disabled-override);\n ")])]),we("date-panel","\n width: fit-content;\n outline: none;\n margin: 4px 0;\n display: grid;\n grid-template-columns: 0fr;\n border-radius: var(--n-panel-border-radius);\n background-color: var(--n-panel-color);\n color: var(--n-panel-text-color);\n user-select: none;\n ",[Be(),Fe("shadow","\n box-shadow: var(--n-panel-box-shadow);\n "),we("date-panel-calendar",{padding:"var(--n-calendar-left-padding)",display:"grid",gridTemplateColumns:"1fr",gridArea:"left-calendar"},[Fe("end",{padding:"var(--n-calendar-right-padding)",gridArea:"right-calendar"})]),we("date-panel-month-calendar",{display:"flex",gridArea:"left-calendar"},[xe("picker-col","\n min-width: var(--n-scroll-item-width);\n height: calc(var(--n-scroll-item-height) * 6);\n user-select: none;\n -webkit-user-select: none;\n ",[ye("&:first-child","\n min-width: calc(var(--n-scroll-item-width) + 4px);\n ",[xe("picker-col-item",[ye("&::before","left: 4px;")])]),xe("padding","\n height: calc(var(--n-scroll-item-height) * 5)\n ")]),xe("picker-col-item","\n z-index: 0;\n cursor: pointer;\n height: var(--n-scroll-item-height);\n box-sizing: border-box;\n padding-top: 4px;\n display: flex;\n align-items: center;\n justify-content: center;\n position: relative;\n transition: \n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n background: #0000;\n color: var(--n-item-text-color);\n ",[ye("&::before",'\n z-index: -1;\n content: "";\n position: absolute;\n left: 0;\n right: 4px;\n top: 4px;\n bottom: 0;\n border-radius: var(--n-scroll-item-border-radius);\n transition: \n background-color .3s var(--n-bezier);\n '),_e("disabled",[ye("&:hover::before","\n background-color: var(--n-item-color-hover);\n "),Fe("selected","\n color: var(--n-item-color-active);\n ",[ye("&::before","background-color: var(--n-item-color-hover);")])]),Fe("disabled","\n color: var(--n-item-text-color-disabled);\n cursor: not-allowed;\n ",[Fe("selected",[ye("&::before","\n background-color: var(--n-item-color-disabled);\n ")])])])]),Fe("date",{gridTemplateAreas:'\n "left-calendar"\n "footer"\n "action"\n '}),Fe("week",{gridTemplateAreas:'\n "left-calendar"\n "footer"\n "action"\n '}),Fe("daterange",{gridTemplateAreas:'\n "left-calendar divider right-calendar"\n "footer footer footer"\n "action action action"\n '}),Fe("datetime",{gridTemplateAreas:'\n "header"\n "left-calendar"\n "footer"\n "action"\n '}),Fe("datetimerange",{gridTemplateAreas:'\n "header header header"\n "left-calendar divider right-calendar"\n "footer footer footer"\n "action action action"\n '}),Fe("month",{gridTemplateAreas:'\n "left-calendar"\n "footer"\n "action"\n '}),we("date-panel-footer",{gridArea:"footer"}),we("date-panel-actions",{gridArea:"action"}),we("date-panel-header",{gridArea:"header"}),we("date-panel-header","\n box-sizing: border-box;\n width: 100%;\n align-items: center;\n padding: var(--n-panel-header-padding);\n display: flex;\n justify-content: space-between;\n border-bottom: 1px solid var(--n-panel-header-divider-color);\n ",[ye(">",[ye("*:not(:last-child)",{marginRight:"10px"}),ye("*",{flex:1,width:0}),we("time-picker",{zIndex:1})])]),we("date-panel-month","\n box-sizing: border-box;\n display: grid;\n grid-template-columns: var(--n-calendar-title-grid-template-columns);\n align-items: center;\n justify-items: center;\n padding: var(--n-calendar-title-padding);\n height: var(--n-calendar-title-height);\n ",[xe("prev, next, fast-prev, fast-next","\n line-height: 0;\n cursor: pointer;\n width: var(--n-arrow-size);\n height: var(--n-arrow-size);\n color: var(--n-arrow-color);\n "),xe("month-year","\n user-select: none;\n -webkit-user-select: none;\n flex-grow: 1;\n position: relative;\n ",[xe("text","\n font-size: var(--n-calendar-title-font-size);\n line-height: var(--n-calendar-title-font-size);\n font-weight: var(--n-calendar-title-font-weight);\n padding: 6px 8px;\n text-align: center;\n color: var(--n-calendar-title-text-color);\n cursor: pointer;\n transition: background-color .3s var(--n-bezier);\n border-radius: var(--n-panel-border-radius);\n ",[Fe("active","\n background-color: var(--n-calendar-title-color-hover);\n "),ye("&:hover","\n background-color: var(--n-calendar-title-color-hover);\n ")])])]),we("date-panel-weekdays","\n display: grid;\n margin: auto;\n grid-template-columns: repeat(7, var(--n-item-cell-width));\n grid-template-rows: repeat(1, var(--n-item-cell-height));\n align-items: center;\n justify-items: center;\n margin-bottom: 4px;\n border-bottom: 1px solid var(--n-calendar-days-divider-color);\n ",[xe("day","\n white-space: nowrap;\n user-select: none;\n -webkit-user-select: none;\n line-height: 15px;\n width: var(--n-item-size);\n text-align: center;\n font-size: var(--n-calendar-days-font-size);\n color: var(--n-item-text-color);\n display: flex;\n align-items: center;\n justify-content: center;\n ")]),we("date-panel-dates","\n margin: auto;\n display: grid;\n grid-template-columns: repeat(7, var(--n-item-cell-width));\n grid-template-rows: repeat(6, var(--n-item-cell-height));\n align-items: center;\n justify-items: center;\n flex-wrap: wrap;\n ",[we("date-panel-date","\n user-select: none;\n -webkit-user-select: none;\n position: relative;\n width: var(--n-item-size);\n height: var(--n-item-size);\n line-height: var(--n-item-size);\n text-align: center;\n font-size: var(--n-item-font-size);\n border-radius: var(--n-item-border-radius);\n z-index: 0;\n cursor: pointer;\n transition:\n background-color .2s var(--n-bezier),\n color .2s var(--n-bezier);\n ",[xe("trigger","\n position: absolute;\n left: calc(var(--n-item-size) / 2 - var(--n-item-cell-width) / 2);\n top: calc(var(--n-item-size) / 2 - var(--n-item-cell-height) / 2);\n width: var(--n-item-cell-width);\n height: var(--n-item-cell-height);\n "),Fe("current",[xe("sup",'\n position: absolute;\n top: 2px;\n right: 2px;\n content: "";\n height: 4px;\n width: 4px;\n border-radius: 2px;\n background-color: var(--n-item-color-active);\n transition:\n background-color .2s var(--n-bezier);\n ')]),ye("&::after",'\n content: "";\n z-index: -1;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border-radius: inherit;\n transition: background-color .3s var(--n-bezier);\n '),Fe("covered, start, end",[_e("excluded",[ye("&::before",'\n content: "";\n z-index: -2;\n position: absolute;\n left: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);\n right: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);\n top: 0;\n bottom: 0;\n background-color: var(--n-item-color-included);\n '),ye("&:nth-child(7n + 1)::before",{borderTopLeftRadius:"var(--n-item-border-radius)",borderBottomLeftRadius:"var(--n-item-border-radius)"}),ye("&:nth-child(7n + 7)::before",{borderTopRightRadius:"var(--n-item-border-radius)",borderBottomRightRadius:"var(--n-item-border-radius)"})])]),Fe("selected",{color:"var(--n-item-text-color-active)"},[ye("&::after",{backgroundColor:"var(--n-item-color-active)"}),Fe("start",[ye("&::before",{left:"50%"})]),Fe("end",[ye("&::before",{right:"50%"})]),xe("sup",{backgroundColor:"var(--n-panel-color)"})]),Fe("excluded",{color:"var(--n-item-text-color-disabled)"},[Fe("selected",[ye("&::after",{backgroundColor:"var(--n-item-color-disabled)"})])]),Fe("disabled",{cursor:"not-allowed",color:"var(--n-item-text-color-disabled)"},[Fe("covered",[ye("&::before",{backgroundColor:"var(--n-item-color-disabled)"})]),Fe("selected",[ye("&::before",{backgroundColor:"var(--n-item-color-disabled)"}),ye("&::after",{backgroundColor:"var(--n-item-color-disabled)"})])]),Fe("week-hovered",[ye("&::before","\n background-color: var(--n-item-color-included);\n "),ye("&:nth-child(7n + 1)::before","\n border-top-left-radius: var(--n-item-border-radius);\n border-bottom-left-radius: var(--n-item-border-radius);\n "),ye("&:nth-child(7n + 7)::before","\n border-top-right-radius: var(--n-item-border-radius);\n border-bottom-right-radius: var(--n-item-border-radius);\n ")]),Fe("week-selected","\n color: var(--n-item-text-color-active)\n ",[ye("&::before","\n background-color: var(--n-item-color-active);\n "),ye("&:nth-child(7n + 1)::before","\n border-top-left-radius: var(--n-item-border-radius);\n border-bottom-left-radius: var(--n-item-border-radius);\n "),ye("&:nth-child(7n + 7)::before","\n border-top-right-radius: var(--n-item-border-radius);\n border-bottom-right-radius: var(--n-item-border-radius);\n ")])])]),_e("week",[we("date-panel-dates",[we("date-panel-date",[_e("disabled",[_e("selected",[ye("&:hover","\n background-color: var(--n-item-color-hover);\n ")])])])])]),Fe("week",[we("date-panel-dates",[we("date-panel-date",[ye("&::before",'\n content: "";\n z-index: -2;\n position: absolute;\n left: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);\n right: calc((var(--n-item-size) - var(--n-item-cell-width)) / 2);\n top: 0;\n bottom: 0;\n transition: background-color .3s var(--n-bezier);\n ')])])]),xe("vertical-divider","\n grid-area: divider;\n height: 100%;\n width: 1px;\n background-color: var(--n-calendar-divider-color);\n "),we("date-panel-footer","\n border-top: 1px solid var(--n-panel-action-divider-color);\n padding: var(--n-panel-extra-footer-padding);\n "),we("date-panel-actions","\n flex: 1;\n padding: var(--n-panel-action-padding);\n display: flex;\n align-items: center;\n justify-content: space-between;\n border-top: 1px solid var(--n-panel-action-divider-color);\n ",[xe("prefix, suffix","\n display: flex;\n margin-bottom: -8px;\n "),xe("suffix","\n align-self: flex-end;\n "),xe("prefix","\n flex-wrap: wrap;\n "),we("button","\n margin-bottom: 8px;\n ",[ye("&:not(:last-child)","\n margin-right: 8px;\n ")])])]),ye("[data-n-date].transition-disabled",{transition:"none !important"},[ye("&::before, &::after",{transition:"none !important"})])]);const Rh=x({name:"DatePicker",props:$h,slots:Object,setup(e,{slots:t}){var n;const{localeRef:r,dateLocaleRef:o}=ka("DatePicker"),l=vt(e),{mergedSizeRef:s,mergedDisabledRef:d,mergedStatusRef:c}=l,{mergedComponentPropsRef:u,mergedClsPrefixRef:h,mergedBorderedRef:p,namespaceRef:v,inlineThemeDisabled:m}=Me(e),g=f(null),b=f(null),w=f(null),y=f(!1),x=Sr(T(e,"show"),y),k=a(()=>({locale:o.value.locale,useAdditionalWeekYearTokens:!0})),S=a(()=>{const{format:t}=e;if(t)return t;switch(e.type){case"date":case"daterange":return r.value.dateFormat;case"datetime":case"datetimerange":return r.value.dateTimeFormat;case"year":case"yearrange":return r.value.yearTypeFormat;case"month":case"monthrange":return r.value.monthTypeFormat;case"quarter":case"quarterrange":return r.value.quarterFormat;case"week":return r.value.weekFormat}}),z=a(()=>{var t;return null!==(t=e.valueFormat)&&void 0!==t?t:S.value});function $(e){if(null===e)return null;const{value:t}=z,{value:n}=k;return Array.isArray(e)?[Lc(e[0],t,new Date,n).getTime(),Lc(e[1],t,new Date,n).getTime()]:Lc(e,t,new Date,n).getTime()}const{defaultFormattedValue:M,defaultValue:R}=e,A=f(null!==(n=void 0!==M?$(M):R)&&void 0!==n?n:null),O=Sr(a(()=>{const{formattedValue:t}=e;return void 0!==t?$(t):e.value}),A),D=f(null);We(()=>{D.value=O.value});const F=f(""),_=f(""),B=f(""),E=Re("DatePicker","-date-picker",Mh,Xt,e,h),j=a(()=>{var e,t;return(null===(t=null===(e=null==u?void 0:u.value)||void 0===e?void 0:e.DatePicker)||void 0===t?void 0:t.timePickerSize)||"small"}),I=a(()=>["daterange","datetimerange","monthrange","quarterrange","yearrange"].includes(e.type)),L=a(()=>{const{placeholder:t}=e;if(void 0!==t)return t;{const{type:t}=e;switch(t){case"date":return r.value.datePlaceholder;case"datetime":return r.value.datetimePlaceholder;case"month":return r.value.monthPlaceholder;case"year":return r.value.yearPlaceholder;case"quarter":return r.value.quarterPlaceholder;case"week":return r.value.weekPlaceholder;default:return""}}}),N=a(()=>void 0===e.startPlaceholder?"daterange"===e.type?r.value.startDatePlaceholder:"datetimerange"===e.type?r.value.startDatetimePlaceholder:"monthrange"===e.type?r.value.startMonthPlaceholder:"":e.startPlaceholder),H=a(()=>void 0===e.endPlaceholder?"daterange"===e.type?r.value.endDatePlaceholder:"datetimerange"===e.type?r.value.endDatetimePlaceholder:"monthrange"===e.type?r.value.endMonthPlaceholder:"":e.endPlaceholder),Y=a(()=>{const{actions:t,type:n,clearable:r}=e;if(null===t)return[];if(void 0!==t)return t;const o=r?["clear"]:[];switch(n){case"date":case"week":case"year":return o.push("now"),o;case"datetime":case"month":case"quarter":return o.push("now","confirm"),o;case"daterange":case"datetimerange":case"monthrange":case"yearrange":case"quarterrange":return o.push("confirm"),o;default:Nt("date-picker","The type is wrong, n-date-picker's type only supports `date`, `datetime`, `daterange` and `datetimerange`.")}});function W(t,n){const{"onUpdate:value":r,onUpdateValue:o,onChange:i}=e,{nTriggerFormChange:a,nTriggerFormInput:s}=l,d=function(e){if(null===e)return null;if(Array.isArray(e)){const{value:t}=z,{value:n}=k;return[ud(e[0],t,n),ud(e[1],t,k.value)]}return ud(e,z.value,k.value)}(t);n.doConfirm&&function(t,n){const{onConfirm:r}=e;r&&r(t,n)}(t,d),o&&rt(o,t,d),r&&rt(r,t,d),i&&rt(i,t,d),A.value=t,function(t,n){const{"onUpdate:formattedValue":r,onUpdateFormattedValue:o}=e;r&&rt(r,t,n),o&&rt(o,t,n)}(d,t),a(),s()}function U(){const{onClear:t}=e;null==t||t()}function V(t){const{"onUpdate:show":n,onUpdateShow:r}=e;n&&rt(n,t),r&&rt(r,t),y.value=t}function q(){const e=D.value;W(Array.isArray(e)?[e[0],e[1]]:e,{doConfirm:!0})}function X(){const{value:e}=D;I.value?(Array.isArray(e)||null===e)&&function(e){if(null===e)_.value="",B.value="";else{const t=k.value;_.value=ud(e[0],S.value,t),B.value=ud(e[1],S.value,t)}}(e):Array.isArray(e)||function(e){F.value=null===e?"":ud(e,S.value,k.value)}(e)}function Q(){d.value||x.value||V(!0)}function K({returnFocus:t,disableUpdateOnClose:n}){var r;x.value&&(V(!1),"date"!==e.type&&e.updateValueOnClose&&!n&&q(),t&&(null===(r=w.value)||void 0===r||r.focus()))}i(D,()=>{X()}),X(),i(x,e=>{e||(D.value=O.value)});const Z=function(e,t){const n=a(()=>{const{isTimeDisabled:n}=e,{value:r}=t;if(null!==r&&!Array.isArray(r))return null==n?void 0:n(r)}),r=a(()=>{var e;return null===(e=n.value)||void 0===e?void 0:e.isHourDisabled}),o=a(()=>{var e;return null===(e=n.value)||void 0===e?void 0:e.isMinuteDisabled}),i=a(()=>{var e;return null===(e=n.value)||void 0===e?void 0:e.isSecondDisabled}),l=a(()=>{const{type:n,isDateDisabled:r}=e,{value:o}=t;return!(null===o||Array.isArray(o)||!["date","datetime"].includes(n)||!r)&&r(o,{type:"input"})}),s=a(()=>{const{type:n}=e,{value:a}=t;if(null===a||"datetime"===n||Array.isArray(a))return!1;const l=new Date(a),s=l.getHours(),d=l.getMinutes(),c=l.getMinutes();return!!r.value&&r.value(s)||!!o.value&&o.value(d,s)||!!i.value&&i.value(c,d,s)}),d=a(()=>l.value||s.value);return{isValueInvalidRef:a(()=>{const{type:t}=e;return"date"===t?l.value:"datetime"===t&&d.value}),isDateInvalidRef:l,isTimeInvalidRef:s,isDateTimeInvalidRef:d,isHourDisabledRef:r,isMinuteDisabledRef:o,isSecondDisabledRef:i}}(e,D),G=function(e,t){const n=a(()=>{const{isTimeDisabled:n}=e,{value:r}=t;return Array.isArray(r)&&n?[null==n?void 0:n(r[0],"start",r),null==n?void 0:n(r[1],"end",r)]:[void 0,void 0]}),r={isStartHourDisabledRef:a(()=>{var e;return null===(e=n.value[0])||void 0===e?void 0:e.isHourDisabled}),isEndHourDisabledRef:a(()=>{var e;return null===(e=n.value[1])||void 0===e?void 0:e.isHourDisabled}),isStartMinuteDisabledRef:a(()=>{var e;return null===(e=n.value[0])||void 0===e?void 0:e.isMinuteDisabled}),isEndMinuteDisabledRef:a(()=>{var e;return null===(e=n.value[1])||void 0===e?void 0:e.isMinuteDisabled}),isStartSecondDisabledRef:a(()=>{var e;return null===(e=n.value[0])||void 0===e?void 0:e.isSecondDisabled}),isEndSecondDisabledRef:a(()=>{var e;return null===(e=n.value[1])||void 0===e?void 0:e.isSecondDisabled})},o=a(()=>{const{type:n,isDateDisabled:r}=e,{value:o}=t;return!!(null!==o&&Array.isArray(o)&&["daterange","datetimerange"].includes(n)&&r)&&r(o[0],"start",o)}),i=a(()=>{const{type:n,isDateDisabled:r}=e,{value:o}=t;return!!(null!==o&&Array.isArray(o)&&["daterange","datetimerange"].includes(n)&&r)&&r(o[1],"end",o)}),l=a(()=>{const{type:n}=e,{value:o}=t;if(null===o||!Array.isArray(o)||"datetimerange"!==n)return!1;const i=md(o[0]),a=gd(o[0]),l=wd(o[0]),{isStartHourDisabledRef:s,isStartMinuteDisabledRef:d,isStartSecondDisabledRef:c}=r;return!!s.value&&s.value(i)||!!d.value&&d.value(a,i)||!!c.value&&c.value(l,a,i)}),s=a(()=>{const{type:n}=e,{value:o}=t;if(null===o||!Array.isArray(o)||"datetimerange"!==n)return!1;const i=md(o[1]),a=gd(o[1]),l=wd(o[1]),{isEndHourDisabledRef:s,isEndMinuteDisabledRef:d,isEndSecondDisabledRef:c}=r;return!!s.value&&s.value(i)||!!d.value&&d.value(a,i)||!!c.value&&c.value(l,a,i)}),d=a(()=>o.value||l.value),c=a(()=>i.value||s.value),u=a(()=>d.value||c.value);return Object.assign(Object.assign({},r),{isStartDateInvalidRef:o,isEndDateInvalidRef:i,isStartTimeInvalidRef:l,isEndTimeInvalidRef:s,isStartValueInvalidRef:d,isEndValueInvalidRef:c,isRangeInvalidRef:u})}(e,D);C(xu,Object.assign(Object.assign(Object.assign({mergedClsPrefixRef:h,mergedThemeRef:E,timePickerSizeRef:j,localeRef:r,dateLocaleRef:o,firstDayOfWeekRef:T(e,"firstDayOfWeek"),isDateDisabledRef:T(e,"isDateDisabled"),rangesRef:T(e,"ranges"),timePickerPropsRef:T(e,"timePickerProps"),closeOnSelectRef:T(e,"closeOnSelect"),updateValueOnCloseRef:T(e,"updateValueOnClose"),monthFormatRef:T(e,"monthFormat"),yearFormatRef:T(e,"yearFormat"),quarterFormatRef:T(e,"quarterFormat"),yearRangeRef:T(e,"yearRange")},Z),G),{datePickerSlots:t}));const J={focus:()=>{var e;null===(e=w.value)||void 0===e||e.focus()},blur:()=>{var e;null===(e=w.value)||void 0===e||e.blur()}},ee=a(()=>{const{common:{cubicBezierEaseInOut:e},self:{iconColor:t,iconColorDisabled:n}}=E.value;return{"--n-bezier":e,"--n-icon-color-override":t,"--n-icon-color-disabled-override":n}}),te=m?Oe("date-picker-trigger",void 0,ee,e):void 0,ne=a(()=>{const{type:t}=e,{common:{cubicBezierEaseInOut:n},self:{calendarTitleFontSize:r,calendarDaysFontSize:o,itemFontSize:i,itemTextColor:a,itemColorDisabled:l,itemColorIncluded:s,itemColorHover:d,itemColorActive:c,itemBorderRadius:u,itemTextColorDisabled:h,itemTextColorActive:p,panelColor:f,panelTextColor:v,arrowColor:m,calendarTitleTextColor:g,panelActionDividerColor:b,panelHeaderDividerColor:w,calendarDaysDividerColor:y,panelBoxShadow:x,panelBorderRadius:k,calendarTitleFontWeight:C,panelExtraFooterPadding:S,panelActionPadding:z,itemSize:$,itemCellWidth:M,itemCellHeight:R,scrollItemWidth:A,scrollItemHeight:O,calendarTitlePadding:T,calendarTitleHeight:P,calendarDaysHeight:D,calendarDaysTextColor:F,arrowSize:_,panelHeaderPadding:B,calendarDividerColor:j,calendarTitleGridTempateColumns:I,iconColor:L,iconColorDisabled:N,scrollItemBorderRadius:H,calendarTitleColorHover:Y,[Ae("calendarLeftPadding",t)]:W,[Ae("calendarRightPadding",t)]:U}}=E.value;return{"--n-bezier":n,"--n-panel-border-radius":k,"--n-panel-color":f,"--n-panel-box-shadow":x,"--n-panel-text-color":v,"--n-panel-header-padding":B,"--n-panel-header-divider-color":w,"--n-calendar-left-padding":W,"--n-calendar-right-padding":U,"--n-calendar-title-color-hover":Y,"--n-calendar-title-height":P,"--n-calendar-title-padding":T,"--n-calendar-title-font-size":r,"--n-calendar-title-font-weight":C,"--n-calendar-title-text-color":g,"--n-calendar-title-grid-template-columns":I,"--n-calendar-days-height":D,"--n-calendar-days-divider-color":y,"--n-calendar-days-font-size":o,"--n-calendar-days-text-color":F,"--n-calendar-divider-color":j,"--n-panel-action-padding":z,"--n-panel-extra-footer-padding":S,"--n-panel-action-divider-color":b,"--n-item-font-size":i,"--n-item-border-radius":u,"--n-item-size":$,"--n-item-cell-width":M,"--n-item-cell-height":R,"--n-item-text-color":a,"--n-item-color-included":s,"--n-item-color-disabled":l,"--n-item-color-hover":d,"--n-item-color-active":c,"--n-item-text-color-disabled":h,"--n-item-text-color-active":p,"--n-scroll-item-width":A,"--n-scroll-item-height":O,"--n-scroll-item-border-radius":H,"--n-arrow-size":_,"--n-arrow-color":m,"--n-icon-color":L,"--n-icon-color-disabled":N}}),re=m?Oe("date-picker",a(()=>e.type),ne,e):void 0;return Object.assign(Object.assign({},J),{mergedStatus:c,mergedClsPrefix:h,mergedBordered:p,namespace:v,uncontrolledValue:A,pendingValue:D,panelInstRef:g,triggerElRef:b,inputInstRef:w,isMounted:P(),displayTime:F,displayStartTime:_,displayEndTime:B,mergedShow:x,adjustedTo:Or(e),isRange:I,localizedStartPlaceholder:N,localizedEndPlaceholder:H,mergedSize:s,mergedDisabled:d,localizedPlacehoder:L,isValueInvalid:Z.isValueInvalidRef,isStartValueInvalid:G.isStartValueInvalidRef,isEndValueInvalid:G.isEndValueInvalidRef,handleInputKeydown:function(e){"Escape"===e.key&&x.value&&It(e)},handleClickOutside:function(e){var t;x.value&&!(null===(t=b.value)||void 0===t?void 0:t.contains(qe(e)))&&K({returnFocus:!1})},handleKeydown:function(e){"Escape"===e.key&&x.value&&(It(e),K({returnFocus:!0}))},handleClear:function(){var e;V(!1),null===(e=w.value)||void 0===e||e.deactivate(),U()},handlePanelClear:function(){var e;null===(e=w.value)||void 0===e||e.deactivate(),U()},handleTriggerClick:function(e){d.value||br(e,"clear")||x.value||Q()},handleInputActivate:function(){x.value||Q()},handleInputDeactivate:function(){d.value||(X(),K({returnFocus:!1}))},handleInputFocus:function(t){d.value||function(t){const{onFocus:n}=e,{nTriggerFormFocus:r}=l;n&&rt(n,t),r()}(t)},handleInputBlur:function(t){var n;(null===(n=g.value)||void 0===n?void 0:n.$el.contains(t.relatedTarget))||(!function(t){const{onBlur:n}=e,{nTriggerFormBlur:r}=l;n&&rt(n,t),r()}(t),X(),K({returnFocus:!1}))},handlePanelTabOut:function(){K({returnFocus:!0})},handlePanelClose:function(e){K({returnFocus:!0,disableUpdateOnClose:e})},handleRangeUpdateValue:function(e,{source:t}){if(""===e[0]&&""===e[1])return W(null,{doConfirm:!1}),D.value=null,_.value="",void(B.value="");const[n,r]=e,o=Lc(n,S.value,new Date,k.value),i=Lc(r,S.value,new Date,k.value);if(Os(o)&&Os(i)){let e=yd(o),n=yd(i);i<o&&(0===t?n=e:e=n),W([e,n],{doConfirm:!1}),X()}else[_.value,B.value]=e},handleSingleUpdateValue:function(e){if(""===e)return W(null,{doConfirm:!1}),D.value=null,void(F.value="");const t=Lc(e,S.value,new Date,k.value);Os(t)?(W(yd(t),{doConfirm:!1}),X()):F.value=e},handlePanelUpdateValue:function(e,t){t?W(e,{doConfirm:!1}):function(e){D.value=e}(e)},handlePanelConfirm:q,mergedTheme:E,actions:Y,triggerCssVars:m?void 0:ee,triggerThemeClass:null==te?void 0:te.themeClass,triggerOnRender:null==te?void 0:te.onRender,cssVars:m?void 0:ne,themeClass:null==re?void 0:re.themeClass,onRender:null==re?void 0:re.onRender,onNextMonth:e.onNextMonth,onPrevMonth:e.onPrevMonth,onNextYear:e.onNextYear,onPrevYear:e.onPrevYear})},render(){const{clearable:e,triggerOnRender:t,mergedClsPrefix:n,$slots:r}=this,o={onUpdateValue:this.handlePanelUpdateValue,onTabOut:this.handlePanelTabOut,onClose:this.handlePanelClose,onClear:this.handlePanelClear,onKeydown:this.handleKeydown,onConfirm:this.handlePanelConfirm,ref:"panelInstRef",value:this.pendingValue,active:this.mergedShow,actions:this.actions,shortcuts:this.shortcuts,style:this.cssVars,defaultTime:this.defaultTime,themeClass:this.themeClass,panel:this.panel,inputReadonly:this.inputReadonly||this.mergedDisabled,onRender:this.onRender,onNextMonth:this.onNextMonth,onPrevMonth:this.onPrevMonth,onNextYear:this.onNextYear,onPrevYear:this.onPrevYear,timePickerFormat:this.timePickerFormat,dateFormat:this.dateFormat,calendarDayFormat:this.calendarDayFormat,calendarHeaderYearFormat:this.calendarHeaderYearFormat,calendarHeaderMonthFormat:this.calendarHeaderMonthFormat,calendarHeaderMonthYearSeparator:this.calendarHeaderMonthYearSeparator,calendarHeaderMonthBeforeYear:this.calendarHeaderMonthBeforeYear},i=()=>{const{type:e}=this;return"datetime"===e?M(Ch,Object.assign({},o,{defaultCalendarStartTime:this.defaultCalendarStartTime}),r):"daterange"===e?M(Pu,Object.assign({},o,{defaultCalendarStartTime:this.defaultCalendarStartTime,defaultCalendarEndTime:this.defaultCalendarEndTime,bindCalendarMonths:this.bindCalendarMonths}),r):"datetimerange"===e?M(Sh,Object.assign({},o,{defaultCalendarStartTime:this.defaultCalendarStartTime,defaultCalendarEndTime:this.defaultCalendarEndTime,bindCalendarMonths:this.bindCalendarMonths}),r):"month"===e||"year"===e||"quarter"===e?M(Mu,Object.assign({},o,{type:e,key:e})):"monthrange"===e||"yearrange"===e||"quarterrange"===e?M(zh,Object.assign({},o,{type:e})):M(Au,Object.assign({},o,{type:e,defaultCalendarStartTime:this.defaultCalendarStartTime}),r)};if(this.panel)return i();null==t||t();const a={bordered:this.mergedBordered,size:this.mergedSize,passivelyActivated:!0,disabled:this.mergedDisabled,readonly:this.inputReadonly||this.mergedDisabled,clearable:e,onClear:this.handleClear,onClick:this.handleTriggerClick,onKeydown:this.handleInputKeydown,onActivate:this.handleInputActivate,onDeactivate:this.handleInputDeactivate,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur};return M("div",{ref:"triggerElRef",class:[`${n}-date-picker`,this.mergedDisabled&&`${n}-date-picker--disabled`,this.isRange&&`${n}-date-picker--range`,this.triggerThemeClass],style:this.triggerCssVars,onKeydown:this.handleKeydown},M(Br,null,{default:()=>[M(Er,null,{default:()=>this.isRange?M(rs,Object.assign({ref:"inputInstRef",status:this.mergedStatus,value:[this.displayStartTime,this.displayEndTime],placeholder:[this.localizedStartPlaceholder,this.localizedEndPlaceholder],textDecoration:[this.isStartValueInvalid?"line-through":"",this.isEndValueInvalid?"line-through":""],pair:!0,onUpdateValue:this.handleRangeUpdateValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,internalForceFocus:this.mergedShow,internalDeactivateOnEnter:!0},a),{separator:()=>void 0===this.separator?Se(r.separator,()=>[M($e,{clsPrefix:n,class:`${n}-date-picker-icon`},{default:()=>M(Na,null)})]):this.separator,[e?"clear-icon-placeholder":"suffix"]:()=>Se(r["date-icon"],()=>[M($e,{clsPrefix:n,class:`${n}-date-picker-icon`},{default:()=>M(Aa,null)})])}):M(rs,Object.assign({ref:"inputInstRef",status:this.mergedStatus,value:this.displayTime,placeholder:this.localizedPlacehoder,textDecoration:this.isValueInvalid&&!this.isRange?"line-through":"",onUpdateValue:this.handleSingleUpdateValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,internalForceFocus:this.mergedShow,internalDeactivateOnEnter:!0},a),{[e?"clear-icon-placeholder":"suffix"]:()=>M($e,{clsPrefix:n,class:`${n}-date-picker-icon`},{default:()=>Se(r["date-icon"],()=>[M(Aa,null)])})})}),M(Jr,{show:this.mergedShow,containerClass:this.namespace,to:this.adjustedTo,teleportDisabled:this.adjustedTo===Or.tdkey,placement:this.placement},{default:()=>M(De,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>this.mergedShow?S(i(),[[Ue,this.handleClickOutside,void 0,{capture:!0}]]):null})})]}))}});function Ah(){const e=m(Qt,null);return null===e&&Vt("use-message","No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A."),e}const Oh=x({name:"NDrawerContent",inheritAttrs:!1,props:{blockScroll:Boolean,show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentClass:String,contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showMask:{type:[Boolean,String],required:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,onClickoutside:Function,onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(e){const t=f(!!e.show),n=f(null),o=m(Zt);let l=0,s="",d=null;const c=f(!1),u=f(!1),h=a(()=>"top"===e.placement||"bottom"===e.placement),{mergedClsPrefixRef:p,mergedRtlRef:v}=Me(e),y=Le("Drawer",v,p),x=$,{doUpdateHeight:k,doUpdateWidth:S}=o;function z(t){var r,o;if(u.value)if(h.value){let o=(null===(r=n.value)||void 0===r?void 0:r.offsetHeight)||0;const i=l-t.clientY;o+="bottom"===e.placement?i:-i,o=(t=>{const{maxHeight:n}=e;if(n&&t>n)return n;const{minHeight:r}=e;return r&&t<r?r:t})(o),k(o),l=t.clientY}else{let r=(null===(o=n.value)||void 0===o?void 0:o.offsetWidth)||0;const i=l-t.clientX;r+="right"===e.placement?i:-i,r=(t=>{const{maxWidth:n}=e;if(n&&t>n)return n;const{minWidth:r}=e;return r&&t<r?r:t})(r),S(r),l=t.clientX}}function $(){u.value&&(l=0,u.value=!1,document.body.style.cursor=s,document.body.removeEventListener("mousemove",z),document.body.removeEventListener("mouseup",$),document.body.removeEventListener("mouseleave",x))}We(()=>{e.show&&(t.value=!0)}),i(()=>e.show,e=>{e||$()}),r(()=>{$()});const M=a(()=>{const{show:t}=e,n=[[Ve,t]];return e.showMask||n.push([Ue,e.onClickoutside,void 0,{capture:!0}]),n});return Kt(a(()=>e.blockScroll&&t.value)),C(b,n),C(w,null),C(g,null),{bodyRef:n,rtlEnabled:y,mergedClsPrefix:o.mergedClsPrefixRef,isMounted:o.isMountedRef,mergedTheme:o.mergedThemeRef,displayed:t,transitionName:a(()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"}[e.placement])),handleAfterLeave:function(){var n;t.value=!1,null===(n=e.onAfterLeave)||void 0===n||n.call(e)},bodyDirectives:M,handleMousedownResizeTrigger:e=>{u.value=!0,l=h.value?e.clientY:e.clientX,s=document.body.style.cursor,document.body.style.cursor=h.value?"ns-resize":"ew-resize",document.body.addEventListener("mousemove",z),document.body.addEventListener("mouseleave",x),document.body.addEventListener("mouseup",$)},handleMouseenterResizeTrigger:()=>{null!==d&&(window.clearTimeout(d),d=null),u.value?c.value=!0:d=window.setTimeout(()=>{c.value=!0},300)},handleMouseleaveResizeTrigger:()=>{null!==d&&(window.clearTimeout(d),d=null),c.value=!1},isDragging:u,isHoverOnResizeTrigger:c}},render(){const{$slots:e,mergedClsPrefix:t}=this;return"show"===this.displayDirective||this.displayed||this.show?S(M("div",{role:"none"},M(Ke,{disabled:!this.showMask||!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>M(De,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>S(M("div",_(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:[`${t}-drawer`,this.rtlEnabled&&`${t}-drawer--rtl`,`${t}-drawer--${this.placement}-placement`,this.isDragging&&`${t}-drawer--unselectable`,this.nativeScrollbar&&`${t}-drawer--native-scrollbar`]}),[this.resizable?M("div",{class:[`${t}-drawer__resize-trigger`,(this.isDragging||this.isHoverOnResizeTrigger)&&`${t}-drawer__resize-trigger--hover`],onMouseenter:this.handleMouseenterResizeTrigger,onMouseleave:this.handleMouseleaveResizeTrigger,onMousedown:this.handleMousedownResizeTrigger}):null,this.nativeScrollbar?M("div",{class:[`${t}-drawer-content-wrapper`,this.contentClass],style:this.contentStyle,role:"none"},e):M(Ie,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:[`${t}-drawer-content-wrapper`,this.contentClass],theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),e)]),this.bodyDirectives)})})),[[Ve,"if"===this.displayDirective||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:Th,cubicBezierEaseOut:Ph}=dt;const{cubicBezierEaseIn:Dh,cubicBezierEaseOut:Fh}=dt;const{cubicBezierEaseIn:_h,cubicBezierEaseOut:Bh}=dt;const{cubicBezierEaseIn:Eh,cubicBezierEaseOut:jh}=dt;const Ih=ye([we("drawer","\n word-break: break-word;\n line-height: var(--n-line-height);\n position: absolute;\n pointer-events: all;\n box-shadow: var(--n-box-shadow);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n background-color: var(--n-color);\n color: var(--n-text-color);\n box-sizing: border-box;\n ",[function({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-right"}={}){return[ye(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${_h}`}),ye(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${Bh}`}),ye(`&.${n}-transition-enter-to`,{transform:"translateX(0)"}),ye(`&.${n}-transition-enter-from`,{transform:"translateX(100%)"}),ye(`&.${n}-transition-leave-from`,{transform:"translateX(0)"}),ye(`&.${n}-transition-leave-to`,{transform:"translateX(100%)"})]}(),function({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-left"}={}){return[ye(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${Dh}`}),ye(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${Fh}`}),ye(`&.${n}-transition-enter-to`,{transform:"translateX(0)"}),ye(`&.${n}-transition-enter-from`,{transform:"translateX(-100%)"}),ye(`&.${n}-transition-leave-from`,{transform:"translateX(0)"}),ye(`&.${n}-transition-leave-to`,{transform:"translateX(-100%)"})]}(),function({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-top"}={}){return[ye(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${Eh}`}),ye(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${jh}`}),ye(`&.${n}-transition-enter-to`,{transform:"translateY(0)"}),ye(`&.${n}-transition-enter-from`,{transform:"translateY(-100%)"}),ye(`&.${n}-transition-leave-from`,{transform:"translateY(0)"}),ye(`&.${n}-transition-leave-to`,{transform:"translateY(-100%)"})]}(),function({duration:e="0.3s",leaveDuration:t="0.2s",name:n="slide-in-from-bottom"}={}){return[ye(`&.${n}-transition-leave-active`,{transition:`transform ${t} ${Th}`}),ye(`&.${n}-transition-enter-active`,{transition:`transform ${e} ${Ph}`}),ye(`&.${n}-transition-enter-to`,{transform:"translateY(0)"}),ye(`&.${n}-transition-enter-from`,{transform:"translateY(100%)"}),ye(`&.${n}-transition-leave-from`,{transform:"translateY(0)"}),ye(`&.${n}-transition-leave-to`,{transform:"translateY(100%)"})]}(),Fe("unselectable","\n user-select: none; \n -webkit-user-select: none;\n "),Fe("native-scrollbar",[we("drawer-content-wrapper","\n overflow: auto;\n height: 100%;\n ")]),xe("resize-trigger","\n position: absolute;\n background-color: #0000;\n transition: background-color .3s var(--n-bezier);\n ",[Fe("hover","\n background-color: var(--n-resize-trigger-color-hover);\n ")]),we("drawer-content-wrapper","\n box-sizing: border-box;\n "),we("drawer-content","\n height: 100%;\n display: flex;\n flex-direction: column;\n ",[Fe("native-scrollbar",[we("drawer-body-content-wrapper","\n height: 100%;\n overflow: auto;\n ")]),we("drawer-body","\n flex: 1 0 0;\n overflow: hidden;\n "),we("drawer-body-content-wrapper","\n box-sizing: border-box;\n padding: var(--n-body-padding);\n "),we("drawer-header","\n font-weight: var(--n-title-font-weight);\n line-height: 1;\n font-size: var(--n-title-font-size);\n color: var(--n-title-text-color);\n padding: var(--n-header-padding);\n transition: border .3s var(--n-bezier);\n border-bottom: 1px solid var(--n-divider-color);\n border-bottom: var(--n-header-border-bottom);\n display: flex;\n justify-content: space-between;\n align-items: center;\n ",[xe("main","\n flex: 1;\n "),xe("close","\n margin-left: 6px;\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n ")]),we("drawer-footer","\n display: flex;\n justify-content: flex-end;\n border-top: var(--n-footer-border-top);\n transition: border .3s var(--n-bezier);\n padding: var(--n-footer-padding);\n ")]),Fe("right-placement","\n top: 0;\n bottom: 0;\n right: 0;\n border-top-left-radius: var(--n-border-radius);\n border-bottom-left-radius: var(--n-border-radius);\n ",[xe("resize-trigger","\n width: 3px;\n height: 100%;\n top: 0;\n left: 0;\n transform: translateX(-1.5px);\n cursor: ew-resize;\n ")]),Fe("left-placement","\n top: 0;\n bottom: 0;\n left: 0;\n border-top-right-radius: var(--n-border-radius);\n border-bottom-right-radius: var(--n-border-radius);\n ",[xe("resize-trigger","\n width: 3px;\n height: 100%;\n top: 0;\n right: 0;\n transform: translateX(1.5px);\n cursor: ew-resize;\n ")]),Fe("top-placement","\n top: 0;\n left: 0;\n right: 0;\n border-bottom-left-radius: var(--n-border-radius);\n border-bottom-right-radius: var(--n-border-radius);\n ",[xe("resize-trigger","\n width: 100%;\n height: 3px;\n bottom: 0;\n left: 0;\n transform: translateY(1.5px);\n cursor: ns-resize;\n ")]),Fe("bottom-placement","\n left: 0;\n bottom: 0;\n right: 0;\n border-top-left-radius: var(--n-border-radius);\n border-top-right-radius: var(--n-border-radius);\n ",[xe("resize-trigger","\n width: 100%;\n height: 3px;\n top: 0;\n left: 0;\n transform: translateY(-1.5px);\n cursor: ns-resize;\n ")])]),ye("body",[ye(">",[we("drawer-container","\n position: fixed;\n ")])]),we("drawer-container","\n position: relative;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n ",[ye("> *","\n pointer-events: all;\n ")]),we("drawer-mask","\n background-color: rgba(0, 0, 0, .3);\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n ",[Fe("invisible","\n background-color: rgba(0, 0, 0, 0)\n "),Gt({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),Lh=Object.assign(Object.assign({},Re.props),{show:Boolean,width:[Number,String],height:[Number,String],placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},showMask:{type:[Boolean,String],default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentClass:String,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,defaultWidth:{type:[Number,String],default:251},defaultHeight:{type:[Number,String],default:251},onUpdateWidth:[Function,Array],onUpdateHeight:[Function,Array],"onUpdate:width":[Function,Array],"onUpdate:height":[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),Nh=x({name:"Drawer",inheritAttrs:!1,props:Lh,setup(e){const{mergedClsPrefixRef:t,namespaceRef:n,inlineThemeDisabled:r}=Me(e),o=P(),i=Re("Drawer","-drawer",Ih,en,e,t),l=f(e.defaultWidth),s=f(e.defaultHeight),d=Sr(T(e,"width"),l),c=Sr(T(e,"height"),s),u=a(()=>{const{placement:t}=e;return"top"===t||"bottom"===t?"":mo(d.value)}),h=a(()=>{const{placement:t}=e;return"left"===t||"right"===t?"":mo(c.value)}),p=a(()=>[{width:u.value,height:h.value},e.drawerStyle||""]);function v(t){const{onMaskClick:n,maskClosable:r}=e;r&&g(!1),n&&n(t)}const m=Jt();function g(t){const{onHide:n,onUpdateShow:r,"onUpdate:show":o}=e;r&&rt(r,t),o&&rt(o,t),n&&!t&&rt(n,t)}C(Zt,{isMountedRef:o,mergedThemeRef:i,mergedClsPrefixRef:t,doUpdateShow:g,doUpdateHeight:t=>{const{onUpdateHeight:n,"onUpdate:width":r}=e;n&&rt(n,t),r&&rt(r,t),s.value=t},doUpdateWidth:t=>{const{onUpdateWidth:n,"onUpdate:width":r}=e;n&&rt(n,t),r&&rt(r,t),l.value=t}});const b=a(()=>{const{common:{cubicBezierEaseInOut:e,cubicBezierEaseIn:t,cubicBezierEaseOut:n},self:{color:r,textColor:o,boxShadow:a,lineHeight:l,headerPadding:s,footerPadding:d,borderRadius:c,bodyPadding:u,titleFontSize:h,titleTextColor:p,titleFontWeight:f,headerBorderBottom:v,footerBorderTop:m,closeIconColor:g,closeIconColorHover:b,closeIconColorPressed:w,closeColorHover:y,closeColorPressed:x,closeIconSize:k,closeSize:C,closeBorderRadius:S,resizableTriggerColorHover:z}}=i.value;return{"--n-line-height":l,"--n-color":r,"--n-border-radius":c,"--n-text-color":o,"--n-box-shadow":a,"--n-bezier":e,"--n-bezier-out":n,"--n-bezier-in":t,"--n-header-padding":s,"--n-body-padding":u,"--n-footer-padding":d,"--n-title-text-color":p,"--n-title-font-size":h,"--n-title-font-weight":f,"--n-header-border-bottom":v,"--n-footer-border-top":m,"--n-close-icon-color":g,"--n-close-icon-color-hover":b,"--n-close-icon-color-pressed":w,"--n-close-size":C,"--n-close-color-hover":y,"--n-close-color-pressed":x,"--n-close-icon-size":k,"--n-close-border-radius":S,"--n-resize-trigger-color-hover":z}}),w=r?Oe("drawer",void 0,b,e):void 0;return{mergedClsPrefix:t,namespace:n,mergedBodyStyle:p,handleOutsideClick:function(e){v(e)},handleMaskClick:v,handleEsc:function(t){var n;null===(n=e.onEsc)||void 0===n||n.call(e),e.show&&e.closeOnEsc&&tn(t)&&(m.value||g(!1))},mergedTheme:i,cssVars:r?void 0:b,themeClass:null==w?void 0:w.themeClass,onRender:null==w?void 0:w.onRender,isMounted:o}},render(){const{mergedClsPrefix:e}=this;return M(R,{to:this.to,show:this.show},{default:()=>{var t;return null===(t=this.onRender)||void 0===t||t.call(this),S(M("div",{class:[`${e}-drawer-container`,this.namespace,this.themeClass],style:this.cssVars,role:"none"},this.showMask?M(De,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?M("div",{"aria-hidden":!0,class:[`${e}-drawer-mask`,"transparent"===this.showMask&&`${e}-drawer-mask--invisible`],onClick:this.handleMaskClick}):null}):null,M(Oh,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],blockScroll:this.blockScroll,contentStyle:this.contentStyle,contentClass:this.contentClass,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,resizable:this.resizable,maxHeight:this.maxHeight,minHeight:this.minHeight,maxWidth:this.maxWidth,minWidth:this.minWidth,showMask:this.showMask,onEsc:this.handleEsc,onClickoutside:this.handleOutsideClick}),this.$slots)),[[A,{zIndex:this.zIndex,enabled:this.show}]])}})}}),Hh={title:String,headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],bodyClass:String,bodyStyle:[Object,String],bodyContentClass:String,bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},Yh=x({name:"DrawerContent",props:Hh,slots:Object,setup(){const e=m(Zt,null);e||Vt("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:t}=e;return{handleCloseClick:function(){t(!1)},mergedTheme:e.mergedThemeRef,mergedClsPrefix:e.mergedClsPrefixRef}},render(){const{title:e,mergedClsPrefix:t,nativeScrollbar:n,mergedTheme:r,bodyClass:o,bodyStyle:i,bodyContentClass:a,bodyContentStyle:l,headerClass:s,headerStyle:d,footerClass:c,footerStyle:u,scrollbarProps:h,closable:p,$slots:f}=this;return M("div",{role:"none",class:[`${t}-drawer-content`,n&&`${t}-drawer-content--native-scrollbar`]},f.header||e||p?M("div",{class:[`${t}-drawer-header`,s],style:d,role:"none"},M("div",{class:`${t}-drawer-header__main`,role:"heading","aria-level":"1"},void 0!==f.header?f.header():e),p&&M(ot,{onClick:this.handleCloseClick,clsPrefix:t,class:`${t}-drawer-header__close`,absolute:!0})):null,n?M("div",{class:[`${t}-drawer-body`,o],style:i,role:"none"},M("div",{class:[`${t}-drawer-body-content-wrapper`,a],style:l,role:"none"},f)):M(Ie,Object.assign({themeOverrides:r.peerOverrides.Scrollbar,theme:r.peers.Scrollbar},h,{class:`${t}-drawer-body`,contentClass:[`${t}-drawer-body-content-wrapper`,a],contentStyle:l}),f),f.footer?M("div",{class:[`${t}-drawer-footer`,c],style:u,role:"none"},f.footer()):null)}});let Wh;function Uh(){if(!gt)return!0;if(void 0===Wh){const e=document.createElement("div");e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e);const t=1===e.scrollHeight;return document.body.removeChild(e),Wh=t}return Wh}const Vh=Object.assign(Object.assign({},Re.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,reverse:Boolean,size:{type:[String,Number,Array],default:"medium"},wrapItem:{type:Boolean,default:!0},itemClass:String,itemStyle:[String,Object],wrap:{type:Boolean,default:!0},internalUseGap:{type:Boolean,default:void 0}}),qh=x({name:"Space",props:Vh,setup(e){const{mergedClsPrefixRef:t,mergedRtlRef:n}=Me(e),r=Re("Space","-space",void 0,an,e,t),o=Le("Space",n,t);return{useGap:Uh(),rtlEnabled:o,mergedClsPrefix:t,margin:a(()=>{const{size:t}=e;if(Array.isArray(t))return{horizontal:t[0],vertical:t[1]};if("number"==typeof t)return{horizontal:t,vertical:t};const{self:{[Ae("gap",t)]:n}}=r.value,{row:o,col:i}=on(n);return{horizontal:j(i),vertical:j(o)}})}},render(){const{vertical:e,reverse:t,align:n,inline:r,justify:o,itemClass:i,itemStyle:a,margin:l,wrap:s,mergedClsPrefix:d,rtlEnabled:c,useGap:u,wrapItem:h,internalUseGap:p}=this,f=nn(Co(this),!1);if(!f.length)return null;const v=`${l.horizontal}px`,m=l.horizontal/2+"px",g=`${l.vertical}px`,b=l.vertical/2+"px",w=f.length-1,y=o.startsWith("space-");return M("div",{role:"none",class:[`${d}-space`,c&&`${d}-space--rtl`],style:{display:r?"inline-flex":"flex",flexDirection:e&&!t?"column":e&&t?"column-reverse":!e&&t?"row-reverse":"row",justifyContent:["start","end"].includes(o)?`flex-${o}`:o,flexWrap:!s||e?"nowrap":"wrap",marginTop:u||e?"":`-${b}`,marginBottom:u||e?"":`-${b}`,alignItems:n,gap:u?`${l.vertical}px ${l.horizontal}px`:""}},h||!u&&!p?f.map((t,n)=>t.type===rn?t:M("div",{role:"none",class:i,style:[a,{maxWidth:"100%"},u?"":e?{marginBottom:n!==w?g:""}:c?{marginLeft:y?"space-between"===o&&n===w?"":m:n!==w?v:"",marginRight:y?"space-between"===o&&0===n?"":m:"",paddingTop:b,paddingBottom:b}:{marginRight:y?"space-between"===o&&n===w?"":m:n!==w?v:"",marginLeft:y?"space-between"===o&&0===n?"":m:"",paddingTop:b,paddingBottom:b}]},t)):f)}}),Xh=we("dynamic-tags",[we("input",{minWidth:"var(--n-input-width)"})]),Qh=Object.assign(Object.assign(Object.assign({},Re.props),jl),{size:{type:String,default:"medium"},closable:{type:Boolean,default:!0},defaultValue:{type:Array,default:()=>[]},value:Array,inputClass:String,inputStyle:[String,Object],inputProps:Object,max:Number,tagClass:String,tagStyle:[String,Object],renderTag:Function,onCreate:{type:Function,default:e=>e},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:[Function,Array]}),Kh=x({name:"DynamicTags",props:Qh,slots:Object,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=Me(e),{localeRef:r}=ka("DynamicTags"),o=vt(e),{mergedDisabledRef:i}=o,l=f(""),s=f(!1),d=f(!0),c=f(null),u=Re("DynamicTags","-dynamic-tags",Xh,ln,e,t),h=f(e.defaultValue),p=Sr(T(e,"value"),h),v=a(()=>r.value.add),m=a(()=>xo(e.size)),g=a(()=>i.value||!!e.max&&p.value.length>=e.max);function b(t){const{onChange:n,"onUpdate:value":r,onUpdateValue:i}=e,{nTriggerFormInput:a,nTriggerFormChange:l}=o;n&&rt(n,t),i&&rt(i,t),r&&rt(r,t),h.value=t,a(),l()}function w(t){const n=null!=t?t:l.value;if(n){const t=p.value.slice(0);t.push(e.onCreate(n)),b(t)}s.value=!1,d.value=!0,l.value=""}const y=a(()=>{const{self:{inputWidth:e}}=u.value;return{"--n-input-width":e}}),x=n?Oe("dynamic-tags",void 0,y,e):void 0;return{mergedClsPrefix:t,inputInstRef:c,localizedAdd:v,inputSize:m,inputValue:l,showInput:s,inputForceFocused:d,mergedValue:p,mergedDisabled:i,triggerDisabled:g,handleInputKeyDown:function(e){if("Enter"===e.key)w()},handleAddClick:function(){s.value=!0,D(()=>{var e;null===(e=c.value)||void 0===e||e.focus(),d.value=!1})},handleInputBlur:function(){w()},handleCloseClick:function(e){const t=p.value.slice(0);t.splice(e,1),b(t)},handleInputConfirm:w,mergedTheme:u,cssVars:n?void 0:y,themeClass:null==x?void 0:x.themeClass,onRender:null==x?void 0:x.onRender}},render(){const{mergedTheme:e,cssVars:t,mergedClsPrefix:n,onRender:r,renderTag:o}=this;return null==r||r(),M(qh,{class:[`${n}-dynamic-tags`,this.themeClass],size:"small",style:t,theme:e.peers.Space,themeOverrides:e.peerOverrides.Space,itemStyle:"display: flex;"},{default:()=>{const{mergedTheme:e,tagClass:t,tagStyle:r,type:i,round:a,size:l,color:s,closable:d,mergedDisabled:c,showInput:u,inputValue:h,inputClass:p,inputStyle:f,inputSize:v,inputForceFocused:m,triggerDisabled:g,handleInputKeyDown:b,handleInputBlur:w,handleAddClick:y,handleCloseClick:x,handleInputConfirm:k,$slots:C}=this;return this.mergedValue.map((n,u)=>o?o(n,u):M(Hl,{key:u,theme:e.peers.Tag,themeOverrides:e.peerOverrides.Tag,class:t,style:r,type:i,round:a,size:l,color:s,closable:d,disabled:c,onClose:()=>{x(u)}},{default:()=>"string"==typeof n?n:n.label})).concat(u?C.input?C.input({submit:k,deactivate:w}):M(rs,Object.assign({placeholder:"",size:v,style:f,class:p,autosize:!0},this.inputProps,{ref:"inputInstRef",value:h,onUpdateValue:e=>{this.inputValue=e},theme:e.peers.Input,themeOverrides:e.peerOverrides.Input,onKeydown:b,onBlur:w,internalForceFocus:m})):C.trigger?C.trigger({activate:y,disabled:g}):M(Ut,{dashed:!0,disabled:g,theme:e.peers.Button,themeOverrides:e.peerOverrides.Button,size:v,onClick:y},{icon:()=>M($e,{clsPrefix:n},{default:()=>M(Ca,null)})}))}})}}),Zh=p("n-form"),Gh=p("n-form-item-insts"),Jh=we("form",[Fe("inline","\n width: 100%;\n display: inline-flex;\n align-items: flex-start;\n align-content: space-around;\n ",[we("form-item",{width:"auto",marginRight:"18px"},[ye("&:last-child",{marginRight:0})])])]);var ep=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(gk){i(gk)}}function l(e){try{s(r.throw(e))}catch(gk){i(gk)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})};const tp=Object.assign(Object.assign({},Re.props),{inline:Boolean,labelWidth:[Number,String],labelAlign:String,labelPlacement:{type:String,default:"top"},model:{type:Object,default:()=>{}},rules:Object,disabled:Boolean,size:String,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:!0},onSubmit:{type:Function,default:e=>{e.preventDefault()}},showLabel:{type:Boolean,default:void 0},validateMessages:Object}),np=x({name:"Form",props:tp,setup(e){const{mergedClsPrefixRef:t}=Me(e);Re("Form","-form",Jh,sn,e,t);const n={},r=f(void 0);C(Zh,{props:e,maxChildLabelWidthRef:r,deriveMaxChildLabelWidth:e=>{const t=r.value;(void 0===t||e>=t)&&(r.value=e)}}),C(Gh,{formItems:n});const o={validate:function(e){return ep(this,arguments,void 0,function*(e,t=()=>!0){return yield new Promise((r,o)=>{const i=[];for(const e of _t(n)){const r=n[e];for(const e of r)e.path&&i.push(e.internalValidate(null,t))}Promise.all(i).then(t=>{const n=t.some(e=>!e.valid),i=[],a=[];t.forEach(e=>{var t,n;(null===(t=e.errors)||void 0===t?void 0:t.length)&&i.push(e.errors),(null===(n=e.warnings)||void 0===n?void 0:n.length)&&a.push(e.warnings)}),e&&e(i.length?i:void 0,{warnings:a.length?a:void 0}),n?o(i.length?i:void 0):r({warnings:a.length?a:void 0})})})})},restoreValidation:function(){for(const e of _t(n)){const t=n[e];for(const e of t)e.restoreValidation()}}};return Object.assign(o,{mergedClsPrefix:t})},render(){const{mergedClsPrefix:e}=this;return M("form",{class:[`${e}-form`,this.inline&&`${e}-form--inline`],onSubmit:this.onSubmit},this.$slots)}});function rp(){return rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rp.apply(this,arguments)}function op(e){return(op=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ip(e,t){return(ip=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ap(e,t,n){return(ap=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(gk){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&ip(o,n.prototype),o}).apply(null,arguments)}function lp(e){var t="function"==typeof Map?new Map:void 0;return lp=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ap(e,arguments,op(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),ip(r,e)},lp(e)}var sp=/%[sdj%]/g;function dp(e){if(!e||!e.length)return null;var t={};return e.forEach(function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)}),t}function cp(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0,i=n.length;return"function"==typeof e?e.apply(null,n):"string"==typeof e?e.replace(sp,function(e){if("%%"===e)return"%";if(o>=i)return e;switch(e){case"%s":return String(n[o++]);case"%d":return Number(n[o++]);case"%j":try{return JSON.stringify(n[o++])}catch(t){return"[Circular]"}break;default:return e}}):e}function up(e,t){return null==e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e))}function hp(e,t,n){var r=0,o=e.length;!function i(a){if(a&&a.length)n(a);else{var l=r;r+=1,l<o?t(e[l],i):n([])}}([])}var pp=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,ip(t,n),r}(lp(Error));function fp(e,t,n,r,o){if(t.first){var i=new Promise(function(t,i){var a=function(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n]||[])}),t}(e);hp(a,n,function(e){return r(e),e.length?i(new pp(e,dp(e))):t(o)})});return i.catch(function(e){return e}),i}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],l=Object.keys(e),s=l.length,d=0,c=[],u=new Promise(function(t,i){var u=function(e){if(c.push.apply(c,e),++d===s)return r(c),c.length?i(new pp(c,dp(c))):t(o)};l.length||(r(c),t(o)),l.forEach(function(t){var r=e[t];-1!==a.indexOf(t)?hp(r,n,u):function(e,t,n){var r=[],o=0,i=e.length;function a(e){r.push.apply(r,e||[]),++o===i&&n(r)}e.forEach(function(e){t(e,a)})}(r,n,u)})});return u.catch(function(e){return e}),u}function vp(e,t){return function(n){var r,o;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(null==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(o=n)&&void 0!==o.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"==typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function mp(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"==typeof r&&"object"==typeof e[n]?e[n]=rp({},e[n],r):e[n]=r}return e}var gp,bp=function(e,t,n,r,o,i){!e.required||n.hasOwnProperty(e.field)&&!up(t,i||e.type)||r.push(cp(o.messages.required,e.fullField))},wp=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,yp=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,xp={integer:function(e){return xp.number(e)&&parseInt(e,10)===e},float:function(e){return xp.number(e)&&!xp.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(gk){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!xp.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&e.length<=320&&!!e.match(wp)},url:function(e){return"string"==typeof e&&e.length<=2048&&!!e.match(function(){if(gp)return gp;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",o=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),i=new RegExp("(?:^"+n+"$)|(?:^"+o+"$)"),a=new RegExp("^"+n+"$"),l=new RegExp("^"+o+"$"),s=function(e){return e&&e.exact?i:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+o+t(e)+")","g")};s.v4=function(e){return e&&e.exact?a:new RegExp(""+t(e)+n+t(e),"g")},s.v6=function(e){return e&&e.exact?l:new RegExp(""+t(e)+o+t(e),"g")};var d=s.v4().source,c=s.v6().source;return gp=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+d+"|"+c+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"==typeof e&&!!e.match(yp)}},kp="enum",Cp={required:bp,whitespace:function(e,t,n,r,o){(/^\s+$/.test(t)||""===t)&&r.push(cp(o.messages.whitespace,e.fullField))},type:function(e,t,n,r,o){if(e.required&&void 0===t)bp(e,t,n,r,o);else{var i=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(i)>-1?xp[i](t)||r.push(cp(o.messages.types[i],e.fullField,e.type)):i&&typeof t!==e.type&&r.push(cp(o.messages.types[i],e.fullField,e.type))}},range:function(e,t,n,r,o){var i="number"==typeof e.len,a="number"==typeof e.min,l="number"==typeof e.max,s=t,d=null,c="number"==typeof t,u="string"==typeof t,h=Array.isArray(t);if(c?d="number":u?d="string":h&&(d="array"),!d)return!1;h&&(s=t.length),u&&(s=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),i?s!==e.len&&r.push(cp(o.messages[d].len,e.fullField,e.len)):a&&!l&&s<e.min?r.push(cp(o.messages[d].min,e.fullField,e.min)):l&&!a&&s>e.max?r.push(cp(o.messages[d].max,e.fullField,e.max)):a&&l&&(s<e.min||s>e.max)&&r.push(cp(o.messages[d].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,o){e[kp]=Array.isArray(e[kp])?e[kp]:[],-1===e[kp].indexOf(t)&&r.push(cp(o.messages[kp],e.fullField,e[kp].join(", ")))},pattern:function(e,t,n,r,o){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(cp(o.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"==typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(cp(o.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},Sp=function(e,t,n,r,o){var i=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(up(t,i)&&!e.required)return n();Cp.required(e,t,r,a,o,i),up(t,i)||Cp.type(e,t,r,a,o)}n(a)},zp={string:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(up(t,"string")&&!e.required)return n();Cp.required(e,t,r,i,o,"string"),up(t,"string")||(Cp.type(e,t,r,i,o),Cp.range(e,t,r,i,o),Cp.pattern(e,t,r,i,o),!0===e.whitespace&&Cp.whitespace(e,t,r,i,o))}n(i)},method:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(up(t)&&!e.required)return n();Cp.required(e,t,r,i,o),void 0!==t&&Cp.type(e,t,r,i,o)}n(i)},number:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),up(t)&&!e.required)return n();Cp.required(e,t,r,i,o),void 0!==t&&(Cp.type(e,t,r,i,o),Cp.range(e,t,r,i,o))}n(i)},boolean:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(up(t)&&!e.required)return n();Cp.required(e,t,r,i,o),void 0!==t&&Cp.type(e,t,r,i,o)}n(i)},regexp:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(up(t)&&!e.required)return n();Cp.required(e,t,r,i,o),up(t)||Cp.type(e,t,r,i,o)}n(i)},integer:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(up(t)&&!e.required)return n();Cp.required(e,t,r,i,o),void 0!==t&&(Cp.type(e,t,r,i,o),Cp.range(e,t,r,i,o))}n(i)},float:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(up(t)&&!e.required)return n();Cp.required(e,t,r,i,o),void 0!==t&&(Cp.type(e,t,r,i,o),Cp.range(e,t,r,i,o))}n(i)},array:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();Cp.required(e,t,r,i,o,"array"),null!=t&&(Cp.type(e,t,r,i,o),Cp.range(e,t,r,i,o))}n(i)},object:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(up(t)&&!e.required)return n();Cp.required(e,t,r,i,o),void 0!==t&&Cp.type(e,t,r,i,o)}n(i)},enum:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(up(t)&&!e.required)return n();Cp.required(e,t,r,i,o),void 0!==t&&Cp.enum(e,t,r,i,o)}n(i)},pattern:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(up(t,"string")&&!e.required)return n();Cp.required(e,t,r,i,o),up(t,"string")||Cp.pattern(e,t,r,i,o)}n(i)},date:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(up(t,"date")&&!e.required)return n();var a;if(Cp.required(e,t,r,i,o),!up(t,"date"))a=t instanceof Date?t:new Date(t),Cp.type(e,a,r,i,o),a&&Cp.range(e,a.getTime(),r,i,o)}n(i)},url:Sp,hex:Sp,email:Sp,required:function(e,t,n,r,o){var i=[],a=Array.isArray(t)?"array":typeof t;Cp.required(e,t,r,i,o,a),n(i)},any:function(e,t,n,r,o){var i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(up(t)&&!e.required)return n();Cp.required(e,t,r,i,o)}n(i)}};function $p(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Mp=$p(),Rp=function(){function e(e){this.rules=null,this._messages=Mp,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach(function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]})},t.messages=function(e){return e&&(this._messages=mp($p(),e)),this._messages},t.validate=function(t,n,r){var o=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var i=t,a=n,l=r;if("function"==typeof a&&(l=a,a={}),!this.rules||0===Object.keys(this.rules).length)return l&&l(null,i),Promise.resolve(i);if(a.messages){var s=this.messages();s===Mp&&(s=$p()),mp(s,a.messages),a.messages=s}else a.messages=this.messages();var d={};(a.keys||Object.keys(this.rules)).forEach(function(e){var n=o.rules[e],r=i[e];n.forEach(function(n){var a=n;"function"==typeof a.transform&&(i===t&&(i=rp({},i)),r=i[e]=a.transform(r)),(a="function"==typeof a?{validator:a}:rp({},a)).validator=o.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=o.getType(a),d[e]=d[e]||[],d[e].push({rule:a,value:r,source:i,field:e}))})});var c={};return fp(d,a,function(t,n){var r,o=t.rule,l=!("object"!==o.type&&"array"!==o.type||"object"!=typeof o.fields&&"object"!=typeof o.defaultField);function s(e,t){return rp({},t,{fullField:o.fullField+"."+e,fullFields:o.fullFields?[].concat(o.fullFields,[e]):[e]})}function d(r){void 0===r&&(r=[]);var d=Array.isArray(r)?r:[r];!a.suppressWarning&&d.length&&e.warning("async-validator:",d),d.length&&void 0!==o.message&&(d=[].concat(o.message));var u=d.map(vp(o,i));if(a.first&&u.length)return c[o.field]=1,n(u);if(l){if(o.required&&!t.value)return void 0!==o.message?u=[].concat(o.message).map(vp(o,i)):a.error&&(u=[a.error(o,cp(a.messages.required,o.field))]),n(u);var h={};o.defaultField&&Object.keys(t.value).map(function(e){h[e]=o.defaultField}),h=rp({},h,t.rule.fields);var p={};Object.keys(h).forEach(function(e){var t=h[e],n=Array.isArray(t)?t:[t];p[e]=n.map(s.bind(null,e))});var f=new e(p);f.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),f.validate(t.value,t.rule.options||a,function(e){var t=[];u&&u.length&&t.push.apply(t,u),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)})}else n(u)}if(l=l&&(o.required||!o.required&&t.value),o.field=t.field,o.asyncValidator)r=o.asyncValidator(o,t.value,d,t.source,a);else if(o.validator){try{r=o.validator(o,t.value,d,t.source,a)}catch(u){console.error,a.suppressValidatorError||setTimeout(function(){throw u},0),d(u.message)}!0===r?d():!1===r?d("function"==typeof o.message?o.message(o.fullField||o.field):o.message||(o.fullField||o.field)+" fails"):r instanceof Array?d(r):r instanceof Error&&d(r.message)}r&&r.then&&r.then(function(){return d()},function(e){return d(e)})},function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var o=0;o<e.length;o++)r(e[o]);t.length?(n=dp(t),l(t,n)):l(null,i)}(e)},i)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!zp.hasOwnProperty(e.type))throw new Error(cp("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?zp.required:zp[this.getType(e)]||void 0},e}();Rp.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");zp[e]=t},Rp.warning=function(){},Rp.messages=Mp,Rp.validators=zp;const{cubicBezierEaseInOut:Ap}=dt;const Op=we("form-item","\n display: grid;\n line-height: var(--n-line-height);\n",[we("form-item-label","\n grid-area: label;\n align-items: center;\n line-height: 1.25;\n text-align: var(--n-label-text-align);\n font-size: var(--n-label-font-size);\n min-height: var(--n-label-height);\n padding: var(--n-label-padding);\n color: var(--n-label-text-color);\n transition: color .3s var(--n-bezier);\n box-sizing: border-box;\n font-weight: var(--n-label-font-weight);\n ",[xe("asterisk","\n white-space: nowrap;\n user-select: none;\n -webkit-user-select: none;\n color: var(--n-asterisk-color);\n transition: color .3s var(--n-bezier);\n "),xe("asterisk-placeholder","\n grid-area: mark;\n user-select: none;\n -webkit-user-select: none;\n visibility: hidden; \n ")]),we("form-item-blank","\n grid-area: blank;\n min-height: var(--n-blank-height);\n "),Fe("auto-label-width",[we("form-item-label","white-space: nowrap;")]),Fe("left-labelled",'\n grid-template-areas:\n "label blank"\n "label feedback";\n grid-template-columns: auto minmax(0, 1fr);\n grid-template-rows: auto 1fr;\n align-items: flex-start;\n ',[we("form-item-label","\n display: grid;\n grid-template-columns: 1fr auto;\n min-height: var(--n-blank-height);\n height: auto;\n box-sizing: border-box;\n flex-shrink: 0;\n flex-grow: 0;\n ",[Fe("reverse-columns-space","\n grid-template-columns: auto 1fr;\n "),Fe("left-mark",'\n grid-template-areas:\n "mark text"\n ". text";\n '),Fe("right-mark",'\n grid-template-areas: \n "text mark"\n "text .";\n '),Fe("right-hanging-mark",'\n grid-template-areas: \n "text mark"\n "text .";\n '),xe("text","\n grid-area: text; \n "),xe("asterisk","\n grid-area: mark; \n align-self: end;\n ")])]),Fe("top-labelled",'\n grid-template-areas:\n "label"\n "blank"\n "feedback";\n grid-template-rows: minmax(var(--n-label-height), auto) 1fr;\n grid-template-columns: minmax(0, 100%);\n ',[Fe("no-label",'\n grid-template-areas:\n "blank"\n "feedback";\n grid-template-rows: 1fr;\n '),we("form-item-label","\n display: flex;\n align-items: flex-start;\n justify-content: var(--n-label-text-align);\n ")]),we("form-item-blank","\n box-sizing: border-box;\n display: flex;\n align-items: center;\n position: relative;\n "),we("form-item-feedback-wrapper","\n grid-area: feedback;\n box-sizing: border-box;\n min-height: var(--n-feedback-height);\n font-size: var(--n-feedback-font-size);\n line-height: 1.25;\n transform-origin: top left;\n ",[ye("&:not(:empty)","\n padding: var(--n-feedback-padding);\n "),we("form-item-feedback",{transition:"color .3s var(--n-bezier)",color:"var(--n-feedback-text-color)"},[Fe("warning",{color:"var(--n-feedback-text-color-warning)"}),Fe("error",{color:"var(--n-feedback-text-color-error)"}),function({name:e="fade-down",fromOffset:t="-4px",enterDuration:n=".3s",leaveDuration:r=".3s",enterCubicBezier:o=Ap,leaveCubicBezier:i=Ap}={}){return[ye(`&.${e}-transition-enter-from, &.${e}-transition-leave-to`,{opacity:0,transform:`translateY(${t})`}),ye(`&.${e}-transition-enter-to, &.${e}-transition-leave-from`,{opacity:1,transform:"translateY(0)"}),ye(`&.${e}-transition-leave-active`,{transition:`opacity ${r} ${i}, transform ${r} ${i}`}),ye(`&.${e}-transition-enter-active`,{transition:`opacity ${n} ${o}, transform ${n} ${o}`})]}({fromOffset:"-3px",enterDuration:".3s",leaveDuration:".2s"})])])]);var Tp=function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{s(r.next(e))}catch(gk){i(gk)}}function l(e){try{s(r.throw(e))}catch(gk){i(gk)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,l)}s((r=r.apply(e,t||[])).next())})};const Pp=Object.assign(Object.assign({},Re.props),{label:String,labelWidth:[Number,String],labelStyle:[String,Object],labelAlign:String,labelPlacement:String,path:String,first:Boolean,rulePath:String,required:Boolean,showRequireMark:{type:Boolean,default:void 0},requireMarkPlacement:String,showFeedback:{type:Boolean,default:void 0},rule:[Object,Array],size:String,ignorePathChange:Boolean,validationStatus:String,feedback:String,feedbackClass:String,feedbackStyle:[String,Object],showLabel:{type:Boolean,default:void 0},labelProps:Object,contentClass:String,contentStyle:[String,Object]}),Dp=_t(Pp);function Fp(e,t){return(...n)=>{try{const r=e(...n);return!t&&("boolean"==typeof r||r instanceof Error||Array.isArray(r))||(null==r?void 0:r.then)?r:(void 0===r||Nt("form-item/validate",`You return a ${typeof r} typed value in the validator method, which is not recommended. Please use ${t?"`Promise`":"`boolean`, `Error` or `Promise`"} typed value instead.`),!0)}catch(r){return void Nt("form-item/validate","An error is catched in the validation, so the validation won't be done. Your callback in `validate` method of `n-form` or `n-form-item` won't be called in this validation.")}}}const _p=x({name:"FormItem",props:Pp,setup(e){Tr(Gh,"formItems",T(e,"path"));const{mergedClsPrefixRef:t,inlineThemeDisabled:r}=Me(e),o=m(Zh,null),l=function(e){const t=m(Zh,null);return{mergedSize:a(()=>void 0!==e.size?e.size:void 0!==(null==t?void 0:t.props.size)?t.props.size:"medium")}}(e),s=function(e){const t=m(Zh,null),n=a(()=>{const{labelPlacement:n}=e;return void 0!==n?n:(null==t?void 0:t.props.labelPlacement)?t.props.labelPlacement:"top"}),r=a(()=>"left"===n.value&&("auto"===e.labelWidth||"auto"===(null==t?void 0:t.props.labelWidth))),o=a(()=>{if("top"===n.value)return;const{labelWidth:o}=e;if(void 0!==o&&"auto"!==o)return mo(o);if(r.value){const e=null==t?void 0:t.maxChildLabelWidthRef.value;return void 0!==e?mo(e):void 0}return void 0!==(null==t?void 0:t.props.labelWidth)?mo(t.props.labelWidth):void 0}),i=a(()=>{const{labelAlign:n}=e;return n||((null==t?void 0:t.props.labelAlign)?t.props.labelAlign:void 0)}),l=a(()=>{var t;return[null===(t=e.labelProps)||void 0===t?void 0:t.style,e.labelStyle,{width:o.value}]}),s=a(()=>{const{showRequireMark:n}=e;return void 0!==n?n:null==t?void 0:t.props.showRequireMark}),d=a(()=>{const{requireMarkPlacement:n}=e;return void 0!==n?n:(null==t?void 0:t.props.requireMarkPlacement)||"right"}),c=f(!1),u=f(!1),h=a(()=>{const{validationStatus:t}=e;return void 0!==t?t:c.value?"error":u.value?"warning":void 0}),p=a(()=>{const{showFeedback:n}=e;return void 0!==n?n:void 0===(null==t?void 0:t.props.showFeedback)||t.props.showFeedback}),v=a(()=>{const{showLabel:n}=e;return void 0!==n?n:void 0===(null==t?void 0:t.props.showLabel)||t.props.showLabel});return{validationErrored:c,validationWarned:u,mergedLabelStyle:l,mergedLabelPlacement:n,mergedLabelAlign:i,mergedShowRequireMark:s,mergedRequireMarkPlacement:d,mergedValidationStatus:h,mergedShowFeedback:p,mergedShowLabel:v,isAutoLabelWidth:r}}(e),{validationErrored:d,validationWarned:c}=s,{mergedRequired:u,mergedRules:h}=function(e){const t=m(Zh,null),n=a(()=>{const{rulePath:t}=e;if(void 0!==t)return t;const{path:n}=e;return void 0!==n?n:void 0}),r=a(()=>{const r=[],{rule:o}=e;if(void 0!==o&&(Array.isArray(o)?r.push(...o):r.push(o)),t){const{rules:e}=t.props,{value:o}=n;if(void 0!==e&&void 0!==o){const t=Ko(e,o);void 0!==t&&(Array.isArray(t)?r.push(...t):r.push(t))}}return r}),o=a(()=>r.value.some(e=>e.required)),i=a(()=>o.value||e.required);return{mergedRules:r,mergedRequired:i}}(e),{mergedSize:p}=l,{mergedLabelPlacement:v,mergedLabelAlign:g,mergedRequireMarkPlacement:b}=s,w=f([]),y=f(dn()),x=o?T(o.props,"disabled"):f(!1),k=Re("Form","-form-item",Op,sn,e,t);function S(){w.value=[],d.value=!1,c.value=!1,e.feedback&&(y.value=dn())}i(T(e,"path"),()=>{e.ignorePathChange||S()});const z=(...t)=>Tp(this,[...t],void 0,function*(t=null,n=()=>!0,r={suppressWarning:!0}){const{path:i}=e;r?r.first||(r.first=e.first):r={};const{value:a}=h,l=o?Ko(o.props.model,i||""):void 0,s={},u={},p=(t?a.filter(e=>Array.isArray(e.trigger)?e.trigger.includes(t):e.trigger===t):a).filter(n).map((e,t)=>{const n=Object.assign({},e);if(n.validator&&(n.validator=Fp(n.validator,!1)),n.asyncValidator&&(n.asyncValidator=Fp(n.asyncValidator,!0)),n.renderMessage){const e=`__renderMessage__${t}`;u[e]=n.message,n.message=e,s[e]=n.renderMessage}return n}),f=p.filter(e=>"warning"!==e.level),v=p.filter(e=>"warning"===e.level),m={valid:!0,errors:void 0,warnings:void 0};if(!p.length)return m;const g=null!=i?i:"__n_no_path__",b=new Rp({[g]:f}),y=new Rp({[g]:v}),{validateMessages:x}=(null==o?void 0:o.props)||{};x&&(b.messages(x),y.messages(x));const k=e=>{w.value=e.map(e=>{const t=(null==e?void 0:e.message)||"";return{key:t,render:()=>t.startsWith("__renderMessage__")?s[t]():t}}),e.forEach(e=>{var t;(null===(t=e.message)||void 0===t?void 0:t.startsWith("__renderMessage__"))&&(e.message=u[e.message])})};if(f.length){const e=yield new Promise(e=>{b.validate({[g]:l},r,e)});(null==e?void 0:e.length)&&(m.valid=!1,m.errors=e,k(e))}if(v.length&&!m.errors){const e=yield new Promise(e=>{y.validate({[g]:l},r,e)});(null==e?void 0:e.length)&&(k(e),m.warnings=e)}return m.errors||m.warnings?(d.value=!!m.errors,c.value=!!m.warnings):S(),m});C(cn,{path:T(e,"path"),disabled:x,mergedSize:l.mergedSize,mergedValidationStatus:s.mergedValidationStatus,restoreValidation:S,handleContentBlur:function(){z("blur")},handleContentChange:function(){z("change")},handleContentFocus:function(){z("focus")},handleContentInput:function(){z("input")}});const $={validate:function(e,t){return Tp(this,void 0,void 0,function*(){let n,r,o,i;return"string"==typeof e?(n=e,r=t):null!==e&&"object"==typeof e&&(n=e.trigger,r=e.callback,o=e.shouldRuleBeApplied,i=e.options),yield new Promise((e,t)=>{z(n,o,i).then(({valid:n,errors:o,warnings:i})=>{n?(r&&r(void 0,{warnings:i}),e({warnings:i})):(r&&r(o,{warnings:i}),t(o))})})})},restoreValidation:S,internalValidate:z},M=f(null);n(()=>{if(!s.isAutoLabelWidth.value)return;const e=M.value;if(null!==e){const t=e.style.whiteSpace;e.style.whiteSpace="nowrap",e.style.width="",null==o||o.deriveMaxChildLabelWidth(Number(getComputedStyle(e).width.slice(0,-2))),e.style.whiteSpace=t}});const R=a(()=>{var e;const{value:t}=p,{value:n}=v,r="top"===n?"vertical":"horizontal",{common:{cubicBezierEaseInOut:o},self:{labelTextColor:i,asteriskColor:a,lineHeight:l,feedbackTextColor:s,feedbackTextColorWarning:d,feedbackTextColorError:c,feedbackPadding:u,labelFontWeight:h,[Ae("labelHeight",t)]:f,[Ae("blankHeight",t)]:m,[Ae("feedbackFontSize",t)]:b,[Ae("feedbackHeight",t)]:w,[Ae("labelPadding",r)]:y,[Ae("labelTextAlign",r)]:x,[Ae(Ae("labelFontSize",n),t)]:C}}=k.value;let S=null!==(e=g.value)&&void 0!==e?e:x;"top"===n&&(S="right"===S?"flex-end":"flex-start");return{"--n-bezier":o,"--n-line-height":l,"--n-blank-height":m,"--n-label-font-size":C,"--n-label-text-align":S,"--n-label-height":f,"--n-label-padding":y,"--n-label-font-weight":h,"--n-asterisk-color":a,"--n-label-text-color":i,"--n-feedback-padding":u,"--n-feedback-font-size":b,"--n-feedback-height":w,"--n-feedback-text-color":s,"--n-feedback-text-color-warning":d,"--n-feedback-text-color-error":c}}),A=r?Oe("form-item",a(()=>{var e;return`${p.value[0]}${v.value[0]}${(null===(e=g.value)||void 0===e?void 0:e[0])||""}`}),R,e):void 0,O=a(()=>"left"===v.value&&"left"===b.value&&"left"===g.value);return Object.assign(Object.assign(Object.assign(Object.assign({labelElementRef:M,mergedClsPrefix:t,mergedRequired:u,feedbackId:y,renderExplains:w,reverseColSpace:O},s),l),$),{cssVars:r?void 0:R,themeClass:null==A?void 0:A.themeClass,onRender:null==A?void 0:A.onRender})},render(){const{$slots:e,mergedClsPrefix:t,mergedShowLabel:n,mergedShowRequireMark:r,mergedRequireMarkPlacement:o,onRender:i}=this,a=void 0!==r?r:this.mergedRequired;null==i||i();return M("div",{class:[`${t}-form-item`,this.themeClass,`${t}-form-item--${this.mergedSize}-size`,`${t}-form-item--${this.mergedLabelPlacement}-labelled`,this.isAutoLabelWidth&&`${t}-form-item--auto-label-width`,!n&&`${t}-form-item--no-label`],style:this.cssVars},n&&(()=>{const e=this.$slots.label?this.$slots.label():this.label;if(!e)return null;const n=M("span",{class:`${t}-form-item-label__text`},e),r=a?M("span",{class:`${t}-form-item-label__asterisk`},"left"!==o?" *":"* "):"right-hanging"===o&&M("span",{class:`${t}-form-item-label__asterisk-placeholder`}," *"),{labelProps:i}=this;return M("label",Object.assign({},i,{class:[null==i?void 0:i.class,`${t}-form-item-label`,`${t}-form-item-label--${o}-mark`,this.reverseColSpace&&`${t}-form-item-label--reverse-columns-space`],style:this.mergedLabelStyle,ref:"labelElementRef"}),"left"===o?[r,n]:[n,r])})(),M("div",{class:[`${t}-form-item-blank`,this.contentClass,this.mergedValidationStatus&&`${t}-form-item-blank--${this.mergedValidationStatus}`],style:this.contentStyle},e),this.mergedShowFeedback?M("div",{key:this.feedbackId,style:this.feedbackStyle,class:[`${t}-form-item-feedback-wrapper`,this.feedbackClass]},M(De,{name:"fade-down-transition",mode:"out-in"},{default:()=>{const{mergedValidationStatus:n}=this;return Ee(e.feedback,e=>{var r;const{feedback:o}=this,i=e||o?M("div",{key:"__feedback__",class:`${t}-form-item-feedback__line`},e||o):this.renderExplains.length?null===(r=this.renderExplains)||void 0===r?void 0:r.map(({key:e,render:n})=>M("div",{key:e,class:`${t}-form-item-feedback__line`},n())):null;return i?M("div","warning"===n?{key:"controlled-warning",class:`${t}-form-item-feedback ${t}-form-item-feedback--warning`}:"error"===n?{key:"controlled-error",class:`${t}-form-item-feedback ${t}-form-item-feedback--error`}:"success"===n?{key:"controlled-success",class:`${t}-form-item-feedback ${t}-form-item-feedback--success`}:{key:"controlled-default",class:`${t}-form-item-feedback`},i):null})}})):null)}});function Bp(){return M("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"}))}function Ep(){return M("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"}))}function jp(){return M("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},M("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"}))}const Ip=Object.assign(Object.assign({},Re.props),{onPreviewPrev:Function,onPreviewNext:Function,showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean,renderToolbar:Function}),Lp=p("n-image"),Np=ye([ye("body >",[we("image-container","position: fixed;")]),we("image-preview-container","\n position: fixed;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n "),we("image-preview-overlay","\n z-index: -1;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n background: rgba(0, 0, 0, .3);\n ",[Gt()]),we("image-preview-toolbar","\n z-index: 1;\n position: absolute;\n left: 50%;\n transform: translateX(-50%);\n border-radius: var(--n-toolbar-border-radius);\n height: 48px;\n bottom: 40px;\n padding: 0 12px;\n background: var(--n-toolbar-color);\n box-shadow: var(--n-toolbar-box-shadow);\n color: var(--n-toolbar-icon-color);\n transition: color .3s var(--n-bezier);\n display: flex;\n align-items: center;\n ",[we("base-icon","\n padding: 0 8px;\n font-size: 28px;\n cursor: pointer;\n "),Gt()]),we("image-preview-wrapper","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n pointer-events: none;\n ",[Be()]),we("image-preview","\n user-select: none;\n -webkit-user-select: none;\n pointer-events: all;\n margin: auto;\n max-height: calc(100vh - 32px);\n max-width: calc(100vw - 32px);\n transition: transform .3s var(--n-bezier);\n "),we("image","\n display: inline-flex;\n max-height: 100%;\n max-width: 100%;\n ",[_e("preview-disabled","\n cursor: pointer;\n "),ye("img","\n border-radius: inherit;\n ")])]),Hp=Object.assign(Object.assign({},Ip),{src:String,show:{type:Boolean,default:void 0},defaultShow:Boolean,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onNext:Function,onPrev:Function,onClose:[Function,Array]}),Yp=x({name:"ImagePreview",props:Hp,setup(e){const{src:t}=un(e),{mergedClsPrefixRef:n}=Me(e),o=Re("Image","-image",Np,hn,e,n);let l=null;const s=f(null),c=f(null),u=f(!1),{localeRef:p}=ka("Image"),v=f(e.defaultShow),g=Sr(T(e,"show"),v);function b(t){var n,r;switch(t.key){case" ":t.preventDefault();break;case"ArrowLeft":null===(n=e.onPrev)||void 0===n||n.call(e);break;case"ArrowRight":null===(r=e.onNext)||void 0===r||r.call(e);break;case"ArrowUp":t.preventDefault(),N();break;case"ArrowDown":t.preventDefault(),H();break;case"Escape":W()}}function w(t){const{onUpdateShow:n,"onUpdate:show":r}=e;n&&rt(n,t),r&&rt(r,t),v.value=t,u.value=!0}i(g,e=>{e?d("keydown",document,b):h("keydown",document,b)}),r(()=>{h("keydown",document,b)});let y=0,x=0,k=0,C=0,S=0,z=0,$=0,R=0,A=!1;function O(e){const{clientX:t,clientY:n}=e;k=t-y,C=n-x,gr(Y)}function D(e){const{value:t}=s;if(!t)return{offsetX:0,offsetY:0};const n=t.getBoundingClientRect(),{moveVerticalDirection:r,moveHorizontalDirection:o,deltaHorizontal:i,deltaVertical:a}=e||{};let l=0,d=0;return l=n.width<=window.innerWidth?0:n.left>0?(n.width-window.innerWidth)/2:n.right<window.innerWidth?-(n.width-window.innerWidth)/2:"horizontalRight"===o?Math.min((n.width-window.innerWidth)/2,S-(null!=i?i:0)):Math.max(-(n.width-window.innerWidth)/2,S-(null!=i?i:0)),d=n.height<=window.innerHeight?0:n.top>0?(n.height-window.innerHeight)/2:n.bottom<window.innerHeight?-(n.height-window.innerHeight)/2:"verticalBottom"===r?Math.min((n.height-window.innerHeight)/2,z-(null!=a?a:0)):Math.max(-(n.height-window.innerHeight)/2,z-(null!=a?a:0)),{offsetX:l,offsetY:d}}function F(e){h("mousemove",document,O),h("mouseup",document,F);const{clientX:t,clientY:n}=e;A=!1;const r=function(e){const{mouseUpClientX:t,mouseUpClientY:n,mouseDownClientX:r,mouseDownClientY:o}=e,i=r-t,a=o-n;return{moveVerticalDirection:"vertical"+(a>0?"Top":"Bottom"),moveHorizontalDirection:"horizontal"+(i>0?"Left":"Right"),deltaHorizontal:i,deltaVertical:a}}({mouseUpClientX:t,mouseUpClientY:n,mouseDownClientX:$,mouseDownClientY:R}),o=D(r);k=o.offsetX,C=o.offsetY,Y()}const _=m(Lp,null);let B=0,E=1,j=0;function I(){E=1,B=0}function L(){const{value:e}=s;if(!e)return 1;const{innerWidth:t,innerHeight:n}=window,r=e.naturalHeight/(n-32),o=e.naturalWidth/(t-32);return r<1&&o<1?1:Math.max(r,o)}function N(){const e=function(){const{value:e}=s;if(!e)return 1;const{innerWidth:t,innerHeight:n}=window,r=Math.max(1,e.naturalHeight/(n-32)),o=Math.max(1,e.naturalWidth/(t-32));return Math.max(3,2*r,2*o)}();E<e&&(B+=1,E=Math.min(e,Math.pow(1.5,B)),Y())}function H(){if(E>.5){const e=E;B-=1,E=Math.max(.5,Math.pow(1.5,B));const t=e-E;Y(!1);const n=D();E+=t,Y(!1),E-=t,k=n.offsetX,C=n.offsetY,Y()}}function Y(e=!0){var t;const{value:n}=s;if(!n)return;const{style:r}=n,o=pn(null===(t=null==_?void 0:_.previewedImgPropsRef.value)||void 0===t?void 0:t.style);let i="";if("string"==typeof o)i=`${o};`;else for(const l in o)i+=`${xa(l)}: ${o[l]};`;const a=`transform-origin: center; transform: translateX(${k}px) translateY(${C}px) rotate(${j}deg) scale(${E});`;r.cssText=A?`${i}cursor: grabbing; transition: none;${a}`:`${i}cursor: grab;${a}${e?"":"transition: none;"}`,e||n.offsetHeight}function W(){if(g.value){const{onClose:t}=e;t&&rt(t),w(!1),v.value=!1}}const U={setThumbnailEl:e=>{l=e}};const V=a(()=>{const{common:{cubicBezierEaseInOut:e},self:{toolbarIconColor:t,toolbarBorderRadius:n,toolbarBoxShadow:r,toolbarColor:i}}=o.value;return{"--n-bezier":e,"--n-toolbar-icon-color":t,"--n-toolbar-color":i,"--n-toolbar-border-radius":n,"--n-toolbar-box-shadow":r}}),{inlineThemeDisabled:q}=Me(),X=q?Oe("image-preview",void 0,V,e):void 0;return Object.assign({clsPrefix:n,previewRef:s,previewWrapperRef:c,previewSrc:t,mergedShow:g,appear:P(),displayed:u,previewedImgProps:null==_?void 0:_.previewedImgPropsRef,handleWheel:function(e){e.preventDefault()},handlePreviewMousedown:function(e){var t,n;if(null===(n=null===(t=null==_?void 0:_.previewedImgPropsRef.value)||void 0===t?void 0:t.onMousedown)||void 0===n||n.call(t,e),0!==e.button)return;const{clientX:r,clientY:o}=e;A=!0,y=r-k,x=o-C,S=k,z=C,$=r,R=o,Y(),d("mousemove",document,O),d("mouseup",document,F)},handlePreviewDblclick:function(e){var t,n;null===(n=null===(t=null==_?void 0:_.previewedImgPropsRef.value)||void 0===t?void 0:t.onDblclick)||void 0===n||n.call(t,e);const r=L();E=E===r?1:r,Y()},syncTransformOrigin:function(){const{value:e}=c;if(!l||!e)return;const{style:t}=e,n=l.getBoundingClientRect(),r=n.left+n.width/2,o=n.top+n.height/2;t.transformOrigin=`${r}px ${o}px`},handleAfterLeave:()=>{I(),j=0,u.value=!1},handleDragStart:e=>{var t,n;null===(n=null===(t=null==_?void 0:_.previewedImgPropsRef.value)||void 0===t?void 0:t.onDragstart)||void 0===n||n.call(t,e),e.preventDefault()},zoomIn:N,zoomOut:H,handleDownloadClick:function(){const e=t.value;e&&go(e,void 0)},rotateCounterclockwise:function(){j-=90,Y()},rotateClockwise:function(){j+=90,Y()},handleSwitchPrev:function(){var t;I(),j=0,null===(t=e.onPrev)||void 0===t||t.call(e)},handleSwitchNext:function(){var t;I(),j=0,null===(t=e.onNext)||void 0===t||t.call(e)},withTooltip:function(t,n){if(e.showToolbarTooltip){const{value:e}=o;return M(tu,{to:!1,theme:e.peers.Tooltip,themeOverrides:e.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>p.value[n],trigger:()=>t})}return t},resizeToOrignalImageSize:function(){E=L(),B=Math.ceil(Math.log(E)/Math.log(1.5)),k=0,C=0,Y()},cssVars:q?void 0:V,themeClass:null==X?void 0:X.themeClass,onRender:null==X?void 0:X.onRender,doUpdateShow:w,close:W},U)},render(){var e,t;const{clsPrefix:n,renderToolbar:r,withTooltip:o}=this,i=o(M($e,{clsPrefix:n,onClick:this.handleSwitchPrev},{default:Bp}),"tipPrevious"),a=o(M($e,{clsPrefix:n,onClick:this.handleSwitchNext},{default:Ep}),"tipNext"),l=o(M($e,{clsPrefix:n,onClick:this.rotateCounterclockwise},{default:()=>M(Ia,null)}),"tipCounterclockwise"),s=o(M($e,{clsPrefix:n,onClick:this.rotateClockwise},{default:()=>M(ja,null)}),"tipClockwise"),d=o(M($e,{clsPrefix:n,onClick:this.resizeToOrignalImageSize},{default:()=>M(Ea,null)}),"tipOriginalSize"),c=o(M($e,{clsPrefix:n,onClick:this.zoomOut},{default:()=>M(Ya,null)}),"tipZoomOut"),u=o(M($e,{clsPrefix:n,onClick:this.handleDownloadClick},{default:()=>M(Oa,null)}),"tipDownload"),h=o(M($e,{clsPrefix:n,onClick:()=>this.close()},{default:jp}),"tipClose"),p=o(M($e,{clsPrefix:n,onClick:this.zoomIn},{default:()=>M(Ha,null)}),"tipZoomIn");return M(Ze,null,null===(t=(e=this.$slots).default)||void 0===t?void 0:t.call(e),M(R,{show:this.mergedShow},{default:()=>{var e;return this.mergedShow||this.displayed?(null===(e=this.onRender)||void 0===e||e.call(this),S(M("div",{ref:"containerRef",class:[`${n}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},M(De,{name:"fade-in-transition",appear:this.appear},{default:()=>this.mergedShow?M("div",{class:`${n}-image-preview-overlay`,onClick:()=>this.close()}):null}),this.showToolbar?M(De,{name:"fade-in-transition",appear:this.appear},{default:()=>this.mergedShow?M("div",{class:`${n}-image-preview-toolbar`},r?r({nodes:{prev:i,next:a,rotateCounterclockwise:l,rotateClockwise:s,resizeToOriginalSize:d,zoomOut:c,zoomIn:p,download:u,close:h}}):M(Ze,null,this.onPrev?M(Ze,null,i,a):null,l,s,d,c,p,u,h)):null}):null,M(De,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:e={}}=this;return S(M("div",{class:`${n}-image-preview-wrapper`,ref:"previewWrapperRef"},M("img",Object.assign({},e,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${n}-image-preview`,e.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[Ve,this.mergedShow]])}})),[[A,{enabled:this.mergedShow}]])):null}}))}}),Wp=p("n-image-group"),Up=Object.assign(Object.assign({},Ip),{srcList:Array,current:Number,defaultCurrent:{type:Number,default:0},show:{type:Boolean,default:void 0},defaultShow:Boolean,onUpdateShow:[Function,Array],"onUpdate:show":[Function,Array],onUpdateCurrent:[Function,Array],"onUpdate:current":[Function,Array]}),Vp=x({name:"ImageGroup",props:Up,setup(e){const{mergedClsPrefixRef:t}=Me(e),n=`c${dn()}`,r=f(null),o=f(e.defaultShow),i=Sr(T(e,"show"),o),l=f(new Map),s=a(()=>{if(e.srcList){const t=new Map;return e.srcList.forEach((e,n)=>{t.set(`p${n}`,e)}),t}return l.value}),d=a(()=>Array.from(s.value.keys())),c=()=>d.value.length;const u=f(e.defaultCurrent),h=Sr(T(e,"current"),u),p=t=>{if(t!==h.value){const{onUpdateCurrent:n,"onUpdate:current":r}=e;n&&rt(n,t),r&&rt(r,t),u.value=t}},v=a(()=>d.value[h.value]),m=a(()=>s.value.get(v.value));function g(t){const{onUpdateShow:n,"onUpdate:show":r}=e;n&&rt(n,t),r&&rt(r,t),o.value=t}const b=a(()=>{const e=(e,t)=>{for(let n=e;n<=t;n++){const e=d.value[n];if(s.value.get(e))return n}},t=e(h.value+1,c()-1);return void 0===t?e(0,h.value-1):t}),w=a(()=>{const e=(e,t)=>{for(let n=e;n>=t;n--){const e=d.value[n];if(s.value.get(e))return n}},t=e(h.value-1,0);return void 0===t?e(c()-1,h.value+1):t});function y(t){var n,r;1===t?(void 0!==w.value&&p(b.value),null===(n=e.onPreviewNext)||void 0===n||n.call(e)):(void 0!==b.value&&p(w.value),null===(r=e.onPreviewPrev)||void 0===r||r.call(e))}return C(Wp,{mergedClsPrefixRef:t,registerImageUrl:function(t,n){e.srcList&&Vt("image-group","`n-image` can't be placed inside `n-image-group` when image group's `src-list` prop is set.");const r=`r${t}`;return l.value.has(`r${r}`)||l.value.set(r,n),function(){l.value.has(r)||l.value.delete(r)}},setThumbnailEl:e=>{var t;null===(t=r.value)||void 0===t||t.setThumbnailEl(e)},toggleShow:e=>{g(!0),(e=>{const t=d.value.indexOf(e);t!==h.value&&p(t)})(e)},groupId:n,renderToolbarRef:T(e,"renderToolbar")}),{mergedClsPrefix:t,previewInstRef:r,mergedShow:i,src:m,onClose:function(){g(!1)},next:()=>{y(1)},prev:()=>{y(-1)}}},render(){return M(Yp,{theme:this.theme,themeOverrides:this.themeOverrides,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,src:this.src,show:this.mergedShow,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar,onClose:this.onClose},this.$slots)}}),qp=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},Ip);let Xp=0;const Qp=x({name:"Image",props:qp,slots:Object,inheritAttrs:!1,setup(e){const t=f(null),o=f(!1),i=f(null),l=m(Wp,null),{mergedClsPrefixRef:s}=l||Me(e),d=a(()=>e.previewSrc||e.src),c=f(!1),u=Xp++,h=()=>{if(e.previewDisabled||o.value)return;if(l)return l.setThumbnailEl(t.value),void l.toggleShow(`r${u}`);const{value:n}=i;n&&(n.setThumbnailEl(t.value),c.value=!0)},p={click:()=>{h()},showPreview:h},v=f(!e.lazy);n(()=>{var e;null===(e=t.value)||void 0===e||e.setAttribute("data-group-id",(null==l?void 0:l.groupId)||"")}),n(()=>{if(e.lazy&&e.intersectionObserverOptions){let n;const o=We(()=>{null==n||n(),n=void 0,n=fs(t.value,e.intersectionObserverOptions,v)});r(()=>{o(),null==n||n()})}}),We(()=>{var t;e.src||null===(t=e.imgProps)||void 0===t||t.src,o.value=!1}),We(e=>{var t;const n=null===(t=null==l?void 0:l.registerImageUrl)||void 0===t?void 0:t.call(l,u,d.value||"");e(()=>{null==n||n()})});const g=f(!1);return C(Lp,{previewedImgPropsRef:T(e,"previewedImgProps")}),Object.assign({mergedClsPrefix:s,groupId:null==l?void 0:l.groupId,previewInstRef:i,imageRef:t,mergedPreviewSrc:d,showError:o,shouldStartLoading:v,loaded:g,mergedOnClick:t=>{!function(t){var n,r;p.showPreview(),null===(r=null===(n=e.imgProps)||void 0===n?void 0:n.onClick)||void 0===r||r.call(n,t)}(t)},onPreviewClose:function(){c.value=!1},mergedOnError:t=>{if(!v.value)return;o.value=!0;const{onError:n,imgProps:{onError:r}={}}=e;null==n||n(t),null==r||r(t)},mergedOnLoad:t=>{const{onLoad:n,imgProps:{onLoad:r}={}}=e;null==n||n(t),null==r||r(t),g.value=!0},previewShow:c},p)},render(){var e,t;const{mergedClsPrefix:n,imgProps:r={},loaded:o,$attrs:i,lazy:a}=this,l=Se(this.$slots.error,()=>[]),s=null===(t=(e=this.$slots).placeholder)||void 0===t?void 0:t.call(e),d=this.src||r.src,c=this.showError&&l.length?l:M("img",Object.assign(Object.assign({},r),{ref:"imageRef",width:this.width||r.width,height:this.height||r.height,src:this.showError?this.fallbackSrc:a&&this.intersectionObserverOptions?this.shouldStartLoading?d:void 0:d,alt:this.alt||r.alt,"aria-label":this.alt||r.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:cs&&a&&!this.intersectionObserverOptions?"lazy":"eager",style:[r.style||"",s&&!o?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return M("div",Object.assign({},i,{role:"none",class:[i.class,`${n}-image`,(this.previewDisabled||this.showError)&&`${n}-image--preview-disabled`]}),this.groupId?c:M(Yp,{theme:this.theme,themeOverrides:this.themeOverrides,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip,renderToolbar:this.renderToolbar,src:this.mergedPreviewSrc,show:!this.previewDisabled&&this.previewShow,onClose:this.onPreviewClose},{default:()=>c}),!o&&s)}}),Kp=p("n-layout-sider"),Zp={type:String,default:"static"},Gp=we("layout","\n color: var(--n-text-color);\n background-color: var(--n-color);\n box-sizing: border-box;\n position: relative;\n z-index: auto;\n flex: auto;\n overflow: hidden;\n transition:\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n",[we("layout-scroll-container","\n overflow-x: hidden;\n box-sizing: border-box;\n height: 100%;\n "),Fe("absolute-positioned","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n ")]),Jp={embedded:Boolean,position:Zp,nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,onScroll:Function,contentClass:String,contentStyle:{type:[String,Object],default:""},hasSider:Boolean,siderPlacement:{type:String,default:"left"}},ef=p("n-layout");function tf(e){return x({name:e?"LayoutContent":"Layout",props:Object.assign(Object.assign({},Re.props),Jp),setup(e){const t=f(null),n=f(null),{mergedClsPrefixRef:r,inlineThemeDisabled:o}=Me(e),i=Re("Layout","-layout",Gp,vn,e,r);C(ef,e);let l=0,s=0;fn(()=>{if(e.nativeScrollbar){const e=t.value;e&&(e.scrollTop=s,e.scrollLeft=l)}});const d={scrollTo:function(r,o){if(e.nativeScrollbar){const{value:e}=t;e&&(void 0===o?e.scrollTo(r):e.scrollTo(r,o))}else{const{value:e}=n;e&&e.scrollTo(r,o)}}},c=a(()=>{const{common:{cubicBezierEaseInOut:t},self:n}=i.value;return{"--n-bezier":t,"--n-color":e.embedded?n.colorEmbedded:n.color,"--n-text-color":n.textColor}}),u=o?Oe("layout",a(()=>e.embedded?"e":""),c,e):void 0;return Object.assign({mergedClsPrefix:r,scrollableElRef:t,scrollbarInstRef:n,hasSiderStyle:{display:"flex",flexWrap:"nowrap",width:"100%",flexDirection:"row"},mergedTheme:i,handleNativeElScroll:t=>{var n;const r=t.target;l=r.scrollLeft,s=r.scrollTop,null===(n=e.onScroll)||void 0===n||n.call(e,t)},cssVars:o?void 0:c,themeClass:null==u?void 0:u.themeClass,onRender:null==u?void 0:u.onRender},d)},render(){var t;const{mergedClsPrefix:n,hasSider:r}=this;null===(t=this.onRender)||void 0===t||t.call(this);const o=r?this.hasSiderStyle:void 0,i=[this.themeClass,e&&`${n}-layout-content`,`${n}-layout`,`${n}-layout--${this.position}-positioned`];return M("div",{class:i,style:this.cssVars},this.nativeScrollbar?M("div",{ref:"scrollableElRef",class:[`${n}-layout-scroll-container`,this.contentClass],style:[this.contentStyle,o],onScroll:this.handleNativeElScroll},this.$slots):M(Ie,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:this.contentClass,contentStyle:[this.contentStyle,o]}),this.$slots))}})}const nf=tf(!1),rf=tf(!0),of=we("layout-header","\n transition:\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n box-sizing: border-box;\n width: 100%;\n background-color: var(--n-color);\n color: var(--n-text-color);\n",[Fe("absolute-positioned","\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n "),Fe("bordered","\n border-bottom: solid 1px var(--n-border-color);\n ")]),af={position:Zp,inverted:Boolean,bordered:{type:Boolean,default:!1}},lf=x({name:"LayoutHeader",props:Object.assign(Object.assign({},Re.props),af),setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=Me(e),r=Re("Layout","-layout-header",of,vn,e,t),o=a(()=>{const{common:{cubicBezierEaseInOut:t},self:n}=r.value,o={"--n-bezier":t};return e.inverted?(o["--n-color"]=n.headerColorInverted,o["--n-text-color"]=n.textColorInverted,o["--n-border-color"]=n.headerBorderColorInverted):(o["--n-color"]=n.headerColor,o["--n-text-color"]=n.textColor,o["--n-border-color"]=n.headerBorderColor),o}),i=n?Oe("layout-header",a(()=>e.inverted?"a":"b"),o,e):void 0;return{mergedClsPrefix:t,cssVars:n?void 0:o,themeClass:null==i?void 0:i.themeClass,onRender:null==i?void 0:i.onRender}},render(){var e;const{mergedClsPrefix:t}=this;return null===(e=this.onRender)||void 0===e||e.call(this),M("div",{class:[`${t}-layout-header`,this.themeClass,this.position&&`${t}-layout-header--${this.position}-positioned`,this.bordered&&`${t}-layout-header--bordered`],style:this.cssVars},this.$slots)}}),sf=we("layout-sider","\n flex-shrink: 0;\n box-sizing: border-box;\n position: relative;\n z-index: 1;\n color: var(--n-text-color);\n transition:\n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n min-width .3s var(--n-bezier),\n max-width .3s var(--n-bezier),\n transform .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n background-color: var(--n-color);\n display: flex;\n justify-content: flex-end;\n",[Fe("bordered",[xe("border",'\n content: "";\n position: absolute;\n top: 0;\n bottom: 0;\n width: 1px;\n background-color: var(--n-border-color);\n transition: background-color .3s var(--n-bezier);\n ')]),xe("left-placement",[Fe("bordered",[xe("border","\n right: 0;\n ")])]),Fe("right-placement","\n justify-content: flex-start;\n ",[Fe("bordered",[xe("border","\n left: 0;\n ")]),Fe("collapsed",[we("layout-toggle-button",[we("base-icon","\n transform: rotate(180deg);\n ")]),we("layout-toggle-bar",[ye("&:hover",[xe("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),xe("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])])]),we("layout-toggle-button","\n left: 0;\n transform: translateX(-50%) translateY(-50%);\n ",[we("base-icon","\n transform: rotate(0);\n ")]),we("layout-toggle-bar","\n left: -28px;\n transform: rotate(180deg);\n ",[ye("&:hover",[xe("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),xe("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})])])]),Fe("collapsed",[we("layout-toggle-bar",[ye("&:hover",[xe("top",{transform:"rotate(-12deg) scale(1.15) translateY(-2px)"}),xe("bottom",{transform:"rotate(12deg) scale(1.15) translateY(2px)"})])]),we("layout-toggle-button",[we("base-icon","\n transform: rotate(0);\n ")])]),we("layout-toggle-button","\n transition:\n color .3s var(--n-bezier),\n right .3s var(--n-bezier),\n left .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n cursor: pointer;\n width: 24px;\n height: 24px;\n position: absolute;\n top: 50%;\n right: 0;\n border-radius: 50%;\n display: flex;\n align-items: center;\n justify-content: center;\n font-size: 18px;\n color: var(--n-toggle-button-icon-color);\n border: var(--n-toggle-button-border);\n background-color: var(--n-toggle-button-color);\n box-shadow: 0 2px 4px 0px rgba(0, 0, 0, .06);\n transform: translateX(50%) translateY(-50%);\n z-index: 1;\n ",[we("base-icon","\n transition: transform .3s var(--n-bezier);\n transform: rotate(180deg);\n ")]),we("layout-toggle-bar","\n cursor: pointer;\n height: 72px;\n width: 32px;\n position: absolute;\n top: calc(50% - 36px);\n right: -28px;\n ",[xe("top, bottom","\n position: absolute;\n width: 4px;\n border-radius: 2px;\n height: 38px;\n left: 14px;\n transition: \n background-color .3s var(--n-bezier),\n transform .3s var(--n-bezier);\n "),xe("bottom","\n position: absolute;\n top: 34px;\n "),ye("&:hover",[xe("top",{transform:"rotate(12deg) scale(1.15) translateY(-2px)"}),xe("bottom",{transform:"rotate(-12deg) scale(1.15) translateY(2px)"})]),xe("top, bottom",{backgroundColor:"var(--n-toggle-bar-color)"}),ye("&:hover",[xe("top, bottom",{backgroundColor:"var(--n-toggle-bar-color-hover)"})])]),xe("border","\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n width: 1px;\n transition: background-color .3s var(--n-bezier);\n "),we("layout-sider-scroll-container","\n flex-grow: 1;\n flex-shrink: 0;\n box-sizing: border-box;\n height: 100%;\n opacity: 0;\n transition: opacity .3s var(--n-bezier);\n max-width: 100%;\n "),Fe("show-content",[we("layout-sider-scroll-container",{opacity:1})]),Fe("absolute-positioned","\n position: absolute;\n left: 0;\n top: 0;\n bottom: 0;\n ")]),df=x({props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return M("div",{onClick:this.onClick,class:`${e}-layout-toggle-bar`},M("div",{class:`${e}-layout-toggle-bar__top`}),M("div",{class:`${e}-layout-toggle-bar__bottom`}))}}),cf=x({name:"LayoutToggleButton",props:{clsPrefix:{type:String,required:!0},onClick:Function},render(){const{clsPrefix:e}=this;return M("div",{class:`${e}-layout-toggle-button`,onClick:this.onClick},M($e,{clsPrefix:e},{default:()=>M(Ma,null)}))}}),uf={position:Zp,bordered:Boolean,collapsedWidth:{type:Number,default:48},width:{type:[Number,String],default:272},contentClass:String,contentStyle:{type:[String,Object],default:""},collapseMode:{type:String,default:"transform"},collapsed:{type:Boolean,default:void 0},defaultCollapsed:Boolean,showCollapsedContent:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},nativeScrollbar:{type:Boolean,default:!0},inverted:Boolean,scrollbarProps:Object,triggerClass:String,triggerStyle:[String,Object],collapsedTriggerClass:String,collapsedTriggerStyle:[String,Object],"onUpdate:collapsed":[Function,Array],onUpdateCollapsed:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,onExpand:[Function,Array],onCollapse:[Function,Array],onScroll:Function},hf=x({name:"LayoutSider",props:Object.assign(Object.assign({},Re.props),uf),setup(e){const t=m(ef),n=f(null),r=f(null),o=f(e.defaultCollapsed),i=Sr(T(e,"collapsed"),o),l=a(()=>mo(i.value?e.collapsedWidth:e.width)),s=a(()=>"transform"!==e.collapseMode?{}:{minWidth:mo(e.width)}),d=a(()=>t?t.siderPlacement:"left");let c=0,u=0;fn(()=>{if(e.nativeScrollbar){const e=n.value;e&&(e.scrollTop=u,e.scrollLeft=c)}}),C(Kp,{collapsedRef:i,collapseModeRef:T(e,"collapseMode")});const{mergedClsPrefixRef:h,inlineThemeDisabled:p}=Me(e),v=Re("Layout","-layout-sider",sf,vn,e,h);const g={scrollTo:function(t,o){if(e.nativeScrollbar){const{value:e}=n;e&&(void 0===o?e.scrollTo(t):e.scrollTo(t,o))}else{const{value:e}=r;e&&e.scrollTo(t,o)}}},b=a(()=>{const{common:{cubicBezierEaseInOut:t},self:n}=v.value,{siderToggleButtonColor:r,siderToggleButtonBorder:o,siderToggleBarColor:i,siderToggleBarColorHover:a}=n,l={"--n-bezier":t,"--n-toggle-button-color":r,"--n-toggle-button-border":o,"--n-toggle-bar-color":i,"--n-toggle-bar-color-hover":a};return e.inverted?(l["--n-color"]=n.siderColorInverted,l["--n-text-color"]=n.textColorInverted,l["--n-border-color"]=n.siderBorderColorInverted,l["--n-toggle-button-icon-color"]=n.siderToggleButtonIconColorInverted,l.__invertScrollbar=n.__invertScrollbar):(l["--n-color"]=n.siderColor,l["--n-text-color"]=n.textColor,l["--n-border-color"]=n.siderBorderColor,l["--n-toggle-button-icon-color"]=n.siderToggleButtonIconColor),l}),w=p?Oe("layout-sider",a(()=>e.inverted?"a":"b"),b,e):void 0;return Object.assign({scrollableElRef:n,scrollbarInstRef:r,mergedClsPrefix:h,mergedTheme:v,styleMaxWidth:l,mergedCollapsed:i,scrollContainerStyle:s,siderPlacement:d,handleNativeElScroll:t=>{var n;const r=t.target;c=r.scrollLeft,u=r.scrollTop,null===(n=e.onScroll)||void 0===n||n.call(e,t)},handleTransitionend:function(t){var n,r;"max-width"===t.propertyName&&(i.value?null===(n=e.onAfterLeave)||void 0===n||n.call(e):null===(r=e.onAfterEnter)||void 0===r||r.call(e))},handleTriggerClick:function(){const{"onUpdate:collapsed":t,onUpdateCollapsed:n,onExpand:r,onCollapse:a}=e,{value:l}=i;n&&rt(n,!l),t&&rt(t,!l),o.value=!l,l?r&&rt(r):a&&rt(a)},inlineThemeDisabled:p,cssVars:b,themeClass:null==w?void 0:w.themeClass,onRender:null==w?void 0:w.onRender},g)},render(){var e;const{mergedClsPrefix:t,mergedCollapsed:n,showTrigger:r}=this;return null===(e=this.onRender)||void 0===e||e.call(this),M("aside",{class:[`${t}-layout-sider`,this.themeClass,`${t}-layout-sider--${this.position}-positioned`,`${t}-layout-sider--${this.siderPlacement}-placement`,this.bordered&&`${t}-layout-sider--bordered`,n&&`${t}-layout-sider--collapsed`,(!n||this.showCollapsedContent)&&`${t}-layout-sider--show-content`],onTransitionend:this.handleTransitionend,style:[this.inlineThemeDisabled?void 0:this.cssVars,{maxWidth:this.styleMaxWidth,width:mo(this.width)}]},this.nativeScrollbar?M("div",{class:[`${t}-layout-sider-scroll-container`,this.contentClass],onScroll:this.handleNativeElScroll,style:[this.scrollContainerStyle,{overflow:"auto"},this.contentStyle],ref:"scrollableElRef"},this.$slots):M(Ie,Object.assign({},this.scrollbarProps,{onScroll:this.onScroll,ref:"scrollbarInstRef",style:this.scrollContainerStyle,contentStyle:this.contentStyle,contentClass:this.contentClass,theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,builtinThemeOverrides:this.inverted&&"true"===this.cssVars.__invertScrollbar?{colorHover:"rgba(255, 255, 255, .4)",color:"rgba(255, 255, 255, .3)"}:void 0}),this.$slots),r?M("bar"===r?df:cf,{clsPrefix:t,class:n?this.collapsedTriggerClass:this.triggerClass,style:n?this.collapsedTriggerStyle:this.triggerStyle,onClick:this.handleTriggerClick}):null,this.bordered?M("div",{class:`${t}-layout-sider__border`}):null)}}),pf={success:M(yn,null),error:M(wn,null),warning:M(bn,null),info:M(gn,null)},ff=x({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:[String,Object],railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(e,{slots:t}){const n=a(()=>{const t="gradient",{fillColor:n}=e;return"object"==typeof n?`${t}-${mn(JSON.stringify(n))}`:t});function r(t,r,o,i){const{gapDegree:a,viewBoxWidth:l,strokeWidth:s}=e,d=50,c=50+s/2,u=`M ${c},${c} m 0,50\n      a 50,50 0 1 1 0,-100\n      a 50,50 0 1 1 0,100`,h=2*Math.PI*d;return{pathString:u,pathStyle:{stroke:"rail"===i?o:"object"==typeof e.fillColor?`url(#${n.value})`:o,strokeDasharray:`${Math.min(t,100)/100*(h-a)}px ${8*l}px`,strokeDashoffset:`-${a/2}px`,transformOrigin:r?"center":void 0,transform:r?`rotate(${r}deg)`:void 0}}}return()=>{const{fillColor:o,railColor:i,strokeWidth:a,offsetDegree:l,status:s,percentage:d,showIndicator:c,indicatorTextColor:u,unit:h,gapOffsetDegree:p,clsPrefix:f}=e,{pathString:v,pathStyle:m}=r(100,0,i,"rail"),{pathString:g,pathStyle:b}=r(d,l,o,"fill"),w=100+a;return M("div",{class:`${f}-progress-content`,role:"none"},M("div",{class:`${f}-progress-graph`,"aria-hidden":!0},M("div",{class:`${f}-progress-graph-circle`,style:{transform:p?`rotate(${p}deg)`:void 0}},M("svg",{viewBox:`0 0 ${w} ${w}`},(()=>{const t="object"==typeof e.fillColor,r=t?e.fillColor.stops[0]:"",o=t?e.fillColor.stops[1]:"";return t&&M("defs",null,M("linearGradient",{id:n.value,x1:"0%",y1:"100%",x2:"100%",y2:"0%"},M("stop",{offset:"0%","stop-color":r}),M("stop",{offset:"100%","stop-color":o})))})(),M("g",null,M("path",{class:`${f}-progress-graph-circle-rail`,d:v,"stroke-width":a,"stroke-linecap":"round",fill:"none",style:m})),M("g",null,M("path",{class:[`${f}-progress-graph-circle-fill`,0===d&&`${f}-progress-graph-circle-fill--empty`],d:g,"stroke-width":a,"stroke-linecap":"round",fill:"none",style:b}))))),c?M("div",null,t.default?M("div",{class:`${f}-progress-custom-content`,role:"none"},t.default()):"default"!==s?M("div",{class:`${f}-progress-icon`,"aria-hidden":!0},M($e,{clsPrefix:f},{default:()=>pf[s]})):M("div",{class:`${f}-progress-text`,style:{color:u},role:"none"},M("span",{class:`${f}-progress-text__percentage`},d),M("span",{class:`${f}-progress-text__unit`},h))):null)}}}),vf={success:M(yn,null),error:M(wn,null),warning:M(bn,null),info:M(gn,null)},mf=x({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:[String,Object],status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(e,{slots:t}){const n=a(()=>mo(e.height)),r=a(()=>{var t,n;return"object"==typeof e.fillColor?`linear-gradient(to right, ${null===(t=e.fillColor)||void 0===t?void 0:t.stops[0]} , ${null===(n=e.fillColor)||void 0===n?void 0:n.stops[1]})`:e.fillColor}),o=a(()=>void 0!==e.railBorderRadius?mo(e.railBorderRadius):void 0!==e.height?mo(e.height,{c:.5}):""),i=a(()=>void 0!==e.fillBorderRadius?mo(e.fillBorderRadius):void 0!==e.railBorderRadius?mo(e.railBorderRadius):void 0!==e.height?mo(e.height,{c:.5}):"");return()=>{const{indicatorPlacement:a,railColor:l,railStyle:s,percentage:d,unit:c,indicatorTextColor:u,status:h,showIndicator:p,processing:f,clsPrefix:v}=e;return M("div",{class:`${v}-progress-content`,role:"none"},M("div",{class:`${v}-progress-graph`,"aria-hidden":!0},M("div",{class:[`${v}-progress-graph-line`,{[`${v}-progress-graph-line--indicator-${a}`]:!0}]},M("div",{class:`${v}-progress-graph-line-rail`,style:[{backgroundColor:l,height:n.value,borderRadius:o.value},s]},M("div",{class:[`${v}-progress-graph-line-fill`,f&&`${v}-progress-graph-line-fill--processing`],style:{maxWidth:`${e.percentage}%`,background:r.value,height:n.value,lineHeight:n.value,borderRadius:i.value}},"inside"===a?M("div",{class:`${v}-progress-graph-line-indicator`,style:{color:u}},t.default?t.default():`${d}${c}`):null)))),p&&"outside"===a?M("div",null,t.default?M("div",{class:`${v}-progress-custom-content`,style:{color:u},role:"none"},t.default()):"default"===h?M("div",{role:"none",class:`${v}-progress-icon ${v}-progress-icon--as-text`,style:{color:u}},d,c):M("div",{class:`${v}-progress-icon`,"aria-hidden":!0},M($e,{clsPrefix:v},{default:()=>vf[h]}))):null)}}});function gf(e,t,n=100){return`m ${n/2} ${n/2-e} a ${e} ${e} 0 1 1 0 ${2*e} a ${e} ${e} 0 1 1 0 -${2*e}`}const bf=x({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(e,{slots:t}){const n=a(()=>e.percentage.map((t,n)=>`${Math.PI*t/100*(e.viewBoxWidth/2-e.strokeWidth/2*(1+2*n)-e.circleGap*n)*2}, ${8*e.viewBoxWidth}`));return()=>{const{viewBoxWidth:r,strokeWidth:o,circleGap:i,showIndicator:a,fillColor:l,railColor:s,railStyle:d,percentage:c,clsPrefix:u}=e;return M("div",{class:`${u}-progress-content`,role:"none"},M("div",{class:`${u}-progress-graph`,"aria-hidden":!0},M("div",{class:`${u}-progress-graph-circle`},M("svg",{viewBox:`0 0 ${r} ${r}`},M("defs",null,c.map((t,n)=>((t,n)=>{const r=e.fillColor[n],o="object"==typeof r?r.stops[0]:"",i="object"==typeof r?r.stops[1]:"";return"object"==typeof e.fillColor[n]&&M("linearGradient",{id:`gradient-${n}`,x1:"100%",y1:"0%",x2:"0%",y2:"100%"},M("stop",{offset:"0%","stop-color":o}),M("stop",{offset:"100%","stop-color":i}))})(0,n))),c.map((e,t)=>M("g",{key:t},M("path",{class:`${u}-progress-graph-circle-rail`,d:gf(r/2-o/2*(1+2*t)-i*t,0,r),"stroke-width":o,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:s[t]},d[t]]}),M("path",{class:[`${u}-progress-graph-circle-fill`,0===e&&`${u}-progress-graph-circle-fill--empty`],d:gf(r/2-o/2*(1+2*t)-i*t,0,r),"stroke-width":o,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:n.value[t],strokeDashoffset:0,stroke:"object"==typeof l[t]?`url(#gradient-${t})`:l[t]}})))))),a&&t.default?M("div",null,M("div",{class:`${u}-progress-text`},t.default())):null)}}}),wf=ye([we("progress",{display:"inline-block"},[we("progress-icon","\n color: var(--n-icon-color);\n transition: color .3s var(--n-bezier);\n "),Fe("line","\n width: 100%;\n display: block;\n ",[we("progress-content","\n display: flex;\n align-items: center;\n ",[we("progress-graph",{flex:1})]),we("progress-custom-content",{marginLeft:"14px"}),we("progress-icon","\n width: 30px;\n padding-left: 14px;\n height: var(--n-icon-size-line);\n line-height: var(--n-icon-size-line);\n font-size: var(--n-icon-size-line);\n ",[Fe("as-text","\n color: var(--n-text-color-line-outer);\n text-align: center;\n width: 40px;\n font-size: var(--n-font-size);\n padding-left: 4px;\n transition: color .3s var(--n-bezier);\n ")])]),Fe("circle, dashboard",{width:"120px"},[we("progress-custom-content","\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateX(-50%) translateY(-50%);\n display: flex;\n align-items: center;\n justify-content: center;\n "),we("progress-text","\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateX(-50%) translateY(-50%);\n display: flex;\n align-items: center;\n color: inherit;\n font-size: var(--n-font-size-circle);\n color: var(--n-text-color-circle);\n font-weight: var(--n-font-weight-circle);\n transition: color .3s var(--n-bezier);\n white-space: nowrap;\n "),we("progress-icon","\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateX(-50%) translateY(-50%);\n display: flex;\n align-items: center;\n color: var(--n-icon-color);\n font-size: var(--n-icon-size-circle);\n ")]),Fe("multiple-circle","\n width: 200px;\n color: inherit;\n ",[we("progress-text","\n font-weight: var(--n-font-weight-circle);\n color: var(--n-text-color-circle);\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateX(-50%) translateY(-50%);\n display: flex;\n align-items: center;\n justify-content: center;\n transition: color .3s var(--n-bezier);\n ")]),we("progress-content",{position:"relative"}),we("progress-graph",{position:"relative"},[we("progress-graph-circle",[ye("svg",{verticalAlign:"bottom"}),we("progress-graph-circle-fill","\n stroke: var(--n-fill-color);\n transition:\n opacity .3s var(--n-bezier),\n stroke .3s var(--n-bezier),\n stroke-dasharray .3s var(--n-bezier);\n ",[Fe("empty",{opacity:0})]),we("progress-graph-circle-rail","\n transition: stroke .3s var(--n-bezier);\n overflow: hidden;\n stroke: var(--n-rail-color);\n ")]),we("progress-graph-line",[Fe("indicator-inside",[we("progress-graph-line-rail","\n height: 16px;\n line-height: 16px;\n border-radius: 10px;\n ",[we("progress-graph-line-fill","\n height: inherit;\n border-radius: 10px;\n "),we("progress-graph-line-indicator","\n background: #0000;\n white-space: nowrap;\n text-align: right;\n margin-left: 14px;\n margin-right: 14px;\n height: inherit;\n font-size: 12px;\n color: var(--n-text-color-line-inner);\n transition: color .3s var(--n-bezier);\n ")])]),Fe("indicator-inside-label","\n height: 16px;\n display: flex;\n align-items: center;\n ",[we("progress-graph-line-rail","\n flex: 1;\n transition: background-color .3s var(--n-bezier);\n "),we("progress-graph-line-indicator","\n background: var(--n-fill-color);\n font-size: 12px;\n transform: translateZ(0);\n display: flex;\n vertical-align: middle;\n height: 16px;\n line-height: 16px;\n padding: 0 10px;\n border-radius: 10px;\n position: absolute;\n white-space: nowrap;\n color: var(--n-text-color-line-inner);\n transition:\n right .2s var(--n-bezier),\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n ")]),we("progress-graph-line-rail","\n position: relative;\n overflow: hidden;\n height: var(--n-rail-height);\n border-radius: 5px;\n background-color: var(--n-rail-color);\n transition: background-color .3s var(--n-bezier);\n ",[we("progress-graph-line-fill","\n background: var(--n-fill-color);\n position: relative;\n border-radius: 5px;\n height: inherit;\n width: 100%;\n max-width: 0%;\n transition:\n background-color .3s var(--n-bezier),\n max-width .2s var(--n-bezier);\n ",[Fe("processing",[ye("&::after",'\n content: "";\n background-image: var(--n-line-bg-processing);\n animation: progress-processing-animation 2s var(--n-bezier) infinite;\n ')])])])])])]),ye("@keyframes progress-processing-animation","\n 0% {\n position: absolute;\n left: 0;\n top: 0;\n bottom: 0;\n right: 100%;\n opacity: 1;\n }\n 66% {\n position: absolute;\n left: 0;\n top: 0;\n bottom: 0;\n right: 0;\n opacity: 0;\n }\n 100% {\n position: absolute;\n left: 0;\n top: 0;\n bottom: 0;\n right: 0;\n opacity: 0;\n }\n ")]),yf=Object.assign(Object.assign({},Re.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array,Object],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),xf=x({name:"Progress",props:yf,setup(e){const t=a(()=>e.indicatorPlacement||e.indicatorPosition),n=a(()=>e.gapDegree||0===e.gapDegree?e.gapDegree:"dashboard"===e.type?75:void 0),{mergedClsPrefixRef:r,inlineThemeDisabled:o}=Me(e),i=Re("Progress","-progress",wf,xn,e,r),l=a(()=>{const{status:t}=e,{common:{cubicBezierEaseInOut:n},self:{fontSize:r,fontSizeCircle:o,railColor:a,railHeight:l,iconSizeCircle:s,iconSizeLine:d,textColorCircle:c,textColorLineInner:u,textColorLineOuter:h,lineBgProcessing:p,fontWeightCircle:f,[Ae("iconColor",t)]:v,[Ae("fillColor",t)]:m}}=i.value;return{"--n-bezier":n,"--n-fill-color":m,"--n-font-size":r,"--n-font-size-circle":o,"--n-font-weight-circle":f,"--n-icon-color":v,"--n-icon-size-circle":s,"--n-icon-size-line":d,"--n-line-bg-processing":p,"--n-rail-color":a,"--n-rail-height":l,"--n-text-color-circle":c,"--n-text-color-line-inner":u,"--n-text-color-line-outer":h}}),s=o?Oe("progress",a(()=>e.status[0]),l,e):void 0;return{mergedClsPrefix:r,mergedIndicatorPlacement:t,gapDeg:n,cssVars:o?void 0:l,themeClass:null==s?void 0:s.themeClass,onRender:null==s?void 0:s.onRender}},render(){const{type:e,cssVars:t,indicatorTextColor:n,showIndicator:r,status:o,railColor:i,railStyle:a,color:l,percentage:s,viewBoxWidth:d,strokeWidth:c,mergedIndicatorPlacement:u,unit:h,borderRadius:p,fillBorderRadius:f,height:v,processing:m,circleGap:g,mergedClsPrefix:b,gapDeg:w,gapOffsetDegree:y,themeClass:x,$slots:k,onRender:C}=this;return null==C||C(),M("div",{class:[x,`${b}-progress`,`${b}-progress--${e}`,`${b}-progress--${o}`],style:t,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":s,role:"circle"===e||"line"===e||"dashboard"===e?"progressbar":"none"},"circle"===e||"dashboard"===e?M(ff,{clsPrefix:b,status:o,showIndicator:r,indicatorTextColor:n,railColor:i,fillColor:l,railStyle:a,offsetDegree:this.offsetDegree,percentage:s,viewBoxWidth:d,strokeWidth:c,gapDegree:void 0===w?"dashboard"===e?75:0:w,gapOffsetDegree:y,unit:h},k):"line"===e?M(mf,{clsPrefix:b,status:o,showIndicator:r,indicatorTextColor:n,railColor:i,fillColor:l,railStyle:a,percentage:s,processing:m,indicatorPlacement:u,unit:h,fillBorderRadius:f,railBorderRadius:p,height:v},k):"multiple-circle"===e?M(bf,{clsPrefix:b,strokeWidth:c,railColor:i,fillColor:l,railStyle:a,viewBoxWidth:d,percentage:s,showIndicator:r,circleGap:g},k):null)}}),kf=Object.assign(Object.assign({},Re.props),{trigger:String,xScrollable:Boolean,onScroll:Function,contentClass:String,contentStyle:[Object,String],size:Number,yPlacement:{type:String,default:"right"},xPlacement:{type:String,default:"bottom"}}),Cf=x({name:"Scrollbar",props:kf,setup(){const e=f(null),t={scrollTo:(...t)=>{var n;null===(n=e.value)||void 0===n||n.scrollTo(t[0],t[1])},scrollBy:(...t)=>{var n;null===(n=e.value)||void 0===n||n.scrollBy(t[0],t[1])}};return Object.assign(Object.assign({},t),{scrollbarInstRef:e})},render(){return M(Ie,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),Sf=ye([we("slider","\n display: block;\n padding: calc((var(--n-handle-size) - var(--n-rail-height)) / 2) 0;\n position: relative;\n z-index: 0;\n width: 100%;\n cursor: pointer;\n user-select: none;\n -webkit-user-select: none;\n ",[Fe("reverse",[we("slider-handles",[we("slider-handle-wrapper","\n transform: translate(50%, -50%);\n ")]),we("slider-dots",[we("slider-dot","\n transform: translateX(50%, -50%);\n ")]),Fe("vertical",[we("slider-handles",[we("slider-handle-wrapper","\n transform: translate(-50%, -50%);\n ")]),we("slider-marks",[we("slider-mark","\n transform: translateY(calc(-50% + var(--n-dot-height) / 2));\n ")]),we("slider-dots",[we("slider-dot","\n transform: translateX(-50%) translateY(0);\n ")])])]),Fe("vertical","\n box-sizing: content-box;\n padding: 0 calc((var(--n-handle-size) - var(--n-rail-height)) / 2);\n width: var(--n-rail-width-vertical);\n height: 100%;\n ",[we("slider-handles","\n top: calc(var(--n-handle-size) / 2);\n right: 0;\n bottom: calc(var(--n-handle-size) / 2);\n left: 0;\n ",[we("slider-handle-wrapper","\n top: unset;\n left: 50%;\n transform: translate(-50%, 50%);\n ")]),we("slider-rail","\n height: 100%;\n ",[xe("fill","\n top: unset;\n right: 0;\n bottom: unset;\n left: 0;\n ")]),Fe("with-mark","\n width: var(--n-rail-width-vertical);\n margin: 0 32px 0 8px;\n "),we("slider-marks","\n top: calc(var(--n-handle-size) / 2);\n right: unset;\n bottom: calc(var(--n-handle-size) / 2);\n left: 22px;\n font-size: var(--n-mark-font-size);\n ",[we("slider-mark","\n transform: translateY(50%);\n white-space: nowrap;\n ")]),we("slider-dots","\n top: calc(var(--n-handle-size) / 2);\n right: unset;\n bottom: calc(var(--n-handle-size) / 2);\n left: 50%;\n ",[we("slider-dot","\n transform: translateX(-50%) translateY(50%);\n ")])]),Fe("disabled","\n cursor: not-allowed;\n opacity: var(--n-opacity-disabled);\n ",[we("slider-handle","\n cursor: not-allowed;\n ")]),Fe("with-mark","\n width: 100%;\n margin: 8px 0 32px 0;\n "),ye("&:hover",[we("slider-rail",{backgroundColor:"var(--n-rail-color-hover)"},[xe("fill",{backgroundColor:"var(--n-fill-color-hover)"})]),we("slider-handle",{boxShadow:"var(--n-handle-box-shadow-hover)"})]),Fe("active",[we("slider-rail",{backgroundColor:"var(--n-rail-color-hover)"},[xe("fill",{backgroundColor:"var(--n-fill-color-hover)"})]),we("slider-handle",{boxShadow:"var(--n-handle-box-shadow-hover)"})]),we("slider-marks","\n position: absolute;\n top: 18px;\n left: calc(var(--n-handle-size) / 2);\n right: calc(var(--n-handle-size) / 2);\n ",[we("slider-mark","\n position: absolute;\n transform: translateX(-50%);\n white-space: nowrap;\n ")]),we("slider-rail","\n width: 100%;\n position: relative;\n height: var(--n-rail-height);\n background-color: var(--n-rail-color);\n transition: background-color .3s var(--n-bezier);\n border-radius: calc(var(--n-rail-height) / 2);\n ",[xe("fill","\n position: absolute;\n top: 0;\n bottom: 0;\n border-radius: calc(var(--n-rail-height) / 2);\n transition: background-color .3s var(--n-bezier);\n background-color: var(--n-fill-color);\n ")]),we("slider-handles","\n position: absolute;\n top: 0;\n right: calc(var(--n-handle-size) / 2);\n bottom: 0;\n left: calc(var(--n-handle-size) / 2);\n ",[we("slider-handle-wrapper","\n outline: none;\n position: absolute;\n top: 50%;\n transform: translate(-50%, -50%);\n cursor: pointer;\n display: flex;\n ",[we("slider-handle","\n height: var(--n-handle-size);\n width: var(--n-handle-size);\n border-radius: 50%;\n overflow: hidden;\n transition: box-shadow .2s var(--n-bezier), background-color .3s var(--n-bezier);\n background-color: var(--n-handle-color);\n box-shadow: var(--n-handle-box-shadow);\n ",[ye("&:hover","\n box-shadow: var(--n-handle-box-shadow-hover);\n ")]),ye("&:focus",[we("slider-handle","\n box-shadow: var(--n-handle-box-shadow-focus);\n ",[ye("&:hover","\n box-shadow: var(--n-handle-box-shadow-active);\n ")])])])]),we("slider-dots","\n position: absolute;\n top: 50%;\n left: calc(var(--n-handle-size) / 2);\n right: calc(var(--n-handle-size) / 2);\n ",[Fe("transition-disabled",[we("slider-dot","transition: none;")]),we("slider-dot","\n transition:\n border-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n position: absolute;\n transform: translate(-50%, -50%);\n height: var(--n-dot-height);\n width: var(--n-dot-width);\n border-radius: var(--n-dot-border-radius);\n overflow: hidden;\n box-sizing: border-box;\n border: var(--n-dot-border);\n background-color: var(--n-dot-color);\n ",[Fe("active","border: var(--n-dot-border-active);")])])]),we("slider-handle-indicator","\n font-size: var(--n-font-size);\n padding: 6px 10px;\n border-radius: var(--n-indicator-border-radius);\n color: var(--n-indicator-text-color);\n background-color: var(--n-indicator-color);\n box-shadow: var(--n-indicator-box-shadow);\n ",[Be()]),we("slider-handle-indicator","\n font-size: var(--n-font-size);\n padding: 6px 10px;\n border-radius: var(--n-indicator-border-radius);\n color: var(--n-indicator-text-color);\n background-color: var(--n-indicator-color);\n box-shadow: var(--n-indicator-box-shadow);\n ",[Fe("top","\n margin-bottom: 12px;\n "),Fe("right","\n margin-left: 12px;\n "),Fe("bottom","\n margin-top: 12px;\n "),Fe("left","\n margin-right: 12px;\n "),Be()]),bt(we("slider",[we("slider-dot","background-color: var(--n-dot-color-modal);")])),wt(we("slider",[we("slider-dot","background-color: var(--n-dot-color-popover);")]))]);function zf(e){return window.TouchEvent&&e instanceof window.TouchEvent}function $f(){const e=new Map;return kn(()=>{e.clear()}),[e,t=>n=>{e.set(t,n)}]}const Mf=Object.assign(Object.assign({},Re.props),{to:Or.propTo,defaultValue:{type:[Number,Array],default:0},marks:Object,disabled:{type:Boolean,default:void 0},formatTooltip:Function,keyboard:{type:Boolean,default:!0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:[Number,String],default:1},range:Boolean,value:[Number,Array],placement:String,showTooltip:{type:Boolean,default:void 0},tooltip:{type:Boolean,default:!0},vertical:Boolean,reverse:Boolean,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onDragstart:[Function],onDragend:[Function]}),Rf=x({name:"Slider",props:Mf,slots:Object,setup(e){const{mergedClsPrefixRef:t,namespaceRef:n,inlineThemeDisabled:o}=Me(e),l=Re("Slider","-slider",Sf,Cn,e,t),s=f(null),[c,u]=$f(),[p,v]=$f(),m=f(new Set),g=vt(e),{mergedDisabledRef:b}=g,w=a(()=>{const{step:t}=e;if(Number(t)<=0||"mark"===t)return 0;const n=t.toString();let r=0;return n.includes(".")&&(r=n.length-n.indexOf(".")-1),r}),y=f(e.defaultValue),x=Sr(T(e,"value"),y),k=a(()=>{const{value:t}=x;return(e.range?t:[t]).map(Y)}),C=a(()=>k.value.length>2),S=a(()=>void 0===e.placement?e.vertical?"right":"top":e.placement),z=a(()=>{const{marks:t}=e;return t?Object.keys(t).map(Number.parseFloat):null}),$=f(-1),M=f(-1),R=f(-1),A=f(!1),O=f(!1),F=a(()=>{const{vertical:t,reverse:n}=e;return t?n?"top":"bottom":n?"right":"left"}),_=a(()=>{if(C.value)return;const t=k.value,n=W(e.range?Math.min(...t):e.min),r=W(e.range?Math.max(...t):t[0]),{value:o}=F;return e.vertical?{[o]:`${n}%`,height:r-n+"%"}:{[o]:`${n}%`,width:r-n+"%"}}),B=a(()=>{const t=[],{marks:n}=e;if(n){const r=k.value.slice();r.sort((e,t)=>e-t);const{value:o}=F,{value:i}=C,{range:a}=e,l=i?()=>!1:e=>a?e>=r[0]&&e<=r[r.length-1]:e<=r[0];for(const e of Object.keys(n)){const r=Number(e);t.push({active:l(r),key:r,label:n[e],style:{[o]:`${W(r)}%`}})}}return t});function E(t){return e.showTooltip||R.value===t||$.value===t&&A.value}function j(){p.forEach((e,t)=>{E(t)&&e.syncPosition()})}function I(t){const{"onUpdate:value":n,onUpdateValue:r}=e,{nTriggerFormInput:o,nTriggerFormChange:i}=g;r&&rt(r,t),n&&rt(n,t),y.value=t,o(),i()}function L(t){const{range:n}=e;if(n){if(Array.isArray(t)){const{value:e}=k;t.join()!==e.join()&&I(t)}}else if(!Array.isArray(t)){k.value[0]!==t&&I(t)}}function N(t,n){if(e.range){const e=k.value.slice();e.splice(n,1,t),L(e)}else L(t)}function H(t,n,r){const o=void 0!==r;r||(r=t-n>0?1:-1);const i=z.value||[],{step:a}=e;if("mark"===a){const e=U(t,i.concat(n),o?r:void 0);return e?e.value:n}if(a<=0)return n;const{value:l}=w;let s;if(o){const e=Number((n/a).toFixed(l)),t=Math.floor(e),o=e<t?t:t+1;s=U(n,[Number(((e>t?t:t-1)*a).toFixed(l)),Number((o*a).toFixed(l)),...i],r)}else{const n=function(t){const{step:n,min:r}=e;if(Number(n)<=0||"mark"===n)return t;const o=Math.round((t-r)/n)*n+r;return Number(o.toFixed(w.value))}(t);s=U(t,[...i,n])}return s?Y(s.value):n}function Y(t){return Math.min(e.max,Math.max(e.min,t))}function W(t){const{max:n,min:r}=e;return(t-r)/(n-r)*100}function U(e,t=z.value,n){if(!(null==t?void 0:t.length))return null;let r=null,o=-1;for(;++o<t.length;){const i=t[o]-e,a=Math.abs(i);(void 0===n||i*n>0)&&(null===r||a<r.distance)&&(r={index:o,distance:a,value:t[o]})}return r}function V(t){const n=s.value;if(!n)return;const r=zf(t)?t.touches[0]:t,o=n.getBoundingClientRect();let i;return i=e.vertical?(o.bottom-r.clientY)/o.height:(r.clientX-o.left)/o.width,e.reverse&&(i=1-i),function(t){const{max:n,min:r}=e;return r+(n-r)*t}(i)}function q(t){const n=$.value;if(-1===n)return;const{step:r}=e,o=k.value[n];N(H(Number(r)<=0||"mark"===r?o:o+r*t,o,t>0?1:-1),n)}function X(){A.value&&(A.value=!1,e.onDragend&&rt(e.onDragend),h("touchend",document,K),h("mouseup",document,K),h("touchmove",document,Q),h("mousemove",document,Q))}function Q(e){const{value:t}=$;if(!A.value||-1===t)return void X();const n=V(e);void 0!==n&&N(H(n,k.value[t]),t)}function K(){X()}i($,(e,t)=>{D(()=>M.value=t)}),i(x,()=>{if(e.marks){if(O.value)return;O.value=!0,D(()=>{O.value=!1})}D(j)}),r(()=>{X()});const Z=a(()=>{const{self:{markFontSize:e,railColor:t,railColorHover:n,fillColor:r,fillColorHover:o,handleColor:i,opacityDisabled:a,dotColor:s,dotColorModal:d,handleBoxShadow:c,handleBoxShadowHover:u,handleBoxShadowActive:h,handleBoxShadowFocus:p,dotBorder:f,dotBoxShadow:v,railHeight:m,railWidthVertical:g,handleSize:b,dotHeight:w,dotWidth:y,dotBorderRadius:x,fontSize:k,dotBorderActive:C,dotColorPopover:S},common:{cubicBezierEaseInOut:z}}=l.value;return{"--n-bezier":z,"--n-dot-border":f,"--n-dot-border-active":C,"--n-dot-border-radius":x,"--n-dot-box-shadow":v,"--n-dot-color":s,"--n-dot-color-modal":d,"--n-dot-color-popover":S,"--n-dot-height":w,"--n-dot-width":y,"--n-fill-color":r,"--n-fill-color-hover":o,"--n-font-size":k,"--n-handle-box-shadow":c,"--n-handle-box-shadow-active":h,"--n-handle-box-shadow-focus":p,"--n-handle-box-shadow-hover":u,"--n-handle-color":i,"--n-handle-size":b,"--n-opacity-disabled":a,"--n-rail-color":t,"--n-rail-color-hover":n,"--n-rail-height":m,"--n-rail-width-vertical":g,"--n-mark-font-size":e}}),G=o?Oe("slider",void 0,Z,e):void 0,J=a(()=>{const{self:{fontSize:e,indicatorColor:t,indicatorBoxShadow:n,indicatorTextColor:r,indicatorBorderRadius:o}}=l.value;return{"--n-font-size":e,"--n-indicator-border-radius":o,"--n-indicator-box-shadow":n,"--n-indicator-color":t,"--n-indicator-text-color":r}}),ee=o?Oe("slider-indicator",void 0,J,e):void 0;return{mergedClsPrefix:t,namespace:n,uncontrolledValue:y,mergedValue:x,mergedDisabled:b,mergedPlacement:S,isMounted:P(),adjustedTo:Or(e),dotTransitionDisabled:O,markInfos:B,isShowTooltip:E,shouldKeepTooltipTransition:function(e){return!A.value||!($.value===e&&M.value===e)},handleRailRef:s,setHandleRefs:u,setFollowerRefs:v,fillStyle:_,getHandleStyle:function(e,t){const n=W(e),{value:r}=F;return{[r]:`${n}%`,zIndex:t===$.value?1:0}},activeIndex:$,arrifiedValues:k,followerEnabledIndexSet:m,handleRailMouseDown:function(t){var n,r;if(b.value)return;if(!zf(t)&&0!==t.button)return;const o=V(t);if(void 0===o)return;const i=k.value.slice(),a=e.range?null!==(r=null===(n=U(o,i))||void 0===n?void 0:n.index)&&void 0!==r?r:-1:0;-1!==a&&(t.preventDefault(),function(e){var t;~e&&($.value=e,null===(t=c.get(e))||void 0===t||t.focus())}(a),A.value||(A.value=!0,e.onDragstart&&rt(e.onDragstart),d("touchend",document,K),d("mouseup",document,K),d("touchmove",document,Q),d("mousemove",document,Q)),N(H(o,k.value[a]),a))},handleHandleFocus:function(e){$.value=e,b.value||(R.value=e)},handleHandleBlur:function(e){$.value===e&&($.value=-1,X()),R.value===e&&(R.value=-1)},handleHandleMouseEnter:function(e){R.value=e},handleHandleMouseLeave:function(e){R.value===e&&(R.value=-1)},handleRailKeyDown:function(t){if(b.value||!e.keyboard)return;const{vertical:n,reverse:r}=e;switch(t.key){case"ArrowUp":t.preventDefault(),q(n&&r?-1:1);break;case"ArrowRight":t.preventDefault(),q(!n&&r?-1:1);break;case"ArrowDown":t.preventDefault(),q(n&&r?1:-1);break;case"ArrowLeft":t.preventDefault(),q(!n&&r?1:-1)}},indicatorCssVars:o?void 0:J,indicatorThemeClass:null==ee?void 0:ee.themeClass,indicatorOnRender:null==ee?void 0:ee.onRender,cssVars:o?void 0:Z,themeClass:null==G?void 0:G.themeClass,onRender:null==G?void 0:G.onRender}},render(){var e;const{mergedClsPrefix:t,themeClass:n,formatTooltip:r}=this;return null===(e=this.onRender)||void 0===e||e.call(this),M("div",{class:[`${t}-slider`,n,{[`${t}-slider--disabled`]:this.mergedDisabled,[`${t}-slider--active`]:-1!==this.activeIndex,[`${t}-slider--with-mark`]:this.marks,[`${t}-slider--vertical`]:this.vertical,[`${t}-slider--reverse`]:this.reverse}],style:this.cssVars,onKeydown:this.handleRailKeyDown,onMousedown:this.handleRailMouseDown,onTouchstart:this.handleRailMouseDown},M("div",{class:`${t}-slider-rail`},M("div",{class:`${t}-slider-rail__fill`,style:this.fillStyle}),this.marks?M("div",{class:[`${t}-slider-dots`,this.dotTransitionDisabled&&`${t}-slider-dots--transition-disabled`]},this.markInfos.map(e=>M("div",{key:e.key,class:[`${t}-slider-dot`,{[`${t}-slider-dot--active`]:e.active}],style:e.style}))):null,M("div",{ref:"handleRailRef",class:`${t}-slider-handles`},this.arrifiedValues.map((e,n)=>{const o=this.isShowTooltip(n);return M(Br,null,{default:()=>[M(Er,null,{default:()=>M("div",{ref:this.setHandleRefs(n),class:`${t}-slider-handle-wrapper`,tabindex:this.mergedDisabled?-1:0,role:"slider","aria-valuenow":e,"aria-valuemin":this.min,"aria-valuemax":this.max,"aria-orientation":this.vertical?"vertical":"horizontal","aria-disabled":this.disabled,style:this.getHandleStyle(e,n),onFocus:()=>{this.handleHandleFocus(n)},onBlur:()=>{this.handleHandleBlur(n)},onMouseenter:()=>{this.handleHandleMouseEnter(n)},onMouseleave:()=>{this.handleHandleMouseLeave(n)}},Se(this.$slots.thumb,()=>[M("div",{class:`${t}-slider-handle`})]))}),this.tooltip&&M(Jr,{ref:this.setFollowerRefs(n),show:o,to:this.adjustedTo,enabled:this.showTooltip&&!this.range||this.followerEnabledIndexSet.has(n),teleportDisabled:this.adjustedTo===Or.tdkey,placement:this.mergedPlacement,containerClass:this.namespace},{default:()=>M(De,{name:"fade-in-scale-up-transition",appear:this.isMounted,css:this.shouldKeepTooltipTransition(n),onEnter:()=>{this.followerEnabledIndexSet.add(n)},onAfterLeave:()=>{this.followerEnabledIndexSet.delete(n)}},{default:()=>{var n;return o?(null===(n=this.indicatorOnRender)||void 0===n||n.call(this),M("div",{class:[`${t}-slider-handle-indicator`,this.indicatorThemeClass,`${t}-slider-handle-indicator--${this.mergedPlacement}`],style:this.indicatorCssVars},"function"==typeof r?r(e):e)):null}})})]})})),this.marks?M("div",{class:`${t}-slider-marks`},this.markInfos.map(e=>M("div",{key:e.key,class:`${t}-slider-mark`,style:e.style},"function"==typeof e.label?e.label():e.label))):null))}}),Af=we("switch","\n height: var(--n-height);\n min-width: var(--n-width);\n vertical-align: middle;\n user-select: none;\n -webkit-user-select: none;\n display: inline-flex;\n outline: none;\n justify-content: center;\n align-items: center;\n",[xe("children-placeholder","\n height: var(--n-rail-height);\n display: flex;\n flex-direction: column;\n overflow: hidden;\n pointer-events: none;\n visibility: hidden;\n "),xe("rail-placeholder","\n display: flex;\n flex-wrap: none;\n "),xe("button-placeholder","\n width: calc(1.75 * var(--n-rail-height));\n height: var(--n-rail-height);\n "),we("base-loading","\n position: absolute;\n top: 50%;\n left: 50%;\n transform: translateX(-50%) translateY(-50%);\n font-size: calc(var(--n-button-width) - 4px);\n color: var(--n-loading-color);\n transition: color .3s var(--n-bezier);\n ",[ke({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),xe("checked, unchecked","\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n box-sizing: border-box;\n position: absolute;\n white-space: nowrap;\n top: 0;\n bottom: 0;\n display: flex;\n align-items: center;\n line-height: 1;\n "),xe("checked","\n right: 0;\n padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n "),xe("unchecked","\n left: 0;\n justify-content: flex-end;\n padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n "),ye("&:focus",[xe("rail","\n box-shadow: var(--n-box-shadow-focus);\n ")]),Fe("round",[xe("rail","border-radius: calc(var(--n-rail-height) / 2);",[xe("button","border-radius: calc(var(--n-button-height) / 2);")])]),_e("disabled",[_e("icon",[Fe("rubber-band",[Fe("pressed",[xe("rail",[xe("button","max-width: var(--n-button-width-pressed);")])]),xe("rail",[ye("&:active",[xe("button","max-width: var(--n-button-width-pressed);")])]),Fe("active",[Fe("pressed",[xe("rail",[xe("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),xe("rail",[ye("&:active",[xe("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),Fe("active",[xe("rail",[xe("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),xe("rail","\n overflow: hidden;\n height: var(--n-rail-height);\n min-width: var(--n-rail-width);\n border-radius: var(--n-rail-border-radius);\n cursor: pointer;\n position: relative;\n transition:\n opacity .3s var(--n-bezier),\n background .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-rail-color);\n ",[xe("button-icon","\n color: var(--n-icon-color);\n transition: color .3s var(--n-bezier);\n font-size: calc(var(--n-button-height) - 4px);\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n justify-content: center;\n align-items: center;\n line-height: 1;\n ",[ke()]),xe("button",'\n align-items: center; \n top: var(--n-offset);\n left: var(--n-offset);\n height: var(--n-button-height);\n width: var(--n-button-width-pressed);\n max-width: var(--n-button-width);\n border-radius: var(--n-button-border-radius);\n background-color: var(--n-button-color);\n box-shadow: var(--n-button-box-shadow);\n box-sizing: border-box;\n cursor: inherit;\n content: "";\n position: absolute;\n transition:\n background-color .3s var(--n-bezier),\n left .3s var(--n-bezier),\n opacity .3s var(--n-bezier),\n max-width .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n ')]),Fe("active",[xe("rail","background-color: var(--n-rail-color-active);")]),Fe("loading",[xe("rail","\n cursor: wait;\n ")]),Fe("disabled",[xe("rail","\n cursor: not-allowed;\n opacity: .5;\n ")])]),Of=Object.assign(Object.assign({},Re.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let Tf;const Pf=x({name:"Switch",props:Of,slots:Object,setup(e){void 0===Tf&&(Tf="undefined"==typeof CSS||void 0!==CSS.supports&&CSS.supports("width","max(1px)"));const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=Me(e),r=Re("Switch","-switch",Af,Sn,e,t),o=vt(e),{mergedSizeRef:i,mergedDisabledRef:l}=o,s=f(e.defaultValue),d=Sr(T(e,"value"),s),c=a(()=>d.value===e.checkedValue),u=f(!1),h=f(!1),p=a(()=>{const{railStyle:t}=e;if(t)return t({focused:h.value,checked:c.value})});function v(t){const{"onUpdate:value":n,onChange:r,onUpdateValue:i}=e,{nTriggerFormInput:a,nTriggerFormChange:l}=o;n&&rt(n,t),i&&rt(i,t),r&&rt(r,t),s.value=t,a(),l()}const m=a(()=>{const{value:e}=i,{self:{opacityDisabled:t,railColor:n,railColorActive:o,buttonBoxShadow:a,buttonColor:l,boxShadowFocus:s,loadingColor:d,textColor:c,iconColor:u,[Ae("buttonHeight",e)]:h,[Ae("buttonWidth",e)]:p,[Ae("buttonWidthPressed",e)]:f,[Ae("railHeight",e)]:v,[Ae("railWidth",e)]:m,[Ae("railBorderRadius",e)]:g,[Ae("buttonBorderRadius",e)]:b},common:{cubicBezierEaseInOut:w}}=r.value;let y,x,k;return Tf?(y=`calc((${v} - ${h}) / 2)`,x=`max(${v}, ${h})`,k=`max(${m}, calc(${m} + ${h} - ${v}))`):(y=I((j(v)-j(h))/2),x=I(Math.max(j(v),j(h))),k=j(v)>j(h)?m:I(j(m)+j(h)-j(v))),{"--n-bezier":w,"--n-button-border-radius":b,"--n-button-box-shadow":a,"--n-button-color":l,"--n-button-width":p,"--n-button-width-pressed":f,"--n-button-height":h,"--n-height":x,"--n-offset":y,"--n-opacity-disabled":t,"--n-rail-border-radius":g,"--n-rail-color":n,"--n-rail-color-active":o,"--n-rail-height":v,"--n-rail-width":m,"--n-width":k,"--n-box-shadow-focus":s,"--n-loading-color":d,"--n-text-color":c,"--n-icon-color":u}}),g=n?Oe("switch",a(()=>i.value[0]),m,e):void 0;return{handleClick:function(){e.loading||l.value||(d.value!==e.checkedValue?v(e.checkedValue):v(e.uncheckedValue))},handleBlur:function(){h.value=!1,function(){const{nTriggerFormBlur:e}=o;e()}(),u.value=!1},handleFocus:function(){h.value=!0,function(){const{nTriggerFormFocus:e}=o;e()}()},handleKeyup:function(t){e.loading||l.value||" "===t.key&&(d.value!==e.checkedValue?v(e.checkedValue):v(e.uncheckedValue),u.value=!1)},handleKeydown:function(t){e.loading||l.value||" "===t.key&&(t.preventDefault(),u.value=!0)},mergedRailStyle:p,pressed:u,mergedClsPrefix:t,mergedValue:d,checked:c,mergedDisabled:l,cssVars:n?void 0:m,themeClass:null==g?void 0:g.themeClass,onRender:null==g?void 0:g.onRender}},render(){const{mergedClsPrefix:e,mergedDisabled:t,checked:n,mergedRailStyle:r,onRender:o,$slots:i}=this;null==o||o();const{checked:a,unchecked:l,icon:s,"checked-icon":d,"unchecked-icon":c}=i,u=!(Qe(s)&&Qe(d)&&Qe(c));return M("div",{role:"switch","aria-checked":n,class:[`${e}-switch`,this.themeClass,u&&`${e}-switch--icon`,n&&`${e}-switch--active`,t&&`${e}-switch--disabled`,this.round&&`${e}-switch--round`,this.loading&&`${e}-switch--loading`,this.pressed&&`${e}-switch--pressed`,this.rubberBand&&`${e}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},M("div",{class:`${e}-switch__rail`,"aria-hidden":"true",style:r},Ee(a,t=>Ee(l,n=>t||n?M("div",{"aria-hidden":!0,class:`${e}-switch__children-placeholder`},M("div",{class:`${e}-switch__rail-placeholder`},M("div",{class:`${e}-switch__button-placeholder`}),t),M("div",{class:`${e}-switch__rail-placeholder`},M("div",{class:`${e}-switch__button-placeholder`}),n)):null)),M("div",{class:`${e}-switch__button`},Ee(s,t=>Ee(d,n=>Ee(c,r=>M(Ce,null,{default:()=>this.loading?M(je,{key:"loading",clsPrefix:e,strokeWidth:20}):this.checked&&(n||t)?M("div",{class:`${e}-switch__button-icon`,key:n?"checked-icon":"icon"},n||t):this.checked||!r&&!t?null:M("div",{class:`${e}-switch__button-icon`,key:r?"unchecked-icon":"icon"},r||t)})))),Ee(a,t=>t&&M("div",{key:"checked",class:`${e}-switch__checked`},t)),Ee(l,t=>t&&M("div",{key:"unchecked",class:`${e}-switch__unchecked`},t)))))}}),Df=p("n-tabs"),Ff={tab:[String,Number,Object,Function],name:{type:[String,Number],required:!0},disabled:Boolean,displayDirective:{type:String,default:"if"},closable:{type:Boolean,default:void 0},tabProps:Object,label:[String,Number,Object,Function]},_f=x({__TAB_PANE__:!0,name:"TabPane",alias:["TabPanel"],props:Ff,slots:Object,setup(e){const t=m(Df,null);return t||Vt("tab-pane","`n-tab-pane` must be placed inside `n-tabs`."),{style:t.paneStyleRef,class:t.paneClassRef,mergedClsPrefix:t.mergedClsPrefixRef}},render(){return M("div",{class:[`${this.mergedClsPrefix}-tab-pane`,this.class],style:this.style},this.$slots)}}),Bf=Object.assign({internalLeftPadded:Boolean,internalAddable:Boolean,internalCreatedByPane:Boolean},Et(Ff,["displayDirective"])),Ef=x({__TAB__:!0,inheritAttrs:!1,name:"Tab",props:Bf,setup(e){const{mergedClsPrefixRef:t,valueRef:n,typeRef:r,closableRef:o,tabStyleRef:i,addTabStyleRef:l,tabClassRef:s,addTabClassRef:d,tabChangeIdRef:c,onBeforeLeaveRef:u,triggerRef:h,handleAdd:p,activateTab:f,handleClose:v}=m(Df);return{trigger:h,mergedClosable:a(()=>{if(e.internalAddable)return!1;const{closable:t}=e;return void 0===t?o.value:t}),style:i,addStyle:l,tabClass:s,addTabClass:d,clsPrefix:t,value:n,type:r,handleClose(t){t.stopPropagation(),e.disabled||v(e.name)},activateTab(){if(e.disabled)return;if(e.internalAddable)return void p();const{name:t}=e,r=++c.id;if(t!==n.value){const{value:o}=u;o?Promise.resolve(o(e.name,n.value)).then(e=>{e&&c.id===r&&f(t)}):f(t)}}}},render(){const{internalAddable:e,clsPrefix:t,name:n,disabled:r,label:o,tab:i,value:a,mergedClosable:l,trigger:s,$slots:{default:d}}=this,c=null!=o?o:i;return M("div",{class:`${t}-tabs-tab-wrapper`},this.internalLeftPadded?M("div",{class:`${t}-tabs-tab-pad`}):null,M("div",Object.assign({key:n,"data-name":n,"data-disabled":!!r||void 0},_({class:[`${t}-tabs-tab`,a===n&&`${t}-tabs-tab--active`,r&&`${t}-tabs-tab--disabled`,l&&`${t}-tabs-tab--closable`,e&&`${t}-tabs-tab--addable`,e?this.addTabClass:this.tabClass],onClick:"click"===s?this.activateTab:void 0,onMouseenter:"hover"===s?this.activateTab:void 0,style:e?this.addStyle:this.style},this.internalCreatedByPane?this.tabProps||{}:this.$attrs)),M("span",{class:`${t}-tabs-tab__label`},e?M(Ze,null,M("div",{class:`${t}-tabs-tab__height-placeholder`}," "),M($e,{clsPrefix:t},{default:()=>M(Ca,null)})):d?d():"object"==typeof c?c:Pe(null!=c?c:n)),l&&"card"===this.type?M(ot,{clsPrefix:t,class:`${t}-tabs-tab__close`,onClick:this.handleClose,disabled:r}):null))}}),jf=we("tabs","\n box-sizing: border-box;\n width: 100%;\n display: flex;\n flex-direction: column;\n transition:\n background-color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n",[Fe("segment-type",[we("tabs-rail",[ye("&.transition-disabled",[we("tabs-capsule","\n transition: none;\n ")])])]),Fe("top",[we("tab-pane","\n padding: var(--n-pane-padding-top) var(--n-pane-padding-right) var(--n-pane-padding-bottom) var(--n-pane-padding-left);\n ")]),Fe("left",[we("tab-pane","\n padding: var(--n-pane-padding-right) var(--n-pane-padding-bottom) var(--n-pane-padding-left) var(--n-pane-padding-top);\n ")]),Fe("left, right","\n flex-direction: row;\n ",[we("tabs-bar","\n width: 2px;\n right: 0;\n transition:\n top .2s var(--n-bezier),\n max-height .2s var(--n-bezier),\n background-color .3s var(--n-bezier);\n "),we("tabs-tab","\n padding: var(--n-tab-padding-vertical); \n ")]),Fe("right","\n flex-direction: row-reverse;\n ",[we("tab-pane","\n padding: var(--n-pane-padding-left) var(--n-pane-padding-top) var(--n-pane-padding-right) var(--n-pane-padding-bottom);\n "),we("tabs-bar","\n left: 0;\n ")]),Fe("bottom","\n flex-direction: column-reverse;\n justify-content: flex-end;\n ",[we("tab-pane","\n padding: var(--n-pane-padding-bottom) var(--n-pane-padding-right) var(--n-pane-padding-top) var(--n-pane-padding-left);\n "),we("tabs-bar","\n top: 0;\n ")]),we("tabs-rail","\n position: relative;\n padding: 3px;\n border-radius: var(--n-tab-border-radius);\n width: 100%;\n background-color: var(--n-color-segment);\n transition: background-color .3s var(--n-bezier);\n display: flex;\n align-items: center;\n ",[we("tabs-capsule","\n border-radius: var(--n-tab-border-radius);\n position: absolute;\n pointer-events: none;\n background-color: var(--n-tab-color-segment);\n box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .08);\n transition: transform 0.3s var(--n-bezier);\n "),we("tabs-tab-wrapper","\n flex-basis: 0;\n flex-grow: 1;\n display: flex;\n align-items: center;\n justify-content: center;\n ",[we("tabs-tab","\n overflow: hidden;\n border-radius: var(--n-tab-border-radius);\n width: 100%;\n display: flex;\n align-items: center;\n justify-content: center;\n ",[Fe("active","\n font-weight: var(--n-font-weight-strong);\n color: var(--n-tab-text-color-active);\n "),ye("&:hover","\n color: var(--n-tab-text-color-hover);\n ")])])]),Fe("flex",[we("tabs-nav","\n width: 100%;\n position: relative;\n ",[we("tabs-wrapper","\n width: 100%;\n ",[we("tabs-tab","\n margin-right: 0;\n ")])])]),we("tabs-nav","\n box-sizing: border-box;\n line-height: 1.5;\n display: flex;\n transition: border-color .3s var(--n-bezier);\n ",[xe("prefix, suffix","\n display: flex;\n align-items: center;\n "),xe("prefix","padding-right: 16px;"),xe("suffix","padding-left: 16px;")]),Fe("top, bottom",[ye(">",[we("tabs-nav",[we("tabs-nav-scroll-wrapper",[ye("&::before","\n top: 0;\n bottom: 0;\n left: 0;\n width: 20px;\n "),ye("&::after","\n top: 0;\n bottom: 0;\n right: 0;\n width: 20px;\n "),Fe("shadow-start",[ye("&::before","\n box-shadow: inset 10px 0 8px -8px rgba(0, 0, 0, .12);\n ")]),Fe("shadow-end",[ye("&::after","\n box-shadow: inset -10px 0 8px -8px rgba(0, 0, 0, .12);\n ")])])])])]),Fe("left, right",[we("tabs-nav-scroll-content","\n flex-direction: column;\n "),ye(">",[we("tabs-nav",[we("tabs-nav-scroll-wrapper",[ye("&::before","\n top: 0;\n left: 0;\n right: 0;\n height: 20px;\n "),ye("&::after","\n bottom: 0;\n left: 0;\n right: 0;\n height: 20px;\n "),Fe("shadow-start",[ye("&::before","\n box-shadow: inset 0 10px 8px -8px rgba(0, 0, 0, .12);\n ")]),Fe("shadow-end",[ye("&::after","\n box-shadow: inset 0 -10px 8px -8px rgba(0, 0, 0, .12);\n ")])])])])]),we("tabs-nav-scroll-wrapper","\n flex: 1;\n position: relative;\n overflow: hidden;\n ",[we("tabs-nav-y-scroll","\n height: 100%;\n width: 100%;\n overflow-y: auto; \n scrollbar-width: none;\n ",[ye("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb","\n width: 0;\n height: 0;\n display: none;\n ")]),ye("&::before, &::after",'\n transition: box-shadow .3s var(--n-bezier);\n pointer-events: none;\n content: "";\n position: absolute;\n z-index: 1;\n ')]),we("tabs-nav-scroll-content","\n display: flex;\n position: relative;\n min-width: 100%;\n min-height: 100%;\n width: fit-content;\n box-sizing: border-box;\n "),we("tabs-wrapper","\n display: inline-flex;\n flex-wrap: nowrap;\n position: relative;\n "),we("tabs-tab-wrapper","\n display: flex;\n flex-wrap: nowrap;\n flex-shrink: 0;\n flex-grow: 0;\n "),we("tabs-tab","\n cursor: pointer;\n white-space: nowrap;\n flex-wrap: nowrap;\n display: inline-flex;\n align-items: center;\n color: var(--n-tab-text-color);\n font-size: var(--n-tab-font-size);\n background-clip: padding-box;\n padding: var(--n-tab-padding);\n transition:\n box-shadow .3s var(--n-bezier),\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n ",[Fe("disabled",{cursor:"not-allowed"}),xe("close","\n margin-left: 6px;\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n "),xe("label","\n display: flex;\n align-items: center;\n z-index: 1;\n ")]),we("tabs-bar","\n position: absolute;\n bottom: 0;\n height: 2px;\n border-radius: 1px;\n background-color: var(--n-bar-color);\n transition:\n left .2s var(--n-bezier),\n max-width .2s var(--n-bezier),\n opacity .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n ",[ye("&.transition-disabled","\n transition: none;\n "),Fe("disabled","\n background-color: var(--n-tab-text-color-disabled)\n ")]),we("tabs-pane-wrapper","\n position: relative;\n overflow: hidden;\n transition: max-height .2s var(--n-bezier);\n "),we("tab-pane","\n color: var(--n-pane-text-color);\n width: 100%;\n transition:\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n opacity .2s var(--n-bezier);\n left: 0;\n right: 0;\n top: 0;\n ",[ye("&.next-transition-leave-active, &.prev-transition-leave-active, &.next-transition-enter-active, &.prev-transition-enter-active","\n transition:\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n transform .2s var(--n-bezier),\n opacity .2s var(--n-bezier);\n "),ye("&.next-transition-leave-active, &.prev-transition-leave-active","\n position: absolute;\n "),ye("&.next-transition-enter-from, &.prev-transition-leave-to","\n transform: translateX(32px);\n opacity: 0;\n "),ye("&.next-transition-leave-to, &.prev-transition-enter-from","\n transform: translateX(-32px);\n opacity: 0;\n "),ye("&.next-transition-leave-from, &.next-transition-enter-to, &.prev-transition-leave-from, &.prev-transition-enter-to","\n transform: translateX(0);\n opacity: 1;\n ")]),we("tabs-tab-pad","\n box-sizing: border-box;\n width: var(--n-tab-gap);\n flex-grow: 0;\n flex-shrink: 0;\n "),Fe("line-type, bar-type",[we("tabs-tab","\n font-weight: var(--n-tab-font-weight);\n box-sizing: border-box;\n vertical-align: bottom;\n ",[ye("&:hover",{color:"var(--n-tab-text-color-hover)"}),Fe("active","\n color: var(--n-tab-text-color-active);\n font-weight: var(--n-tab-font-weight-active);\n "),Fe("disabled",{color:"var(--n-tab-text-color-disabled)"})])]),we("tabs-nav",[Fe("line-type",[Fe("top",[xe("prefix, suffix","\n border-bottom: 1px solid var(--n-tab-border-color);\n "),we("tabs-nav-scroll-content","\n border-bottom: 1px solid var(--n-tab-border-color);\n "),we("tabs-bar","\n bottom: -1px;\n ")]),Fe("left",[xe("prefix, suffix","\n border-right: 1px solid var(--n-tab-border-color);\n "),we("tabs-nav-scroll-content","\n border-right: 1px solid var(--n-tab-border-color);\n "),we("tabs-bar","\n right: -1px;\n ")]),Fe("right",[xe("prefix, suffix","\n border-left: 1px solid var(--n-tab-border-color);\n "),we("tabs-nav-scroll-content","\n border-left: 1px solid var(--n-tab-border-color);\n "),we("tabs-bar","\n left: -1px;\n ")]),Fe("bottom",[xe("prefix, suffix","\n border-top: 1px solid var(--n-tab-border-color);\n "),we("tabs-nav-scroll-content","\n border-top: 1px solid var(--n-tab-border-color);\n "),we("tabs-bar","\n top: -1px;\n ")]),xe("prefix, suffix","\n transition: border-color .3s var(--n-bezier);\n "),we("tabs-nav-scroll-content","\n transition: border-color .3s var(--n-bezier);\n "),we("tabs-bar","\n border-radius: 0;\n ")]),Fe("card-type",[xe("prefix, suffix","\n transition: border-color .3s var(--n-bezier);\n "),we("tabs-pad","\n flex-grow: 1;\n transition: border-color .3s var(--n-bezier);\n "),we("tabs-tab-pad","\n transition: border-color .3s var(--n-bezier);\n "),we("tabs-tab","\n font-weight: var(--n-tab-font-weight);\n border: 1px solid var(--n-tab-border-color);\n background-color: var(--n-tab-color);\n box-sizing: border-box;\n position: relative;\n vertical-align: bottom;\n display: flex;\n justify-content: space-between;\n font-size: var(--n-tab-font-size);\n color: var(--n-tab-text-color);\n ",[Fe("addable","\n padding-left: 8px;\n padding-right: 8px;\n font-size: 16px;\n justify-content: center;\n ",[xe("height-placeholder","\n width: 0;\n font-size: var(--n-tab-font-size);\n "),_e("disabled",[ye("&:hover","\n color: var(--n-tab-text-color-hover);\n ")])]),Fe("closable","padding-right: 8px;"),Fe("active","\n background-color: #0000;\n font-weight: var(--n-tab-font-weight-active);\n color: var(--n-tab-text-color-active);\n "),Fe("disabled","color: var(--n-tab-text-color-disabled);")])]),Fe("left, right","\n flex-direction: column; \n ",[xe("prefix, suffix","\n padding: var(--n-tab-padding-vertical);\n "),we("tabs-wrapper","\n flex-direction: column;\n "),we("tabs-tab-wrapper","\n flex-direction: column;\n ",[we("tabs-tab-pad","\n height: var(--n-tab-gap-vertical);\n width: 100%;\n ")])]),Fe("top",[Fe("card-type",[we("tabs-scroll-padding","border-bottom: 1px solid var(--n-tab-border-color);"),xe("prefix, suffix","\n border-bottom: 1px solid var(--n-tab-border-color);\n "),we("tabs-tab","\n border-top-left-radius: var(--n-tab-border-radius);\n border-top-right-radius: var(--n-tab-border-radius);\n ",[Fe("active","\n border-bottom: 1px solid #0000;\n ")]),we("tabs-tab-pad","\n border-bottom: 1px solid var(--n-tab-border-color);\n "),we("tabs-pad","\n border-bottom: 1px solid var(--n-tab-border-color);\n ")])]),Fe("left",[Fe("card-type",[we("tabs-scroll-padding","border-right: 1px solid var(--n-tab-border-color);"),xe("prefix, suffix","\n border-right: 1px solid var(--n-tab-border-color);\n "),we("tabs-tab","\n border-top-left-radius: var(--n-tab-border-radius);\n border-bottom-left-radius: var(--n-tab-border-radius);\n ",[Fe("active","\n border-right: 1px solid #0000;\n ")]),we("tabs-tab-pad","\n border-right: 1px solid var(--n-tab-border-color);\n "),we("tabs-pad","\n border-right: 1px solid var(--n-tab-border-color);\n ")])]),Fe("right",[Fe("card-type",[we("tabs-scroll-padding","border-left: 1px solid var(--n-tab-border-color);"),xe("prefix, suffix","\n border-left: 1px solid var(--n-tab-border-color);\n "),we("tabs-tab","\n border-top-right-radius: var(--n-tab-border-radius);\n border-bottom-right-radius: var(--n-tab-border-radius);\n ",[Fe("active","\n border-left: 1px solid #0000;\n ")]),we("tabs-tab-pad","\n border-left: 1px solid var(--n-tab-border-color);\n "),we("tabs-pad","\n border-left: 1px solid var(--n-tab-border-color);\n ")])]),Fe("bottom",[Fe("card-type",[we("tabs-scroll-padding","border-top: 1px solid var(--n-tab-border-color);"),xe("prefix, suffix","\n border-top: 1px solid var(--n-tab-border-color);\n "),we("tabs-tab","\n border-bottom-left-radius: var(--n-tab-border-radius);\n border-bottom-right-radius: var(--n-tab-border-radius);\n ",[Fe("active","\n border-top: 1px solid #0000;\n ")]),we("tabs-tab-pad","\n border-top: 1px solid var(--n-tab-border-color);\n "),we("tabs-pad","\n border-top: 1px solid var(--n-tab-border-color);\n ")])])])]),If=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Y(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ba(e,t,{leading:r,maxWait:t,trailing:o})},Lf=Object.assign(Object.assign({},Re.props),{value:[String,Number],defaultValue:[String,Number],trigger:{type:String,default:"click"},type:{type:String,default:"bar"},closable:Boolean,justifyContent:String,size:{type:String,default:"medium"},placement:{type:String,default:"top"},tabStyle:[String,Object],tabClass:String,addTabStyle:[String,Object],addTabClass:String,barWidth:Number,paneClass:String,paneStyle:[String,Object],paneWrapperClass:String,paneWrapperStyle:[String,Object],addable:[Boolean,Object],tabsPadding:{type:Number,default:0},animated:Boolean,onBeforeLeave:Function,onAdd:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClose:[Function,Array],labelSize:String,activeName:[String,Number],onActiveNameChange:[Function,Array]}),Nf=x({name:"Tabs",props:Lf,slots:Object,setup(e,{slots:t}){var r,o,l,s;const{mergedClsPrefixRef:d,inlineThemeDisabled:c}=Me(e),u=Re("Tabs","-tabs",jf,zn,e,d),h=f(null),p=f(null),v=f(null),m=f(null),g=f(null),b=f(null),w=f(!0),y=f(!0),x=zr(e,["labelSize","size"]),k=zr(e,["activeName","value"]),S=f(null!==(o=null!==(r=k.value)&&void 0!==r?r:e.defaultValue)&&void 0!==o?o:t.default?null===(s=null===(l=nn(t.default())[0])||void 0===l?void 0:l.props)||void 0===s?void 0:s.name:null),z=Sr(k,S),$={id:0},M=a(()=>{if(e.justifyContent&&"card"!==e.type)return{display:"flex",justifyContent:e.justifyContent}});function R(){var e;const{value:t}=z;if(null===t)return null;return null===(e=h.value)||void 0===e?void 0:e.querySelector(`[data-name="${t}"]`)}function A(e){const{value:t}=p;if(t)for(const n of e)t.style[n]=""}function O(){if("card"===e.type)return;const t=R();t?function(t){if("card"===e.type)return;const{value:n}=p;if(!n)return;const r="0"===n.style.opacity;if(t){const o=`${d.value}-tabs-bar--disabled`,{barWidth:i,placement:a}=e;if("true"===t.dataset.disabled?n.classList.add(o):n.classList.remove(o),["top","bottom"].includes(a)){if(A(["top","maxHeight","height"]),"number"==typeof i&&t.offsetWidth>=i){const e=Math.floor((t.offsetWidth-i)/2)+t.offsetLeft;n.style.left=`${e}px`,n.style.maxWidth=`${i}px`}else n.style.left=`${t.offsetLeft}px`,n.style.maxWidth=`${t.offsetWidth}px`;n.style.width="8192px",r&&(n.style.transition="none"),n.offsetWidth,r&&(n.style.transition="",n.style.opacity="1")}else{if(A(["left","maxWidth","width"]),"number"==typeof i&&t.offsetHeight>=i){const e=Math.floor((t.offsetHeight-i)/2)+t.offsetTop;n.style.top=`${e}px`,n.style.maxHeight=`${i}px`}else n.style.top=`${t.offsetTop}px`,n.style.maxHeight=`${t.offsetHeight}px`;n.style.height="8192px",r&&(n.style.transition="none"),n.offsetHeight,r&&(n.style.transition="",n.style.opacity="1")}}}(t):function(){if("card"===e.type)return;const{value:t}=p;t&&(t.style.opacity="0")}()}function P(){var e;const t=null===(e=g.value)||void 0===e?void 0:e.$el;if(!t)return;const n=R();if(!n)return;const{scrollLeft:r,offsetWidth:o}=t,{offsetLeft:i,offsetWidth:a}=n;r>i?t.scrollTo({top:0,left:i,behavior:"smooth"}):i+a>r+o&&t.scrollTo({top:0,left:i+a-o,behavior:"smooth"})}i(z,()=>{$.id=0,O(),P()});const F=f(null);let _=0,B=null;const E={value:[]},I=f("next");function L(){const{value:e}=p;if(!e)return;const t="transition-disabled";e.classList.add(t),O(),e.classList.remove(t)}const N=f(null);function H({transitionDisabled:e}){const t=h.value;if(!t)return;e&&t.classList.add("transition-disabled");const n=R();n&&N.value&&(N.value.style.width=`${n.offsetWidth}px`,N.value.style.height=`${n.offsetHeight}px`,N.value.style.transform=`translateX(${n.offsetLeft-j(getComputedStyle(t).paddingLeft)}px)`,e&&N.value.offsetWidth),e&&t.classList.remove("transition-disabled")}i([z],()=>{"segment"===e.type&&D(()=>{H({transitionDisabled:!1})})}),n(()=>{"segment"===e.type&&H({transitionDisabled:!0})});let Y=0;const W=If(function(t){var n;if(0===t.contentRect.width&&0===t.contentRect.height)return;if(Y===t.contentRect.width)return;Y=t.contentRect.width;const{type:r}=e;if("line"!==r&&"bar"!==r||L(),"segment"!==r){const{placement:t}=e;q(("top"===t||"bottom"===t?null===(n=g.value)||void 0===n?void 0:n.$el:b.value)||null)}},64);i([()=>e.justifyContent,()=>e.size],()=>{D(()=>{const{type:t}=e;"line"!==t&&"bar"!==t||L()})});const U=f(!1);const V=If(function(t){var n;const{target:r,contentRect:{width:o,height:i}}=t,a=r.parentElement.parentElement.offsetWidth,l=r.parentElement.parentElement.offsetHeight,{placement:s}=e;if(U.value){const{value:e}=m;if(!e)return;"top"===s||"bottom"===s?a-o>e.$el.offsetWidth&&(U.value=!1):l-i>e.$el.offsetHeight&&(U.value=!1)}else"top"===s||"bottom"===s?a<o&&(U.value=!0):l<i&&(U.value=!0);q((null===(n=g.value)||void 0===n?void 0:n.$el)||null)},64);function q(t){if(!t)return;const{placement:n}=e;if("top"===n||"bottom"===n){const{scrollLeft:e,scrollWidth:n,offsetWidth:r}=t;w.value=e<=0,y.value=e+r>=n}else{const{scrollTop:e,scrollHeight:n,offsetHeight:r}=t;w.value=e<=0,y.value=e+r>=n}}const X=If(e=>{q(e.target)},64);C(Df,{triggerRef:T(e,"trigger"),tabStyleRef:T(e,"tabStyle"),tabClassRef:T(e,"tabClass"),addTabStyleRef:T(e,"addTabStyle"),addTabClassRef:T(e,"addTabClass"),paneClassRef:T(e,"paneClass"),paneStyleRef:T(e,"paneStyle"),mergedClsPrefixRef:d,typeRef:T(e,"type"),closableRef:T(e,"closable"),valueRef:z,tabChangeIdRef:$,onBeforeLeaveRef:T(e,"onBeforeLeave"),activateTab:function(t){const n=z.value;let r="next";for(const e of E.value){if(e===n)break;if(e===t){r="prev";break}}I.value=r,function(t){const{onActiveNameChange:n,onUpdateValue:r,"onUpdate:value":o}=e;n&&rt(n,t);r&&rt(r,t);o&&rt(o,t);S.value=t}(t)},handleClose:function(t){const{onClose:n}=e;n&&rt(n,t)},handleAdd:function(){const{onAdd:t}=e;t&&t(),D(()=>{const e=R(),{value:t}=g;e&&t&&t.scrollTo({left:e.offsetLeft,top:0,behavior:"smooth"})})}}),Cr(()=>{O(),P()}),We(()=>{const{value:e}=v;if(!e)return;const{value:t}=d,n=`${t}-tabs-nav-scroll-wrapper--shadow-start`,r=`${t}-tabs-nav-scroll-wrapper--shadow-end`;w.value?e.classList.remove(n):e.classList.add(n),y.value?e.classList.remove(r):e.classList.add(r)});const Q={syncBarPosition:()=>{O()}},K=a(()=>{const{value:t}=x,{type:n}=e,r=`${t}${{card:"Card",bar:"Bar",line:"Line",segment:"Segment"}[n]}`,{self:{barColor:o,closeIconColor:i,closeIconColorHover:a,closeIconColorPressed:l,tabColor:s,tabBorderColor:d,paneTextColor:c,tabFontWeight:h,tabBorderRadius:p,tabFontWeightActive:f,colorSegment:v,fontWeightStrong:m,tabColorSegment:g,closeSize:b,closeIconSize:w,closeColorHover:y,closeColorPressed:k,closeBorderRadius:C,[Ae("panePadding",t)]:S,[Ae("tabPadding",r)]:z,[Ae("tabPaddingVertical",r)]:$,[Ae("tabGap",r)]:M,[Ae("tabGap",`${r}Vertical`)]:R,[Ae("tabTextColor",n)]:A,[Ae("tabTextColorActive",n)]:O,[Ae("tabTextColorHover",n)]:T,[Ae("tabTextColorDisabled",n)]:P,[Ae("tabFontSize",t)]:D},common:{cubicBezierEaseInOut:F}}=u.value;return{"--n-bezier":F,"--n-color-segment":v,"--n-bar-color":o,"--n-tab-font-size":D,"--n-tab-text-color":A,"--n-tab-text-color-active":O,"--n-tab-text-color-disabled":P,"--n-tab-text-color-hover":T,"--n-pane-text-color":c,"--n-tab-border-color":d,"--n-tab-border-radius":p,"--n-close-size":b,"--n-close-icon-size":w,"--n-close-color-hover":y,"--n-close-color-pressed":k,"--n-close-border-radius":C,"--n-close-icon-color":i,"--n-close-icon-color-hover":a,"--n-close-icon-color-pressed":l,"--n-tab-color":s,"--n-tab-font-weight":h,"--n-tab-font-weight-active":f,"--n-tab-padding":z,"--n-tab-padding-vertical":$,"--n-tab-gap":M,"--n-tab-gap-vertical":R,"--n-pane-padding-left":He(S,"left"),"--n-pane-padding-right":He(S,"right"),"--n-pane-padding-top":He(S,"top"),"--n-pane-padding-bottom":He(S,"bottom"),"--n-font-weight-strong":m,"--n-tab-color-segment":g}}),Z=c?Oe("tabs",a(()=>`${x.value[0]}${e.type[0]}`),K,e):void 0;return Object.assign({mergedClsPrefix:d,mergedValue:z,renderedNames:new Set,segmentCapsuleElRef:N,tabsPaneWrapperRef:F,tabsElRef:h,barElRef:p,addTabInstRef:m,xScrollInstRef:g,scrollWrapperElRef:v,addTabFixed:U,tabWrapperStyle:M,handleNavResize:W,mergedSize:x,handleScroll:X,handleTabsResize:V,cssVars:c?void 0:K,themeClass:null==Z?void 0:Z.themeClass,animationDirection:I,renderNameListRef:E,yScrollElRef:b,handleSegmentResize:()=>{H({transitionDisabled:!0})},onAnimationBeforeLeave:function(e){const t=F.value;if(t){_=e.getBoundingClientRect().height;const n=`${_}px`,r=()=>{t.style.height=n,t.style.maxHeight=n};B?(r(),B(),B=null):B=r}},onAnimationEnter:function(e){const t=F.value;if(t){const n=e.getBoundingClientRect().height,r=()=>{document.body.offsetHeight,t.style.maxHeight=`${n}px`,t.style.height=`${Math.max(_,n)}px`};B?(B(),B=null,r()):B=r}},onAnimationAfterEnter:function(){const t=F.value;if(t){t.style.maxHeight="",t.style.height="";const{paneWrapperStyle:n}=e;if("string"==typeof n)t.style.cssText=n;else if(n){const{maxHeight:e,height:r}=n;void 0!==e&&(t.style.maxHeight=e),void 0!==r&&(t.style.height=r)}}},onRender:null==Z?void 0:Z.onRender},Q)},render(){const{mergedClsPrefix:e,type:t,placement:n,addTabFixed:r,addable:o,mergedSize:i,renderNameListRef:a,onRender:l,paneWrapperClass:s,paneWrapperStyle:d,$slots:{default:c,prefix:u,suffix:h}}=this;null==l||l();const p=c?nn(c()).filter(e=>!0===e.type.__TAB_PANE__):[],f=c?nn(c()).filter(e=>!0===e.type.__TAB__):[],v=!f.length,m="card"===t,g="segment"===t,b=!m&&!g&&this.justifyContent;a.value=[];const w=()=>{const t=M("div",{style:this.tabWrapperStyle,class:`${e}-tabs-wrapper`},b?null:M("div",{class:`${e}-tabs-scroll-padding`,style:"top"===n||"bottom"===n?{width:`${this.tabsPadding}px`}:{height:`${this.tabsPadding}px`}}),v?p.map((e,t)=>(a.value.push(e.props.name),Uf(M(Ef,Object.assign({},e.props,{internalCreatedByPane:!0,internalLeftPadded:0!==t&&(!b||"center"===b||"start"===b||"end"===b)}),e.children?{default:e.children.tab}:void 0)))):f.map((e,t)=>(a.value.push(e.props.name),Uf(0===t||b?e:Wf(e)))),!r&&o&&m?Yf(o,0!==(v?p.length:f.length)):null,b?null:M("div",{class:`${e}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}));return M("div",{ref:"tabsElRef",class:`${e}-tabs-nav-scroll-content`},m&&o?M(F,{onResize:this.handleTabsResize},{default:()=>t}):t,m?M("div",{class:`${e}-tabs-pad`}):null,m?null:M("div",{ref:"barElRef",class:`${e}-tabs-bar`}))},y=g?"top":n;return M("div",{class:[`${e}-tabs`,this.themeClass,`${e}-tabs--${t}-type`,`${e}-tabs--${i}-size`,b&&`${e}-tabs--flex`,`${e}-tabs--${y}`],style:this.cssVars},M("div",{class:[`${e}-tabs-nav--${t}-type`,`${e}-tabs-nav--${y}`,`${e}-tabs-nav`]},Ee(u,t=>t&&M("div",{class:`${e}-tabs-nav__prefix`},t)),g?M(F,{onResize:this.handleSegmentResize},{default:()=>M("div",{class:`${e}-tabs-rail`,ref:"tabsElRef"},M("div",{class:`${e}-tabs-capsule`,ref:"segmentCapsuleElRef"},M("div",{class:`${e}-tabs-wrapper`},M("div",{class:`${e}-tabs-tab`}))),v?p.map((e,t)=>(a.value.push(e.props.name),M(Ef,Object.assign({},e.props,{internalCreatedByPane:!0,internalLeftPadded:0!==t}),e.children?{default:e.children.tab}:void 0))):f.map((e,t)=>(a.value.push(e.props.name),0===t?e:Wf(e))))}):M(F,{onResize:this.handleNavResize},{default:()=>M("div",{class:`${e}-tabs-nav-scroll-wrapper`,ref:"scrollWrapperElRef"},["top","bottom"].includes(y)?M(so,{ref:"xScrollInstRef",onScroll:this.handleScroll},{default:w}):M("div",{class:`${e}-tabs-nav-y-scroll`,onScroll:this.handleScroll,ref:"yScrollElRef"},w()))}),r&&o&&m?Yf(o,!0):null,Ee(h,t=>t&&M("div",{class:`${e}-tabs-nav__suffix`},t))),v&&(!this.animated||"top"!==y&&"bottom"!==y?Hf(p,this.mergedValue,this.renderedNames):M("div",{ref:"tabsPaneWrapperRef",style:d,class:[`${e}-tabs-pane-wrapper`,s]},Hf(p,this.mergedValue,this.renderedNames,this.onAnimationBeforeLeave,this.onAnimationEnter,this.onAnimationAfterEnter,this.animationDirection))))}});function Hf(e,t,n,r,o,i,a){const l=[];return e.forEach(e=>{const{name:r,displayDirective:o,"display-directive":i}=e.props,a=e=>o===e||i===e,s=t===r;if(void 0!==e.key&&(e.key=r),s||a("show")||a("show:lazy")&&n.has(r)){n.has(r)||n.add(r);const t=!a("if");l.push(t?S(e,[[Ve,s]]):e)}}),a?M(ut,{name:`${a}-transition`,onBeforeLeave:r,onEnter:o,onAfterEnter:i},{default:()=>l}):l}function Yf(e,t){return M(Ef,{ref:"addTabInstRef",key:"__addable",name:"__addable",internalCreatedByPane:!0,internalAddable:!0,internalLeftPadded:t,disabled:"object"==typeof e&&e.disabled})}function Wf(e){const t=et(e);return t.props?t.props.internalLeftPadded=!0:t.props={internalLeftPadded:!0},t}function Uf(e){return Array.isArray(e.dynamicProps)?e.dynamicProps.includes("internalLeftPadded")||e.dynamicProps.push("internalLeftPadded"):e.dynamicProps=["internalLeftPadded"],e}const Vf=we("text","\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n",[Fe("strong","\n font-weight: var(--n-font-weight-strong);\n "),Fe("italic",{fontStyle:"italic"}),Fe("underline",{textDecoration:"underline"}),Fe("code","\n line-height: 1.4;\n display: inline-block;\n font-family: var(--n-font-famliy-mono);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n box-sizing: border-box;\n padding: .05em .35em 0 .35em;\n border-radius: var(--n-code-border-radius);\n font-size: .9em;\n color: var(--n-code-text-color);\n background-color: var(--n-code-color);\n border: var(--n-code-border);\n ")]),qf=Object.assign(Object.assign({},Re.props),{code:Boolean,type:{type:String,default:"default"},delete:Boolean,strong:Boolean,italic:Boolean,underline:Boolean,depth:[String,Number],tag:String,as:{type:String,validator:()=>!0,default:void 0}}),Xf=x({name:"Text",props:qf,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=Me(e),r=Re("Typography","-text",Vf,$n,e,t),o=a(()=>{const{depth:t,type:n}=e,o="default"===n?void 0===t?"textColor":`textColor${t}Depth`:Ae("textColor",n),{common:{fontWeightStrong:i,fontFamilyMono:a,cubicBezierEaseInOut:l},self:{codeTextColor:s,codeBorderRadius:d,codeColor:c,codeBorder:u,[o]:h}}=r.value;return{"--n-bezier":l,"--n-text-color":h,"--n-font-weight-strong":i,"--n-font-famliy-mono":a,"--n-code-border-radius":d,"--n-code-text-color":s,"--n-code-color":c,"--n-code-border":u}}),i=n?Oe("text",a(()=>`${e.type[0]}${e.depth||""}`),o,e):void 0;return{mergedClsPrefix:t,compitableTag:zr(e,["as","tag"]),cssVars:n?void 0:o,themeClass:null==i?void 0:i.themeClass,onRender:null==i?void 0:i.onRender}},render(){var e,t,n;const{mergedClsPrefix:r}=this;null===(e=this.onRender)||void 0===e||e.call(this);const o=[`${r}-text`,this.themeClass,{[`${r}-text--code`]:this.code,[`${r}-text--delete`]:this.delete,[`${r}-text--strong`]:this.strong,[`${r}-text--italic`]:this.italic,[`${r}-text--underline`]:this.underline}],i=null===(n=(t=this.$slots).default)||void 0===n?void 0:n.call(t);return this.code?M("code",{class:o,style:this.cssVars},this.delete?M("del",null,i):i):this.delete?M("del",{class:o,style:this.cssVars},i):M(this.compitableTag||"span",{class:o,style:this.cssVars},i)}}),Qf={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Kf=An("circle",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32",cx:"256",cy:"56",r:"40"},null,-1),Zf=An("path",{fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32",d:"M204.23 274.44c2.9-18.06 4.2-35.52-.5-47.59c-4-10.38-12.7-16.19-23.2-20.15L88 176.76c-12-4-23.21-10.7-24-23.94c-1-17 14-28 29-24c0 0 88 31.14 163 31.14s162-31 162-31c18-5 30 9 30 23.79c0 14.21-11 19.21-24 23.94l-88 31.91c-8 3-21 9-26 18.18c-6 10.75-5 29.53-2.1 47.59l5.9 29.63l37.41 163.9c2.8 13.15-6.3 25.44-19.4 27.74S308 489 304.12 476.28l-37.56-115.93q-2.71-8.34-4.8-16.87L256 320l-5.3 21.65q-2.52 10.35-5.8 20.48L208 476.18c-4 12.85-14.5 21.75-27.6 19.46s-22.4-15.59-19.46-27.74l37.39-163.83z"},null,-1),Gf=[Kf,Zf],Jf=x({name:"AccessibilityOutline",render:function(e,t){return Rn(),Mn("svg",Qf,Gf)}}),ev={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},tv=An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 112v288"},null,-1),nv=An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M400 256H112"},null,-1),rv=[tv,nv],ov=x({name:"AddOutline",render:function(e,t){return Rn(),Mn("svg",ev,rv)}}),iv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},av=An("rect",{x:"64",y:"176",width:"384",height:"256",rx:"28.87",ry:"28.87",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),lv=An("path",{stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M144 80h224",fill:"currentColor"},null,-1),sv=An("path",{stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M112 128h288",fill:"currentColor"},null,-1),dv=[av,lv,sv],cv=x({name:"AlbumsOutline",render:function(e,t){return Rn(),Mn("svg",iv,dv)}}),uv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},hv=On('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M344 280l88-88"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M232 216l64 64"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M80 320l104-104"></path><circle cx="456" cy="168" r="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="320" cy="304" r="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="208" cy="192" r="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="56" cy="344" r="24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle>',7),pv=[hv],fv=x({name:"AnalyticsOutline",render:function(e,t){return Rn(),Mn("svg",uv,pv)}}),vv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},mv=An("circle",{cx:"176",cy:"416",r:"16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),gv=An("circle",{cx:"400",cy:"416",r:"16",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),bv=An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M48 80h64l48 272h256"},null,-1),wv=An("path",{d:"M160 288h249.44a8 8 0 0 0 7.85-6.43l28.8-144a8 8 0 0 0-7.85-9.57H128",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),yv=[mv,gv,bv,wv],xv=x({name:"CartOutline",render:function(e,t){return Rn(),Mn("svg",vv,yv)}}),kv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Cv=[An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M416 128L192 384l-96-96"},null,-1)],Sv=x({name:"CheckmarkOutline",render:function(e,t){return Rn(),Mn("svg",kv,Cv)}}),zv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},$v=[An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M112 184l144 144l144-144"},null,-1)],Mv=x({name:"ChevronDownOutline",render:function(e,t){return Rn(),Mn("svg",zv,$v)}}),Rv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Av=[An("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 320L192 192"},null,-1),An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M192 320l128-128"},null,-1)],Ov=x({name:"CloseCircleOutline",render:function(e,t){return Rn(),Mn("svg",Rv,Av)}}),Tv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Pv=[An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M368 368L144 144"},null,-1),An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M368 144L144 368"},null,-1)],Dv=x({name:"CloseOutline",render:function(e,t){return Rn(),Mn("svg",Tv,Pv)}}),Fv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},_v=[An("path",{d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8c-69 0-113.44 45.79-128 91.2c-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 255.79l-64-64l-64 64"},null,-1),An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 448.21V207.79"},null,-1)],Bv=x({name:"CloudUploadOutline",render:function(e,t){return Rn(),Mn("svg",Fv,_v)}}),Ev={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},jv=[An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M160 368L32 256l128-112"},null,-1),An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M352 368l128-112l-128-112"},null,-1)],Iv=x({name:"CodeOutline",render:function(e,t){return Rn(),Mn("svg",Ev,jv)}}),Lv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Nv=[An("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),An("path",{d:"M350.67 150.93l-117.2 46.88a64 64 0 0 0-35.66 35.66l-46.88 117.2a8 8 0 0 0 10.4 10.4l117.2-46.88a64 64 0 0 0 35.66-35.66l46.88-117.2a8 8 0 0 0-10.4-10.4zM256 280a24 24 0 1 1 24-24a24 24 0 0 1-24 24z",fill:"currentColor"},null,-1)],Hv=x({name:"CompassOutline",render:function(e,t){return Rn(),Mn("svg",Lv,Nv)}}),Yv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Wv=[An("rect",{x:"128",y:"128",width:"336",height:"336",rx:"57",ry:"57",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),An("path",{d:"M383.5 128l.5-24a56.16 56.16 0 0 0-56-56H112a64.19 64.19 0 0 0-64 64v216a56.16 56.16 0 0 0 56 56h24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)],Uv=x({name:"CopyOutline",render:function(e,t){return Rn(),Mn("svg",Yv,Wv)}}),Vv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},qv=[An("path",{d:"M336 176h40a40 40 0 0 1 40 40v208a40 40 0 0 1-40 40H136a40 40 0 0 1-40-40V216a40 40 0 0 1 40-40h40",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M176 272l80 80l80-80"},null,-1),An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 48v288"},null,-1)],Xv=x({name:"DownloadOutline",render:function(e,t){return Rn(),Mn("svg",Vv,qv)}}),Qv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Kv=[On('<path d="M464 256c0-114.87-93.13-208-208-208S48 141.13 48 256s93.13 208 208 208s208-93.13 208-208z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></path><path d="M445.57 172.14c-16.06.1-14.48 29.73-34.49 15.75c-7.43-5.18-12-12.71-21.33-15c-8.15-2-16.5.08-24.55 1.47c-9.15 1.58-20 2.29-26.94 9.22c-6.71 6.67-10.26 15.62-17.4 22.33c-13.81 13-19.64 27.19-10.7 45.57c8.6 17.67 26.59 27.26 46 26c19.07-1.27 38.88-12.33 38.33 15.38c-.2 9.8 1.85 16.6 4.86 25.71c2.79 8.4 2.6 16.54 3.24 25.21c1.18 16.2 4.16 34.36 12.2 48.67l15-21.16c1.85-2.62 5.72-6.29 6.64-9.38c1.63-5.47-1.58-14.87-1.95-21s-.19-12.34-1.13-18.47c-1.32-8.59-6.4-16.64-7.1-25.13c-1.29-15.81 1.6-28.43-10.58-41.65c-11.76-12.75-29-15.81-45.47-13.22c-8.3 1.3-41.71 6.64-28.3-12.33c2.65-3.73 7.28-6.79 10.26-10.34c2.59-3.09 4.84-8.77 7.88-11.18s17-5.18 21-3.95s8.17 7 11.64 9.56a49.89 49.89 0 0 0 21.81 9.36c13.66 2 42.22-5.94 42-23.46c-.04-8.4-7.84-20.1-10.92-27.96z" fill="currentColor"></path><path d="M287.45 316.3c-5.33-22.44-35.82-29.94-52.26-42.11c-9.45-7-17.86-17.81-30.27-18.69c-5.72-.41-10.51.83-16.18-.64c-5.2-1.34-9.28-4.14-14.82-3.41c-10.35 1.36-16.88 12.42-28 10.92c-10.55-1.42-21.42-13.76-23.82-23.81c-3.08-12.92 7.14-17.11 18.09-18.26c4.57-.48 9.7-1 14.09.67c5.78 2.15 8.51 7.81 13.7 10.67c9.73 5.33 11.7-3.19 10.21-11.83c-2.23-12.94-4.83-18.22 6.71-27.12c8-6.14 14.84-10.58 13.56-21.61c-.76-6.48-4.31-9.41-1-15.86c2.51-4.91 9.4-9.34 13.89-12.27c11.59-7.56 49.65-7 34.1-28.16c-4.57-6.21-13-17.31-21-18.83c-10-1.89-14.44 9.27-21.41 14.19c-7.2 5.09-21.22 10.87-28.43 3c-9.7-10.59 6.43-14.07 10-21.46s-8.27-21.36-14.61-24.9l-29.81 33.43a41.52 41.52 0 0 0 8.34 31.86c5.93 7.63 15.37 10.08 15.8 20.5c.42 10-1.14 15.12-7.68 22.15c-2.83 3-4.83 7.26-7.71 10.07c-3.53 3.43-2.22 2.38-7.73 3.32c-10.36 1.75-19.18 4.45-29.19 7.21C95.34 199.94 93.8 172.69 86.2 162l-25 20.19c-.27 3.31 4.1 9.4 5.29 13c6.83 20.57 20.61 36.48 29.51 56.16c9.37 20.84 34.53 15.06 45.64 33.32c9.86 16.2-.67 36.71 6.71 53.67c5.36 12.31 18 15 26.72 24c8.91 9.09 8.72 21.53 10.08 33.36a305.22 305.22 0 0 0 7.45 41.28c1.21 4.69 2.32 10.89 5.53 14.76c2.2 2.66 9.75 4.95 6.7 5.83c4.26.7 11.85 4.68 15.4 1.76c4.68-3.84 3.43-15.66 4.24-21c2.43-15.9 10.39-31.45 21.13-43.35c10.61-11.74 25.15-19.69 34.11-33c8.73-12.98 11.36-30.49 7.74-45.68zm-33.39 26.32c-6 10.71-19.36 17.88-27.95 26.39c-2.33 2.31-7.29 10.31-10.21 8.58c-2.09-1.24-2.8-11.62-3.57-14a61.17 61.17 0 0 0-21.71-29.95c-3.13-2.37-10.89-5.45-12.68-8.7c-2-3.53-.2-11.86-.13-15.7c.11-5.6-2.44-14.91-1.06-20c1.6-5.87-1.48-2.33 3.77-3.49c2.77-.62 14.21 1.39 17.66 2.11c5.48 1.14 8.5 4.55 12.82 8c11.36 9.11 23.87 16.16 36.6 23.14c9.86 5.46 12.76 12.37 6.46 23.62z" fill="currentColor"></path><path d="M184.46 67.09c4.74 4.63 9.2 10.11 16.27 10.57c6.69.45 13-3.17 18.84 1.38c6.48 5 11.15 11.33 19.75 12.89c8.32 1.51 17.13-3.35 19.19-11.86c2-8.11-2.31-16.93-2.57-25.07c0-1.13.61-6.15-.17-7c-.58-.64-5.42.08-6.16.1q-8.13.24-16.22 1.12a207.1 207.1 0 0 0-57.18 14.65c2.43 1.68 5.48 2.35 8.25 3.22z" fill="currentColor"></path><path d="M356.4 123.27c8.49 0 17.11-3.8 14.37-13.62c-2.3-8.23-6.22-17.16-15.76-12.72c-6.07 2.82-14.67 10-15.38 17.12c-.81 8.08 11.11 9.22 16.77 9.22z" fill="currentColor"></path><path d="M349.62 166.24c8.67 5.19 21.53 2.75 28.07-4.66c5.11-5.8 8.12-15.87 17.31-15.86a15.4 15.4 0 0 1 10.82 4.41c3.8 3.93 3.05 7.62 3.86 12.54c1.81 11.05 13.66.63 16.75-3.65c2-2.79 4.71-6.93 3.8-10.56c-.84-3.39-4.8-7-6.56-10.11c-5.14-9-9.37-19.47-17.07-26.74c-7.41-7-16.52-6.19-23.55 1.08c-5.76 6-12.45 10.75-16.39 18.05c-2.78 5.13-5.91 7.58-11.54 8.91c-3.1.73-6.64 1-9.24 3.08c-7.24 5.7-3.12 19.39 3.74 23.51z" fill="currentColor"></path>',6)],Zv=x({name:"EarthOutline",render:function(e,t){return Rn(),Mn("svg",Qv,Kv)}}),Gv={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Jv=[An("path",{d:"M440 432H72a40 40 0 0 1-40-40V120a40 40 0 0 1 40-40h75.89a40 40 0 0 1 22.19 6.72l27.84 18.56a40 40 0 0 0 22.19 6.72H440a40 40 0 0 1 40 40v240a40 40 0 0 1-40 40z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M32 192h448"},null,-1)],em=x({name:"FolderOutline",render:function(e,t){return Rn(),Mn("svg",Gv,Jv)}}),tm={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},nm=[An("rect",{x:"48",y:"80",width:"416",height:"352",rx:"48",ry:"48",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),An("circle",{cx:"336",cy:"176",r:"32",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),An("path",{d:"M304 335.79l-90.66-90.49a32 32 0 0 0-43.87-1.3L48 352",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),An("path",{d:"M224 432l123.34-123.34a32 32 0 0 1 43.11-2L464 368",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)],rm=x({name:"ImageOutline",render:function(e,t){return Rn(),Mn("svg",tm,nm)}}),om={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},im=[On('<path d="M432 112V96a48.14 48.14 0 0 0-48-48H64a48.14 48.14 0 0 0-48 48v256a48.14 48.14 0 0 0 48 48h16" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32"></path><rect x="96" y="128" width="400" height="336" rx="45.99" ry="45.99" fill="none" stroke="currentColor" stroke-linejoin="round" stroke-width="32"></rect><ellipse cx="372.92" cy="219.64" rx="30.77" ry="30.55" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></ellipse><path d="M342.15 372.17L255 285.78a30.93 30.93 0 0 0-42.18-1.21L96 387.64" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path d="M265.23 464l118.59-117.73a31 31 0 0 1 41.46-1.87L496 402.91" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path>',5)],am=x({name:"ImagesOutline",render:function(e,t){return Rn(),Mn("svg",om,im)}}),lm={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},sm=[On('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M48 112h288"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M192 64v48"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M272 448l96-224l96 224"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M301.5 384h133"></path><path d="M281.3 112S257 206 199 277S80 384 80 384" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path d="M256 336s-35-27-72-75s-56-85-56-85" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path>',6)],dm=x({name:"LanguageOutline",render:function(e,t){return Rn(),Mn("svg",lm,sm)}}),cm={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},um=[An("rect",{x:"48",y:"96",width:"416",height:"304",rx:"32.14",ry:"32.14",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),An("path",{stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M16 416h480",fill:"currentColor"},null,-1)],hm=x({name:"LaptopOutline",render:function(e,t){return Rn(),Mn("svg",cm,um)}}),pm={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},fm=[On('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M224 184h128"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M224 256h128"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M224 327h128"></path><path d="M448 258c0-106-86-192-192-192S64 152 64 258s86 192 192 192s192-86 192-192z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></path><circle cx="168" cy="184" r="8" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="168" cy="257" r="8" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="168" cy="328" r="8" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle>',7)],vm=x({name:"ListCircleOutline",render:function(e,t){return Rn(),Mn("svg",pm,fm)}}),mm={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},gm=[On('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 144h288"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 256h288"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 368h288"></path><circle cx="80" cy="144" r="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="80" cy="256" r="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="80" cy="368" r="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle>',6)],bm=x({name:"ListOutline",render:function(e,t){return Rn(),Mn("svg",mm,gm)}}),wm={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ym=[An("path",{d:"M304 336v40a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V136a40 40 0 0 1 40-40h152c22.09 0 48 17.91 48 40v40",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M368 336l80-80l-80-80"},null,-1),An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M176 256h256"},null,-1)],xm=x({name:"LogOutOutline",render:function(e,t){return Rn(),Mn("svg",wm,ym)}}),km={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Cm=[An("path",{d:"M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z",fill:"currentColor"},null,-1)],Sm=x({name:"MenuSharp",render:function(e,t){return Rn(),Mn("svg",km,Cm)}}),zm={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},$m=[An("path",{d:"M160 136c0-30.62 4.51-61.61 16-88C99.57 81.27 48 159.32 48 248c0 119.29 96.71 216 216 216c88.68 0 166.73-51.57 200-128c-26.39 11.49-57.38 16-88 16c-119.29 0-216-96.71-216-216z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)],Mm=x({name:"MoonOutline",render:function(e,t){return Rn(),Mn("svg",zm,$m)}}),Rm={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Am=[On('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M368 128h80"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M64 128h240"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M368 384h80"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M64 384h240"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M208 256h240"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M64 256h80"></path><circle cx="336" cy="128" r="32" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="176" cy="256" r="32" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="336" cy="384" r="32" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle>',9)],Om=x({name:"OptionsOutline",render:function(e,t){return Rn(),Mn("svg",Rm,Am)}}),Tm={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Pm=[An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M364.13 125.25L87 403l-23 45l44.99-23l277.76-277.13l-22.62-22.62z"},null,-1),An("path",{d:"M420.69 68.69l-22.62 22.62l22.62 22.63l22.62-22.63a16 16 0 0 0 0-22.62h0a16 16 0 0 0-22.62 0z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)],Dm=x({name:"PencilOutline",render:function(e,t){return Rn(),Mn("svg",Tm,Pm)}}),Fm={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},_m=[An("path",{d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),An("path",{d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1)],Bm=x({name:"PersonOutline",render:function(e,t){return Rn(),Mn("svg",Fm,_m)}}),Em={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},jm=[An("path",{d:"M256.05 80.65Q263.94 80 272 80c106 0 192 86 192 192s-86 192-192 192A192.09 192.09 0 0 1 89.12 330.65",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),An("path",{d:"M256 48C141.12 48 48 141.12 48 256a207.29 207.29 0 0 0 18.09 85L256 256z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)],Im=x({name:"PieChartOutline",render:function(e,t){return Rn(),Mn("svg",Em,jm)}}),Lm={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Nm=[An("path",{d:"M320 146s24.36-12-64-12a160 160 0 1 0 160 160",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 58l80 80l-80 80"},null,-1)],Hm=x({name:"RefreshOutline",render:function(e,t){return Rn(),Mn("svg",Lm,Nm)}}),Ym={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Wm=[An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M400 256H112"},null,-1)],Um=x({name:"RemoveOutline",render:function(e,t){return Rn(),Mn("svg",Ym,Wm)}}),Vm={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},qm=[An("path",{d:"M221.09 64a157.09 157.09 0 1 0 157.09 157.09A157.1 157.1 0 0 0 221.09 64z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32",d:"M338.29 338.29L448 448"},null,-1)],Xm=x({name:"SearchOutline",render:function(e,t){return Rn(),Mn("svg",Vm,qm)}}),Qm={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Km=[An("path",{d:"M262.29 192.31a64 64 0 1 0 57.4 57.4a64.13 64.13 0 0 0-57.4-57.4zM416.39 256a154.34 154.34 0 0 1-1.53 20.79l45.21 35.46a10.81 10.81 0 0 1 2.45 13.75l-42.77 74a10.81 10.81 0 0 1-13.14 4.59l-44.9-18.08a16.11 16.11 0 0 0-15.17 1.75A164.48 164.48 0 0 1 325 400.8a15.94 15.94 0 0 0-8.82 12.14l-6.73 47.89a11.08 11.08 0 0 1-10.68 9.17h-85.54a11.11 11.11 0 0 1-10.69-8.87l-6.72-47.82a16.07 16.07 0 0 0-9-12.22a155.3 155.3 0 0 1-21.46-12.57a16 16 0 0 0-15.11-1.71l-44.89 18.07a10.81 10.81 0 0 1-13.14-4.58l-42.77-74a10.8 10.8 0 0 1 2.45-13.75l38.21-30a16.05 16.05 0 0 0 6-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 0 0-6.07-13.94l-38.19-30A10.81 10.81 0 0 1 49.48 186l42.77-74a10.81 10.81 0 0 1 13.14-4.59l44.9 18.08a16.11 16.11 0 0 0 15.17-1.75A164.48 164.48 0 0 1 187 111.2a15.94 15.94 0 0 0 8.82-12.14l6.73-47.89A11.08 11.08 0 0 1 213.23 42h85.54a11.11 11.11 0 0 1 10.69 8.87l6.72 47.82a16.07 16.07 0 0 0 9 12.22a155.3 155.3 0 0 1 21.46 12.57a16 16 0 0 0 15.11 1.71l44.89-18.07a10.81 10.81 0 0 1 13.14 4.58l42.77 74a10.8 10.8 0 0 1-2.45 13.75l-38.21 30a16.05 16.05 0 0 0-6.05 14.08c.33 4.14.55 8.3.55 12.47z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1)],Zm=x({name:"SettingsOutline",render:function(e,t){return Rn(),Mn("svg",Qm,Km)}}),Gm={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Jm=[On('<circle cx="128" cy="256" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="384" cy="112" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><circle cx="384" cy="400" r="48" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></circle><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M169.83 279.53l172.34 96.94"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M342.17 135.53l-172.34 96.94"></path>',5)],eg=x({name:"ShareSocialOutline",render:function(e,t){return Rn(),Mn("svg",Gm,Jm)}}),tg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ng=[An("path",{d:"M259.92 262.91L216.4 149.77a9 9 0 0 0-16.8 0l-43.52 113.14a9 9 0 0 1-5.17 5.17L37.77 311.6a9 9 0 0 0 0 16.8l113.14 43.52a9 9 0 0 1 5.17 5.17l43.52 113.14a9 9 0 0 0 16.8 0l43.52-113.14a9 9 0 0 1 5.17-5.17l113.14-43.52a9 9 0 0 0 0-16.8l-113.14-43.52a9 9 0 0 1-5.17-5.17z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M108 68L88 16L68 68L16 88l52 20l20 52l20-52l52-20l-52-20z"},null,-1),An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M426.67 117.33L400 48l-26.67 69.33L304 144l69.33 26.67L400 240l26.67-69.33L496 144l-69.33-26.67z"},null,-1)],rg=x({name:"SparklesOutline",render:function(e,t){return Rn(),Mn("svg",tg,ng)}}),og={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ig=[On('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M256 48v48"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M256 416v48"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M403.08 108.92l-33.94 33.94"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M142.86 369.14l-33.94 33.94"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M464 256h-48"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M96 256H48"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M403.08 403.08l-33.94-33.94"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M142.86 142.86l-33.94-33.94"></path><circle cx="256" cy="256" r="80" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32"></circle>',9)],ag=x({name:"SunnyOutline",render:function(e,t){return Rn(),Mn("svg",og,ig)}}),lg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},sg=[An("path",{d:"M256 64C150 64 64 150 64 256s86 192 192 192s192-86 192-192S362 64 256 64z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),An("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 128v144h96"},null,-1)],dg=x({name:"TimeOutline",render:function(e,t){return Rn(),Mn("svg",lg,sg)}}),cg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ug=[On('<path d="M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32" d="M80 112h352" fill="currentColor"></path><path d="M192 112V72h0a23.93 23.93 0 0 1 24-24h80a23.93 23.93 0 0 1 24 24h0v40" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 176v224"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M184 176l8 224"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M328 176l-8 224"></path>',6)],hg=x({name:"TrashOutline",render:function(e,t){return Rn(),Mn("svg",cg,ug)}}),pg={format:(e,t=0,n=".",r=",")=>{const o=e.toFixed(t);let[i,a]=o.split(".");return i=i.replace(/\B(?=(\d{3})+(?!\d))/g,r),a?`${i}${n}${a}`:i},fileSize:(e,t=2)=>{if(0===e)return"0 B";const n=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,n)).toFixed(t)} ${["B","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}`},currency:(e,t="CNY",n="zh-CN")=>new Intl.NumberFormat(n,{style:"currency",currency:t}).format(e),calculateAspectRatio:(e,t)=>{if(!e||!t)return"Unknown";const n=(e,t)=>0===t?e:n(t,e%t),r=n(e,t);return`${e/r}:${t/r}`},formatDimensions:(e,t)=>e&&t?`${e} × ${t} pixels`:"Unknown"},fg={class:"flex flex-col"},vg={class:"h-14 flex items-center justify-center px-4 border-b border-zinc-200 dark:border-zinc-800"},mg={class:"flex flex-col gap-1 p-3"},gg=["onClick"],bg=["onClick"],wg={class:"flex flex-col gap-1 mt-1 ml-3 pl-3 border-l border-zinc-200 dark:border-zinc-800"},yg=["onClick"],xg={class:"flex flex-col gap-2 px-4 py-4 border-t border-zinc-200 dark:border-zinc-800"},kg={class:"text-xs font-medium text-zinc-500 dark:text-zinc-400"},Cg={class:"h-2 bg-zinc-200 dark:bg-zinc-700 rounded-full overflow-hidden"},Sg={class:"text-xs text-zinc-500 dark:text-zinc-400"},zg=x({__name:"Sidebar",setup(e){const{t:t}=Tn(),n=a(()=>{var e,n;const r=[];return(null==(n=null==(e=c.configs)?void 0:e.app)?void 0:n.enable_explore)&&r.push({label:t("Square"),key:"/explore",icon:Xm}),r.push({label:t("Dashboard"),key:"/user/dashboard",icon:Im}),r}),r=a(()=>[{type:"group",label:t("General"),key:"basic",children:[{label:t("My Photos"),key:"/user/photos",icon:am},{label:t("My Albums"),key:"/user/albums",icon:cv},{label:t("My Shares"),key:"/user/shares",icon:eg}]},{type:"group",label:t("Finance"),key:"finance",children:[{label:t("Purchase Subscription"),key:"/user/plans",icon:xv},{label:t("My Orders"),key:"/user/orders",icon:bm}]},{type:"group",label:t("Others"),key:"other",children:[{label:t("My Tickets"),key:"/user/tickets",icon:Zv},{label:t("My Tokens"),key:"/user/tokens",icon:fv},{label:t("Profile"),key:"/user/profile",icon:Bm},{label:t("Settings"),key:"/user/settings",icon:Om}]}]),o=Dn(),l=f(o.path),s=Fn(),d=_n(),c=Pn(),u=Bn(),h=Nn(),p=f(new Set);function v(e){return p.value.has(e)}function m(e){return e.children.some(e=>e.key===l.value)}function g(e){h.push(e).then(()=>{d.isMobile&&s.setSidebarOpen(!1)})}const b=a(()=>{var e,t;const n=(null==(e=u.profile)?void 0:e.used_storage)||0,r=(null==(t=u.profile)?void 0:t.total_storage)||0;return 0===r?0:Math.min(n/r*100,100)}),w=a(()=>{var e;return pg.fileSize(1024*((null==(e=u.profile)?void 0:e.used_storage)||0))}),y=a(()=>{var e;return pg.fileSize(1024*((null==(e=u.profile)?void 0:e.total_storage)||0))});return i(()=>o.path,e=>l.value=e),(e,t)=>(Rn(),Mn(Ze,null,[En(De,null,{default:jn(()=>[Ln(d).isMobile&&Ln(s).isSidebarOpen?(Rn(),Mn("div",{key:0,class:"fixed inset-0 bg-black/50 z-[9] w-full",onClick:t[0]||(t[0]=e=>Ln(s).setSidebarOpen(!1))})):In("",!0)]),_:1}),En(Ln(hf),{collapsed:!Ln(s).isSidebarOpen,"collapsed-width":0,"native-scrollbar":!1,position:Ln(d).isMobile?"absolute":"static",width:240,bordered:"",class:"z-10","collapse-mode":"transform","content-class":"flex flex-col min-h-full justify-between bg-white dark:bg-zinc-950"},{default:jn(()=>{var o,i,a,s;return[An("div",fg,[An("div",vg,[An("p",{class:"truncate text-base font-semibold text-zinc-900 dark:text-zinc-100 cursor-pointer hover:text-zinc-600 dark:hover:text-zinc-300 transition-colors",onClick:t[1]||(t[1]=()=>Ln(h).push("/"))},Hn((null==(i=null==(o=Ln(c).configs)?void 0:o.app)?void 0:i.title)||(null==(s=null==(a=Ln(c).configs)?void 0:a.site)?void 0:s.title)),1)]),An("nav",mg,[(Rn(!0),Mn(Ze,null,Yn(n.value,e=>(Rn(),Mn("button",{key:e.key,onClick:t=>g(e.key),class:Wn(["flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors",l.value===e.key?"bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100":"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800 hover:text-zinc-900 dark:hover:text-zinc-100"])},[(Rn(),Un(Vn(e.icon),{class:"w-4 h-4 flex-shrink-0"})),An("span",null,Hn(e.label),1)],10,gg))),128)),(Rn(!0),Mn(Ze,null,Yn(r.value,e=>(Rn(),Mn("div",{key:e.key,class:"mt-2"},[An("button",{onClick:t=>{return n=e.key,void(p.value.has(n)?p.value.delete(n):p.value.add(n));var n},class:Wn(["w-full flex items-center justify-between px-3 py-2 rounded-md text-sm font-medium transition-colors",m(e)?"text-zinc-900 dark:text-zinc-100":"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800 hover:text-zinc-900 dark:hover:text-zinc-100"])},[An("span",null,Hn(e.label),1),(Rn(),Un(Vn(Ln(Mv)),{class:Wn(["w-4 h-4 transition-transform duration-200",v(e.key)?"rotate-180":""])},null,8,["class"]))],10,bg),An("div",{class:Wn(["overflow-hidden transition-all duration-200",v(e.key)?"max-h-96 opacity-100":"max-h-0 opacity-0"])},[An("div",wg,[(Rn(!0),Mn(Ze,null,Yn(e.children,e=>(Rn(),Mn("button",{key:e.key,onClick:t=>g(e.key),class:Wn(["flex items-center gap-3 px-3 py-2 rounded-md text-sm transition-colors",l.value===e.key?"bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 font-medium":"text-zinc-500 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-800 hover:text-zinc-900 dark:hover:text-zinc-100"])},[(Rn(),Un(Vn(e.icon),{class:"w-4 h-4 flex-shrink-0"})),An("span",null,Hn(e.label),1)],10,yg))),128))])],2)]))),128))])]),An("div",xg,[An("p",kg,Hn(e.$t("Storage Usage")),1),An("div",Cg,[An("div",{class:"h-full bg-emerald-500 rounded-full transition-all duration-300",style:pn({width:b.value+"%"})},null,4)]),An("p",Sg,Hn(w.value)+" / "+Hn(y.value),1)])]}),_:1},8,["collapsed","position"])],64))}}),$g=qn(zg,[["__scopeId","data-v-dbd1c3fe"]]),Mg={class:"flex flex-col space-y-1 divide-y divide-amber-400"},Rg={class:"truncate"},Ag={class:"flex justify-between text-sm"},Og={class:"flex space-x-1"},Tg={class:"flex space-x-1"},Pg=x({__name:"MoreButton",setup(e){const t=Tn(),n=Fn(),r=Pn(),o=Xn(),l=Qn(),s=Bn(),d=a(()=>o.isDark),c=f(),u=f(l.locale),h=l.getLocales();return i(u,()=>{l.setLocale(u.value),s.token&&s.isLoggedIn&&Jn({body:{language:u.value}}).then(e=>{n.refresh()}).catch(e=>{})}),(e,n)=>(Rn(),Un(Ln(El),{ref_key:"popoverRef",ref:c,class:"!rounded-lg min-w-[200px] md:w-[280px] max-w-[300px]","content-style":{padding:"6px 8px"},placement:"bottom-end","show-arrow":"",trigger:"click"},{trigger:jn(()=>[En(Ln(Ut),{circle:"",secondary:"",strong:"",title:Ln(t).t("More")},{icon:jn(()=>[En(Ln(du),{component:Ln(vm),size:25},null,8,["component"])]),_:1},8,["title"])]),footer:jn(()=>[An("div",Ag,[An("div",Og,[En(Ln(Ut),{size:"small",text:"",onClick:n[0]||(n[0]=e=>Ln(o).toggleTheme())},{icon:jn(()=>[En(Ln(du),{component:d.value?Ln(ag):Ln(Mm),size:18},null,8,["component"])]),default:jn(()=>[Kn(" "+Hn(d.value?e.$t("Light Mode"):e.$t("Dark Mode")),1)]),_:1})]),An("div",Tg,[En(Ln(Kc),{value:u.value,"onUpdate:value":n[1]||(n[1]=e=>u.value=e),options:Ln(h),trigger:"click"},{default:jn(()=>[En(Ln(Ut),{size:"small",text:""},{icon:jn(()=>[En(Ln(du),{component:Ln(dm),size:18},null,8,["component"])]),default:jn(()=>{var e;return[Kn(" "+Hn(null==(e=Ln(h).find(e=>e.value===u.value))?void 0:e.label),1)]}),_:1})]),_:1},8,["value","options"])])])]),default:jn(()=>[An("div",Mg,[(Rn(!0),Mn(Ze,null,Yn(Ln(r).pages,e=>(Rn(),Un(Ln(Ut),{block:"",quaternary:"",class:"justify-start px-2",onClick:t=>(e=>{c.value.setShow(!1),"internal"===e.type?Gn.push(`/pages/${e.slug}`):window.open(e.url)})(e)},{icon:jn(()=>[En(Ln(Zn),{icon:e.icon||"",size:"sm"},null,8,["icon"])]),default:jn(()=>[An("p",Rg,Hn(e.name),1)]),_:2},1032,["onClick"]))),256))])]),_:1},512))}}),Dg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},Fg=[An("path",{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5C64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9c26.4 39.1 77.9 32.5 104 26c5.7-23.5 17.9-44.5 34.7-60.8c-140.6-25.2-199.2-111-199.2-213c0-49.5 16.3-95 48.3-131.7c-20.4-60.5 1.9-112.3 4.9-120c58.1-5.2 118.5 41.6 123.2 45.3c33-8.9 70.7-13.6 112.9-13.6c42.4 0 80.2 4.9 113.5 13.9c11.3-8.6 67.3-48.8 121.3-43.9c2.9 7.7 24.7 58.3 5.5 118c32.4 36.8 48.9 82.7 48.9 132.3c0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9c177.1-59.7 304.6-227 304.6-424.1c0-247.2-200.4-447.3-447.5-447.3z",fill:"currentColor"},null,-1)],_g=x({name:"GithubFilled",render:function(e,t){return Rn(),Mn("svg",Dg,Fg)}}),Bg={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},Eg=[An("defs",null,null,-1),An("path",{d:"M521.7 82c-152.5-.4-286.7 78.5-363.4 197.7c-3.4 5.3.4 12.3 6.7 12.3h70.3c4.8 0 9.3-2.1 12.3-5.8c7-8.5 14.5-16.7 22.4-24.5c32.6-32.5 70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8c47.9 0 94.3 9.3 137.9 27.8c42.2 17.8 80.1 43.4 112.7 75.9c32.6 32.5 58.1 70.4 76 112.5C865.7 417.8 875 464.1 875 512c0 47.9-9.4 94.2-27.8 137.8c-17.8 42.1-43.4 80-76 112.5s-70.5 58.1-112.7 75.9A352.8 352.8 0 0 1 520.6 866c-47.9 0-94.3-9.4-137.9-27.8A353.84 353.84 0 0 1 270 762.3c-7.9-7.9-15.3-16.1-22.4-24.5c-3-3.7-7.6-5.8-12.3-5.8H165c-6.3 0-10.2 7-6.7 12.3C234.9 863.2 368.5 942 520.6 942c236.2 0 428-190.1 430.4-425.6C953.4 277.1 761.3 82.6 521.7 82zM395.02 624v-76h-314c-4.4 0-8-3.6-8-8v-56c0-4.4 3.6-8 8-8h314v-76c0-6.7 7.8-10.5 13-6.3l141.9 112a8 8 0 0 1 0 12.6l-141.9 112c-5.2 4.1-13 .4-13-6.3z",fill:"currentColor"},null,-1)],jg=x({name:"LoginOutlined",render:function(e,t){return Rn(),Mn("svg",Bg,Eg)}}),Ig={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},Lg=[An("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448s448-200.6 448-448S759.4 64 512 64zm210.5 612.4c-11.5 1.4-44.9-52.7-44.9-52.7c0 31.3-16.2 72.2-51.1 101.8c16.9 5.2 54.9 19.2 45.9 34.4c-7.3 12.3-125.6 7.9-159.8 4c-34.2 3.8-152.5 8.3-159.8-4c-9.1-15.2 28.9-29.2 45.8-34.4c-35-29.5-51.1-70.4-51.1-101.8c0 0-33.4 54.1-44.9 52.7c-5.4-.7-12.4-29.6 9.4-99.7c10.3-33 22-60.5 40.2-105.8c-3.1-116.9 45.3-215 160.4-215c113.9 0 163.3 96.1 160.4 215c18.1 45.2 29.9 72.8 40.2 105.8c21.7 70.1 14.6 99.1 9.3 99.7z",fill:"currentColor"},null,-1)],Ng=x({name:"QqCircleFilled",render:function(e,t){return Rn(),Mn("svg",Ig,Lg)}}),Hg={getSocialiteIcon:e=>({qq:Ng,github:_g}[e]||Jf),getWithoutQueryUrl:()=>window.location.origin+window.location.pathname,getUserAvatar:e=>e||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAGdklEQVR4Xu3d60rjUBiF4bn/exJBRAZERBARQaRX0mFpyuiqPaSmfnvv9f54/gxjm8P31jZN4p/VarUGUv3xfwCSEACiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEQCiEcCZvby8rB8eHta3t7frm5ub9cXFxV76P/q/+hn9rD8elkUAZ/D09PQ+xJeXl1sDPpceQ4+lx/Tnwc8RwELe3t7W9/f366urq60hXooeW8+h5/Lnx2kIYAEayiVe7Y+l59Jz+nJgPgL4gefn57O+4h+i59Yy+HLheARworu7u62BrKJl8eXDcQhgptfX1/X19fXWEFbTMmnZfHmxHwHMoMOSv/lefy4tG4dO5yGAI7U+/BtEMA8BHKGX4d8gguMRwAF6X93T8G9omflMcBgBHNDiB95jadl9ffAVAezR0qHOU3GIdD8C2EFfMPkw9Yovy3YjgB0qv+FdmtbF1w8fCOAbOs/Gh6h3nDv0PQIwOtOyx6M+h2idOIt0GwGYEV/9N/gtsI0AzEjv/R2fBbYRwCe66sqHZjRcWfYVAXyiSw99YEajdfT1TkYAn4z44ddpHX29kxHARCeP+bCMihPl/iOAiW5D4oMyKq2rr38qApgkvP/f4HPAfwQwOeamVaPQuvr6pyKAiQ/J6Hz9UxHAxAdkdL7+qQhg4gMyOl//VASw+jgBzgdkdL4NUhHAigCSEcDEB2R0vv6pCGDiAzI6X/9UBDDxARmdr38qApjwRVgmAphwKkQmAphwMlwmAphwOnQmAviEC2LyEMAnCZ8DeP//FQF8wkXxeQjAcFuULARgRj4axI2xthGA4daIWQjgGyPeHpFX/+8RwA4jfRbgvf9uBLADfyAjAwHswZ9IGh8BHMAfyRsbARzAn0kdGwEcgT+UPS4COFIvETD88xDADK1HwPDPRwAz6X11ix+MtUy855+PAE7U0iFSDnWejgB+QF8wVX5jrOfmS66fIYAF6Dyb3/xsoOfi3J5lEMBCdKalhvKcvxH02HoOzupcDgGcga660qWHS/xW0GPosbiS6zwI4Mx0WFIX2WiIj7n5lv6P/q9+hkOa50cAiEYAiEYAiEYAiEYAiEYAiEYAiEYAiEYAiEYAiEYAiEYAiEYAiEYAiEYAiEYAiEYAC9IF6qLLFuXv37/vF7icchsV/ZzoMTaPt3l8f16cjgBOoCu1Hh8f34dSQ3rO64B30XPqubUMWhauHjsNARygm01pwHTvnWMuaaymZdSyapm5UdZhBGA2A6/rcite2ZemddC6EMT3CGD1cRcHvWqOMPCHaB21rtxl4kNsAEveuqRX3HIlLACGfrfUGIYPQO97z33HttFs7kCX8Jlh2AB0vFzH0H3nYh5tw5G/exguAB3tOOWLJ+ynbapt69u7d8MEoJ3D25zz0zYeKYTuA9CvZ17xf5+2+QhvjboNQB/QeI9fT/ug5w/LXQagOydzKLMd2hfaJ76fetBVAPrDED2cj5NK+6a3P97RTQB6v8mrfvu0j3r6bNBFADrq4BsabevlSFHzAejred+46IP2ne/P1jQdAMPfv9YjaDYAHVXwjYk+tXyEqMkAdEaib0T0rdWzTJsLQIfRONozHu3TFg+RNhcA3+6OS/vW93e1pgLQ8WPfaBhLa98RNBUA3/KOT/vY93ulZgLQCVW+sTCmlk6eayYADnvmaOmwaDMB8PYnR0tvg5oJgEOfObSvff9XaSYA30gYm+//Kk0EoC9IfANhbD4DVZoIgOP/eXwGqhAASvgMVCEAlPAZqEIAKOEzUIUAUMJnoAoBoITPQBUCQAmfgSoEgBI+A1UIACV8BqoQAEr4DFQhAJTwGahCACjhM1CFAFDCZ6AKAaCEz0AVAkAJn4EqBIASPgNVCAAlfAaqEABK+AxUIQCU8BmoQgAo4TNQhQBQwmegCgGghM9AFQJACZ+BKgSAEj4DVQgAJXwGqhAASvgMVCEAlPAZqEIAKOEzUIUAUMJnoAoBoITPQBUCQAmfgSoEgBI+A1UIACV8BqoQAEr4DFQhAJTwGahCACjhM1CFAFDCZ6AKAaCEz0AVAkAJn4Eq/wBRE6hjunFhcwAAAABJRU5ErkJggg=="},Yg=x({__name:"UserButton",setup(e){const t=Bn(),n=Pn(),{t:r}=Tn();function o(e){return()=>M(du,null,{default:()=>M(e)})}const i=a(()=>{var e;return[{key:"header",type:"render",render:()=>{var e;return M("div",{class:"flex items-center p-3 min-w-[260px] max-w-[300px] md:max-w-[400px]"},[M(bs,{round:!0,class:"mr-3 shrink-0",src:Hg.getUserAvatar(null==(e=t.profile)?void 0:e.avatar_url)}),M("div",{class:"overflow-hidden"},[M("div",{class:"text-lg truncate"},[M(Xf,{depth:2},{default:()=>{var e;return null==(e=t.profile)?void 0:e.name}})]),M("div",{class:"text-sm truncate"},[M(Xf,{depth:3},{default:()=>{var e,n;return(null==(e=t.profile)?void 0:e.tagline)||(null==(n=t.profile)?void 0:n.email)}})])])])}},{key:"header-divider",type:"divider"},{label:r("Dashboard"),key:"dashboard",icon:o(Im)},{label:r("My Photos"),key:"photos",icon:o(am)},{label:r("Profile"),key:"profile",icon:o(Bm)},{label:r("Settings"),key:"settings",icon:o(Om)},{label:r("Admin Panel"),key:"admin",icon:o(hm),show:null==(e=t.profile)?void 0:e.is_admin},{key:"header-divider",type:"divider"},{label:r("Logout"),key:"logout",icon:o(xm)}]}),l=e=>{var r;switch(e){case"dashboard":case"photos":case"settings":Gn.push(`/user/${e}`);break;case"profile":Gn.push("/user/profile");break;case"admin":window.open(`${null==(r=n.configs)?void 0:r.app.url}/admin`);break;case"logout":t.removeToken(),t.setUserProfile({}),t.setIsLoggedIn(!1),window.location.href="/"}};return(e,n)=>(Rn(),Un(Ln(yu),{options:i.value,placement:"bottom-end","show-arrow":"",trigger:"click",class:"rounded-lg","on-select":l},{default:jn(()=>[En(Ln(Ut),{circle:"",round:"",secondary:"",strong:""},{default:jn(()=>{var e;return[En(Ln(bs),{round:"",size:"small",src:Ln(Hg).getUserAvatar(null==(e=Ln(t).profile)?void 0:e.avatar_url)},null,8,["src"])]}),_:1})]),_:1},8,["options"]))}});function Wg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ug(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wg(Object(n),!0).forEach(function(t){Vg(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Vg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qg(e){return function(e){if(Array.isArray(e))return Xg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Xg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xg(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xg(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qg,Kg,Zg=(Qg=function(e){
/*!
    Copyright (c) 2018 Jed Watson.
    Licensed under the MIT License (MIT), see
    http://jedwatson.github.io/classnames
  */
!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o)){if(o.length){var a=n.apply(null,o);a&&e.push(a)}}else if("object"===i)if(o.toString===Object.prototype.toString)for(var l in o)t.call(o,l)&&o[l]&&e.push(l);else e.push(o.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()},Qg(Kg={path:undefined,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&Kg.path)}},Kg.exports),Kg.exports),Gg=function(e){return function(t,n){if(!t)return e;var r;"string"==typeof t?r=t:n=t;var o=e;return r&&(o+="__"+r),o+(n?Object.keys(n).reduce(function(e,t){var r=n[t];return r&&(e+=" "+("boolean"==typeof r?o+"--"+t:o+"--"+t+"_"+r)),e},""):"")}};function Jg(e,t,n){var r,o,i,a,l;function s(){var d=Date.now()-a;d<t&&d>=0?r=setTimeout(s,t-d):(r=null,n||(l=e.apply(i,o),i=o=null))}null==t&&(t=100);var d=function(){i=this,o=arguments,a=Date.now();var d=n&&!r;return r||(r=setTimeout(s,t)),d&&(l=e.apply(i,o),i=o=null),l};return d.clear=function(){r&&(clearTimeout(r),r=null)},d.flush=function(){r&&(l=e.apply(i,o),i=o=null,clearTimeout(r),r=null)},d}Jg.debounce=Jg;var eb=Jg,tb=function(){return tb=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},tb.apply(this,arguments)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function nb(e,t){var n,r;return e&&t?(n=""+e+t[0].toUpperCase()+t.slice(1),r=e+"-"+t):(n=e||t,r=e||t),{name:n,classname:r}}function rb(e){return/^blob:/.test(e)}function ob(e){return rb(e)||/^data:/.test(e)}function ib(e){return!!(e&&e.constructor&&e.call&&e.apply)}function ab(e){return void 0===e}function lb(e){return"object"==typeof e&&null!==e}function sb(e,t,n){var r={};return lb(e)?(Object.keys(t).forEach(function(o){ab(e[o])?r[o]=t[o]:lb(t[o])?lb(e[o])?r[o]=sb(e[o],t[o],n[o]):r[o]=e[o]?t[o]:n[o]:!0===t[o]||!1===t[o]?r[o]=Boolean(e[o]):r[o]=e[o]}),r):e?t:n}function db(e){var t=Number(e);return Number.isNaN(t)?e:t}function cb(e){return typeof("number"==e||function(e){return"object"==typeof e&&null!==e}(e)&&"[object Number]"==toString.call(e))&&!ub(e)}function ub(e){return e!=e}function hb(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}var pb=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this.type="manipulateImage",this.move=e,this.scale=t},fb=function(e,t){void 0===t&&(t={}),this.type="resize",this.directions=e,this.params=t},vb=function(e){this.type="move",this.directions=e},mb=function(){function e(e,t,n,r,o){this.type="drag",this.nativeEvent=e,this.position=n,this.previousPosition=r,this.element=t,this.anchor=o}return e.prototype.shift=function(){var e=this,t=e.element,n=e.anchor,r=e.position;if(t){var o=t.getBoundingClientRect(),i=o.left,a=o.top;return{left:r.left-i-n.left,top:r.top-a-n.top}}return{left:0,top:0}},e}(),gb={name:"DraggableElement",props:{classname:{type:String}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(e){e.cancelable&&!this.disabled&&1===e.touches.length&&(this.touches=qg(e.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),e.touches.length&&this.initAnchor(this.touches.reduce(function(t,n){return{clientX:t.clientX+n.clientX/e.touches.length,clientY:t.clientY+n.clientY/e.touches.length}},{clientX:0,clientY:0})),e.preventDefault&&e.preventDefault(),e.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(e){this.touches.length&&(this.processMove(e,e.touches),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())},onMouseDown:function(e){if(!this.disabled){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.draggable.getBoundingClientRect(),n=t.left,r=t.right,o=t.bottom,i=t.top;this.anchor={left:e.clientX-n,top:e.clientY-i,bottom:o-e.clientY,right:r-e.clientX}},processMove:function(e,t){var n=qg(t);if(this.touches.length){if(1===this.touches.length&&1===n.length){var r=this.$refs.draggable;this.$emit("drag",new mb(e,r,{left:n[0].clientX,top:n[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=n}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}},emits:["drag","drag-end","leave","enter"],render:function(e,t,n,r,o,i){return Rn(),Un("div",{ref:"draggable",class:n.classname,onTouchstart:t[1]||(t[1]=function(){return i.onTouchStart&&i.onTouchStart.apply(i,arguments)}),onMousedown:t[2]||(t[2]=function(){return i.onMouseDown&&i.onMouseDown.apply(i,arguments)}),onMouseover:t[3]||(t[3]=function(){return i.onMouseOver&&i.onMouseOver.apply(i,arguments)}),onMouseleave:t[4]||(t[4]=function(){return i.onMouseLeave&&i.onMouseLeave.apply(i,arguments)})},[L(e.$slots,"default")],34)}},bb=Gg("vue-handler-wrapper"),wb={name:"HandlerWrapper",components:{DraggableElement:gb},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var e;if(this.horizontalPosition||this.verticalPosition){var t,n=nb(this.horizontalPosition,this.verticalPosition);e=bb((Vg(t={},n.classname,!0),Vg(t,"disabled",this.disabled),t))}else e=bb({disabled:this.disabled});return{root:e,draggable:bb("draggable")}}},emits:["leave","enter","drag","drag-end"],render:function(e,t,n,r,o,i){var a=er("DraggableElement");return Rn(),Un("div",{class:i.classes.root},[En(a,{class:i.classes.draggable,onDrag:t[1]||(t[1]=function(t){return e.$emit("drag",t)}),onDragEnd:t[2]||(t[2]=function(t){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(t){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(t){return e.$emit("enter")})},{default:jn(function(){return[L(e.$slots,"default")]}),_:3},8,["class"])],2)}},yb=Gg("vue-line-wrapper"),xb={name:"LineWrapper",components:{DraggableElement:gb},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var e;return yb((Vg(e={},this.position,!0),Vg(e,"disabled",this.disabled),e))}},emits:["leave","enter","drag","drag-end"],render:function(e,t,n,r,o,i){var a=er("DraggableElement");return Rn(),Un(a,{class:i.classname,onDrag:t[1]||(t[1]=function(t){return e.$emit("drag",t)}),onDragEnd:t[2]||(t[2]=function(t){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(t){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(t){return e.$emit("enter")})},{default:jn(function(){return[L(e.$slots,"default")]}),_:3},8,["class"])}},kb=["left","right","top","bottom"],Cb=["left","right"],Sb=["top","bottom"],zb=["left","top"],$b=["fill-area","fit-area","stencil","none"],Mb={left:0,top:0,width:0,height:0};function Rb(e,t,n){return!(n=n||["width","height","left","top"]).some(function(n){return e[n]!==t[n]})}function Ab(e){return{left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height}}function Ob(e,t){return{left:e.left-t.left,top:e.top-t.top}}function Tb(e){return{left:e.left+e.width/2,top:e.top+e.height/2}}function Pb(e,t){var n={left:0,top:0,right:0,bottom:0};return kb.forEach(function(r){var o=t[r],i=Ab(e)[r];n[r]=void 0!==o&&void 0!==i?"left"===r||"top"===r?Math.max(0,o-i):Math.max(0,i-o):0}),n}function Db(e,t){return{left:e.left-t.left,top:e.top-t.top,width:e.width+t.left+t.right,height:e.height+t.top+t.bottom}}function Fb(e){return{left:-e.left,top:-e.top}}function _b(e,t){return tb(tb({},e),{left:e.left+t.left,top:e.top+t.top})}function Bb(e,t,n,r){if(1!==t){if(n){var o=Tb(e);return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2+(n.left-o.left)*(1-t),top:e.top+e.height*(1-t)/2+(n.top-o.top)*(1-t)}}return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2,top:e.top+e.height*(1-t)/2}}return e}function Eb(e){return e.width/e.height}function jb(e,t){return Math.min(void 0!==t.right&&void 0!==t.left?(t.right-t.left)/e.width:1/0,void 0!==t.bottom&&void 0!==t.top?(t.bottom-t.top)/e.height:1/0)}function Ib(e,t){var n={left:0,top:0},r=Pb(e,t);return r.left&&r.left>0?n.left=r.left:r.right&&r.right>0&&(n.left=-r.right),r.top&&r.top>0?n.top=r.top:r.bottom&&r.bottom>0&&(n.top=-r.bottom),n}function Lb(e,t){var n;return t.minimum&&e<t.minimum?n=t.minimum:t.maximum&&e>t.maximum&&(n=t.maximum),n}function Nb(e,t){var n=Eb(e),r=Eb(t);return t.width<1/0&&t.height<1/0?n>r?{width:t.width,height:t.width/n}:{width:t.height*n,height:t.height}:t.width<1/0?{width:t.width,height:t.width/n}:t.height<1/0?{width:t.height*n,height:t.height}:e}function Hb(e,t){var n=t*Math.PI/180;return{width:Math.abs(e.width*Math.cos(n))+Math.abs(e.height*Math.sin(n)),height:Math.abs(e.width*Math.sin(n))+Math.abs(e.height*Math.cos(n))}}function Yb(e,t){var n=t*Math.PI/180;return{left:e.left*Math.cos(n)-e.top*Math.sin(n),top:e.left*Math.sin(n)+e.top*Math.cos(n)}}function Wb(e,t){var n=Pb(Ub(e,t),t);return n.left+n.right+n.top+n.bottom?n.left+n.right>n.top+n.bottom?Math.min((e.width+n.left+n.right)/e.width,jb(e,t)):Math.min((e.height+n.top+n.bottom)/e.height,jb(e,t)):1}function Ub(e,t,n){void 0===n&&(n=!1);var r=Ib(e,t);return _b(e,n?Fb(r):r)}function Vb(e){return{width:void 0!==e.right&&void 0!==e.left?e.right-e.left:1/0,height:void 0!==e.bottom&&void 0!==e.top?e.bottom-e.top:1/0}}function qb(e,t,n){void 0===n&&(n=!0);var r={};return kb.forEach(function(o){var i=e[o],a=t[o];void 0!==i&&void 0!==a?r[o]="left"===o||"top"===o?n?Math.max(i,a):Math.min(i,a):n?Math.min(i,a):Math.max(i,a):void 0!==a?r[o]=a:void 0!==i&&(r[o]=i)}),r}function Xb(e,t){return qb(e,t,!0)}function Qb(e){var t=e.size,n=e.aspectRatio,r=e.ignoreMinimum,o=e.sizeRestrictions;return Boolean((t.correctRatio||Eb(t)>=n.minimum&&Eb(t)<=n.maximum)&&t.height<=o.maxHeight&&t.width<=o.maxWidth&&t.width&&t.height&&(r||t.height>=o.minHeight&&t.width>=o.minWidth))}function Kb(e,t){return Math.pow(e.width-t.width,2)+Math.pow(e.height-t.height,2)}function Zb(e){var t=e.width,n=e.height,r=e.sizeRestrictions,o={minimum:e.aspectRatio&&e.aspectRatio.minimum||0,maximum:e.aspectRatio&&e.aspectRatio.maximum||1/0},i={width:Math.max(r.minWidth,Math.min(r.maxWidth,t)),height:Math.max(r.minHeight,Math.min(r.maxHeight,n))};function a(e,i){return void 0===i&&(i=!1),e.reduce(function(e,a){return Qb({size:a,aspectRatio:o,sizeRestrictions:r,ignoreMinimum:i})&&(!e||Kb(a,{width:t,height:n})<Kb(e,{width:t,height:n}))?a:e},null)}var l=[];o&&[o.minimum,o.maximum].forEach(function(e){e&&l.push({width:i.width,height:i.width/e,correctRatio:!0},{width:i.height*e,height:i.height,correctRatio:!0})}),Qb({size:i,aspectRatio:o,sizeRestrictions:r})&&l.push(i);var s=a(l)||a(l,!0);return s&&{width:s.width,height:s.height}}function Gb(e){var t=e.event,n=e.coordinates,r=e.positionRestrictions,o=void 0===r?{}:r,i=_b(n,t.directions);return _b(i,Ib(i,o))}function Jb(e){e.event;var t=e.getAreaRestrictions,n=e.boundaries,r=e.coordinates,o=e.visibleArea;e.aspectRatio;var i=e.stencilSize,a=e.sizeRestrictions,l=e.positionRestrictions;e.stencilReference;var s,d,c,u=tb({},r),h=tb({},o),p=tb({},i);s=Eb(p),d=Eb(u),void 0===c&&(c=.001),(0===s||0===d?Math.abs(d-s)<c:Math.abs(d/s)<1+c&&Math.abs(d/s)>1-c)||(u=tb(tb({},u),Zb({sizeRestrictions:a,width:u.width,height:u.height,aspectRatio:{minimum:Eb(p),maximum:Eb(p)}})));var f=Wb(h=Bb(h,u.width*n.width/(h.width*p.width)),t({visibleArea:h,type:"resize"}));return 1!==f&&(h=Bb(h,f),u=Bb(u,f)),h=Ub(h=_b(h,Ob(Tb(u),Tb(h))),t({visibleArea:h,type:"move"})),{coordinates:u=Ub(u,Xb(Ab(h),l)),visibleArea:h}}function ew(e){var t=e.event,n=e.getAreaRestrictions,r=e.boundaries,o=e.coordinates,i=e.visibleArea;e.aspectRatio,e.stencilSize,e.sizeRestrictions;var a=e.positionRestrictions;e.stencilReference;var l=tb({},o),s=tb({},i);if(o&&i&&"manipulateImage"!==t.type){var d={width:0,height:0};s.width,r.width,Eb(r)>Eb(l)?(d.height=.8*r.height,d.width=d.height*Eb(l)):(d.width=.8*r.width,d.height=d.width*Eb(l));var c=Wb(s=Bb(s,l.width*r.width/(s.width*d.width)),n({visibleArea:s,type:"resize"}));s=Bb(s,c),1!==c&&(d.height/=c,d.width/=c),s=Ub(s=_b(s,Ob(Tb(l),Tb(s))),n({visibleArea:s,type:"move"})),l=Ub(l,Xb(Ab(s),a))}return{coordinates:l,visibleArea:s}}function tw(e){var t=e.event,n=e.coordinates,r=e.visibleArea,o=e.getAreaRestrictions,i=tb({},r),a=tb({},n);if("setCoordinates"===t.type){var l=Math.max(0,a.width-i.width),s=Math.max(0,a.height-i.height);l>s?i=Bb(i,Math.min(a.width/i.width,jb(i,o({visibleArea:i,type:"resize"})))):s>l&&(i=Bb(i,Math.min(a.height/i.height,jb(i,o({visibleArea:i,type:"resize"}))))),i=Ub(i=_b(i,Fb(Ib(a,Ab(i)))),o({visibleArea:i,type:"move"}))}return{visibleArea:i,coordinates:a}}function nw(e){var t=e.imageSize,n=e.visibleArea,r=e.coordinates,o=n||t;return{left:(n?n.left:0)+o.width/2-r.width/2,top:(n?n.top:0)+o.height/2-r.height/2}}function rw(e){var t=e.imageSize,n=e.visibleArea,r=e.aspectRatio,o=e.sizeRestrictions,i=n||t,a=Math.min(r.maximum||1/0,Math.max(r.minimum||0,Eb(i))),l=i.width<i.height?{width:.8*i.width,height:.8*i.width/a}:{height:.8*i.height,width:.8*i.height*a};return Zb(tb(tb({},l),{aspectRatio:r,sizeRestrictions:o}))}function ow(e){var t,n,r=e.imageSize,o=e.visibleArea,i=e.boundaries,a=e.aspectRatio,l=e.sizeRestrictions,s=e.stencilSize,d=o||r;return Eb(d)>Eb(i)?n=(t=s.height*d.height/i.height)*Eb(s):t=(n=s.width*d.width/i.width)/Eb(s),Zb({width:n,height:t,aspectRatio:a,sizeRestrictions:l})}function iw(e){var t=e.getAreaRestrictions,n=e.coordinates,r=e.imageSize,o=Eb(e.boundaries);if(n){var i={height:Math.max(n.height,r.height),width:Math.max(n.width,r.width)},a=Nb({width:Eb(i)>o?i.width:i.height*o,height:Eb(i)>o?i.width/o:i.height},Vb(t())),l={left:n.left+n.width/2-a.width/2,top:n.top+n.height/2-a.height/2,width:a.width,height:a.height},s=Pb(n,Ab(tb({left:0,top:0},r))),d={};return!s.left&&!s.right&&l.width<=r.width&&(d.left=0,d.right=r.width),!s.top&&!s.bottom&&l.height<=r.height&&(d.top=0,d.bottom=r.height),Ub(l,d)}var c=Eb(r);return a={height:c>o?r.height:r.width/o,width:c>o?r.height*o:r.width},{left:r.width/2-a.width/2,top:r.height/2-a.height/2,width:a.width,height:a.height}}function aw(e,t){return qb(e,Ab(t))}function lw(e){var t=e.directions,n=e.coordinates,r=e.positionRestrictions,o=void 0===r?{}:r,i=e.sizeRestrictions,a=e.preserveRatio,l=e.compensate,s=tb({},t),d=Db(n,s).width,c=Db(n,s).height;d<0&&(s.left<0&&s.right<0?(s.left=-(n.width-i.minWidth)/(s.left/s.right),s.right=-(n.width-i.minWidth)/(s.right/s.left)):s.left<0?s.left=-(n.width-i.minWidth):s.right<0&&(s.right=-(n.width-i.minWidth))),c<0&&(s.top<0&&s.bottom<0?(s.top=-(n.height-i.minHeight)/(s.top/s.bottom),s.bottom=-(n.height-i.minHeight)/(s.bottom/s.top)):s.top<0?s.top=-(n.height-i.minHeight):s.bottom<0&&(s.bottom=-(n.height-i.minHeight)));var u=Pb(Db(n,s),o);l&&(u.left&&u.left>0&&0===u.right?(s.right+=u.left,s.left-=u.left):u.right&&u.right>0&&0===u.left&&(s.left+=u.right,s.right-=u.right),u.top&&u.top>0&&0===u.bottom?(s.bottom+=u.top,s.top-=u.top):u.bottom&&u.bottom>0&&0===u.top&&(s.top+=u.bottom,s.bottom-=u.bottom),u=Pb(Db(n,s),o));var h={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(kb.forEach(function(e){var t=u[e];t&&s[e]&&(h[e]=Math.max(0,1-t/s[e]))}),a){var p=Math.min.apply(null,kb.map(function(e){return h[e]}));p!==1/0&&kb.forEach(function(e){s[e]*=p})}else kb.forEach(function(e){h[e]!==1/0&&(s[e]*=h[e])});if(d=Db(n,s).width,c=Db(n,s).height,s.right+s.left&&(d>i.maxWidth?h.width=(i.maxWidth-n.width)/(s.right+s.left):d<i.minWidth&&(h.width=(i.minWidth-n.width)/(s.right+s.left))),s.bottom+s.top&&(c>i.maxHeight?h.height=(i.maxHeight-n.height)/(s.bottom+s.top):c<i.minHeight&&(h.height=(i.minHeight-n.height)/(s.bottom+s.top))),a){var f=Math.min(h.width,h.height);f!==1/0&&kb.forEach(function(e){s[e]*=f})}else h.width!==1/0&&Cb.forEach(function(e){s[e]*=h.width}),h.height!==1/0&&Sb.forEach(function(e){s[e]*=h.height});return s}function sw(e,t,n){return 0==t&&0==n?e/2:0==t?0:0==n?e:e*Math.abs(t/(t+n))}var dw=Gg("vue-simple-handler"),cw=Gg("vue-simple-handler-wrapper"),uw={name:"SimpleHandler",components:{HandlerWrapper:wb},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var e,t=(Vg(e={},this.horizontalPosition,Boolean(this.horizontalPosition)),Vg(e,this.verticalPosition,Boolean(this.verticalPosition)),Vg(e,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),Boolean(this.verticalPosition&&this.horizontalPosition)),Vg(e,"hover",this.hover),e);return{default:Zg(dw(t),this.defaultClass,this.hover&&this.hoverClass),wrapper:Zg(cw(t),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"],render:function(e,t,n,r,o,i){var a=er("HandlerWrapper");return Rn(),Un(a,{class:i.classes.wrapper,"vertical-position":n.verticalPosition,"horizontal-position":n.horizontalPosition,disabled:n.disabled,onDrag:i.onDrag,onDragEnd:i.onDragEnd,onEnter:i.onEnter,onLeave:i.onLeave},{default:jn(function(){return[En("div",{class:i.classes.default},null,2)]}),_:1},8,["class","vertical-position","horizontal-position","disabled","onDrag","onDragEnd","onEnter","onLeave"])}},hw=Gg("vue-simple-line"),pw=Gg("vue-simple-line-wrapper"),fw={name:"SimpleLine",components:{LineWrapper:xb},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:Zg(hw(Vg({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:Zg(pw(Vg({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"],render:function(e,t,n,r,o,i){var a=er("LineWrapper");return Rn(),Un(a,{class:i.classes.wrapper,position:n.position,disabled:n.disabled,onDrag:i.onDrag,onDragEnd:i.onDragEnd,onEnter:i.onEnter,onLeave:i.onLeave},{default:jn(function(){return[En("div",{class:i.classes.root},null,2)]}),_:1},8,["class","position","disabled","onDrag","onDragEnd","onEnter","onLeave"])}},vw=Gg("vue-bounding-box"),mw=["east","west",null],gw=["south","north",null],bw={name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return uw}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return fw}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var e=[];return mw.forEach(function(t){gw.forEach(function(n){if(t!==n){var r=nb(t,n),o=r.name,i=r.classname;e.push({name:o,classname:i,verticalDirection:n,horizontalDirection:t})}})}),{points:e}},computed:{style:function(){var e={};return this.width&&this.height&&(e.width="".concat(this.width,"px"),e.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),e},classes:function(){var e=this.handlersClasses,t=this.handlersWrappersClasses,n=this.linesClasses,r=this.linesWrappersClasses;return{root:vw(),handlers:e,handlersWrappers:t,lines:n,linesWrappers:r}},lineNodes:function(){var e=this,t=[];return this.points.forEach(function(n){n.horizontalDirection&&n.verticalDirection||!e.lines[n.name]||t.push({name:n.name,component:e.linesComponent,class:Zg(e.classes.lines.default,e.classes.lines[n.name],!e.resizable&&e.classes.lines.disabled),wrapperClass:Zg(e.classes.linesWrappers.default,e.classes.linesWrappers[n.name],!e.resizable&&e.classes.linesWrappers.disabled),hoverClass:e.classes.lines.hover,verticalDirection:n.verticalDirection,horizontalDirection:n.horizontalDirection,disabled:!e.resizable})}),t},handlerNodes:function(){var e=this,t=[],n=this.width,r=this.height;return this.points.forEach(function(o){if(e.handlers[o.name]){var i={name:o.name,component:e.handlersComponent,class:Zg(e.classes.handlers.default,e.classes.handlers[o.name]),wrapperClass:Zg(e.classes.handlersWrappers.default,e.classes.handlersWrappers[o.name]),hoverClass:e.classes.handlers.hover,verticalDirection:o.verticalDirection,horizontalDirection:o.horizontalDirection,disabled:!e.resizable};if(n&&r){var a=o.horizontalDirection,l=o.verticalDirection,s="east"===a?n:"west"===a?0:n/2,d="south"===l?r:"north"===l?0:r/2;i.wrapperClass=vw("handler"),i.wrapperStyle={transform:"translate(".concat(s,"px, ").concat(d,"px)")},e.transitions&&e.transitions.enabled&&(i.wrapperStyle.transition="".concat(e.transitions.time,"ms ").concat(e.transitions.timingFunction))}else i.wrapperClass=vw("handler",Vg({},o.classname,!0));t.push(i)}}),t}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(e,t,n){var r,o=e.shift(),i=o.left,a=o.top,l={left:0,right:0,top:0,bottom:0};"west"===t?l.left-=i:"east"===t&&(l.right+=i),"north"===n?l.top-=a:"south"===n&&(l.bottom+=a),!n&&t?r="width":n&&!t&&(r="height"),this.resizable&&this.$emit("resize",new fb(l,{allowedDirections:{left:"west"===t||!t,right:"east"===t||!t,bottom:"south"===n||!n,top:"north"===n||!n},preserveAspectRatio:e.nativeEvent&&e.nativeEvent.shiftKey,respectDirection:r}))}},emits:["resize","resize-end"],render:function(e,t,n,r,o,i){return Rn(),Un("div",{ref:"box",class:i.classes.root,style:i.style},[L(e.$slots,"default"),En("div",null,[(Rn(!0),Un(Ze,null,Yn(i.lineNodes,function(e){return Rn(),Un(Vn(e.component),{key:e.name,"default-class":e.class,"hover-class":e.hoverClass,"wrapper-class":e.wrapperClass,position:e.name,disabled:e.disabled,onDrag:function(t){return i.onHandlerDrag(t,e.horizontalDirection,e.verticalDirection)},onDragEnd:t[1]||(t[1]=function(e){return i.onEnd()})},null,8,["default-class","hover-class","wrapper-class","position","disabled","onDrag"])}),128))]),(Rn(!0),Un(Ze,null,Yn(i.handlerNodes,function(e){return Rn(),Un("div",{key:e.name,style:e.wrapperStyle,class:e.wrapperClass},[(Rn(),Un(Vn(e.component),{"default-class":e.class,"hover-class":e.hoverClass,"wrapper-class":e.wrapperClass,"horizontal-position":e.horizontalDirection,"vertical-position":e.verticalDirection,disabled:e.disabled,onDrag:function(t){return i.onHandlerDrag(t,e.horizontalDirection,e.verticalDirection)},onDragEnd:t[2]||(t[2]=function(e){return i.onEnd()})},null,8,["default-class","hover-class","wrapper-class","horizontal-position","vertical-position","disabled","onDrag"]))],6)}),128))],6)}},ww=Gg("vue-draggable-area"),yw={name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:ww()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(e){if(e.cancelable){var t=this.movable&&1===e.touches.length;t&&(this.touches=qg(e.touches)),(this.touchStarted||t)&&(e.preventDefault(),e.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(e){this.touches.length>=1&&(this.touchStarted?(this.processMove(e,e.touches),e.preventDefault(),e.stopPropagation()):hb({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:e.touches[0].clientX,y:e.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(e){if(this.movable&&0===e.button){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.cancelable&&e.preventDefault(),e.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.container.getBoundingClientRect(),n=t.left,r=t.top;this.anchor={x:e.clientX-n,y:e.clientY-r}},processMove:function(e,t){var n=qg(t);if(this.touches.length){var r=this.$refs.container.getBoundingClientRect(),o=r.left,i=r.top;1===this.touches.length&&1===n.length&&this.$emit("move",new vb({left:n[0].clientX-(o+this.anchor.x),top:n[0].clientY-(i+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}},emits:["move","move-end"]};function xw(e){var t,n;return{rotate:e.rotate||0,flip:{horizontal:(null===(t=null==e?void 0:e.flip)||void 0===t?void 0:t.horizontal)||!1,vertical:(null===(n=null==e?void 0:e.flip)||void 0===n?void 0:n.vertical)||!1}}}function kw(e){var t=e.rotate,n=e.flip,r=e.scaleX,o=e.scaleY,i="";return i+=" rotate("+t+"deg) ",(i+=" scaleX("+r*(n.horizontal?-1:1)+") ")+" scaleY("+o*(n.vertical?-1:1)+") "}function Cw(e,t){var n=t.getBoundingClientRect(),r=n.left,o=n.top,i={left:0,top:0},a=0;return e.forEach(function(t){i.left+=(t.clientX-r)/e.length,i.top+=(t.clientY-o)/e.length}),e.forEach(function(e){a+=hb({x:i.left,y:i.top},{x:e.clientX-r,y:e.clientY-o})}),{centerMass:i,spread:a,count:e.length}}yw.render=function(e,t,n,r,o,i){return Rn(),Un("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return i.onTouchStart&&i.onTouchStart.apply(i,arguments)}),onMousedown:t[2]||(t[2]=function(){return i.onMouseDown&&i.onMouseDown.apply(i,arguments)})},[L(e.$slots,"default")],544)};var Sw={props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=eb(this.processEnd),this.touches=[]},methods:{processMove:function(e,t){if(this.touches.length){if(1===this.touches.length&&1===t.length)this.$emit("move",new pb({left:this.touches[0].clientX-t[0].clientX,top:this.touches[0].clientY-t[0].clientY}));else if(this.touches.length>1&&this.touchResize){var n=Cw(t,this.$refs.container),r=this.oldGeometricProperties;r.count===n.count&&r.count>1&&this.$emit("resize",new pb({left:r.centerMass.left-n.centerMass.left,top:r.centerMass.top-n.centerMass.top},{factor:r.spread/n.spread,center:n.centerMass})),this.oldGeometricProperties=n}this.touches=t}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(e){return this.eventsFilter?!1!==this.eventsFilter(e,this.transforming):(e.preventDefault(),e.stopPropagation(),!0)},onTouchStart:function(e){if(e.cancelable&&(this.touchMove||this.touchResize&&e.touches.length>1)&&this.processEvent(e)){var t=this.$refs.container,n=t.getBoundingClientRect(),r=n.left,o=n.top,i=n.bottom,a=n.right;this.touches=qg(e.touches).filter(function(e){return e.clientX>r&&e.clientX<a&&e.clientY>o&&e.clientY<i}),this.oldGeometricProperties=Cw(this.touches,t)}},onTouchEnd:function(e){0===e.touches.length&&(this.touches=[],this.processEnd())},onTouchMove:function(e){var t=this;if(this.touches.length){var n=qg(e.touches).filter(function(e){return!e.identifier||t.touches.find(function(t){return t.identifier===e.identifier})});this.processEvent(e)&&(this.processMove(e,n),this.processStart())}},onMouseDown:function(e){if(this.mouseMove&&"buttons"in e&&1===e.buttons&&this.processEvent(e)){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.processStart()}},onMouseMove:function(e){this.touches.length&&this.processEvent(e)&&this.processMove(e,[{clientX:e.clientX,clientY:e.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(e){if(this.wheelResize&&this.processEvent(e)){var t=this.$refs.container.getBoundingClientRect(),n=t.left,r=t.top,o=1+this.wheelResize.ratio*(0===(a=+(e.deltaY||e.detail||e.wheelDelta))||ub(a)?a:a>0?1:-1),i={left:e.clientX-n,top:e.clientY-r};this.$emit("resize",new pb({},{factor:o,center:i})),this.touches.length||this.debouncedProcessEnd()}var a}},emits:["resize","move","transform-end"],render:function(e,t,n,r,o,i){return Rn(),Un("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return i.onTouchStart&&i.onTouchStart.apply(i,arguments)}),onMousedown:t[2]||(t[2]=function(){return i.onMouseDown&&i.onMouseDown.apply(i,arguments)}),onWheel:t[3]||(t[3]=function(){return i.onWheel&&i.onWheel.apply(i,arguments)})},[L(e.$slots,"default")],544)}},zw={components:{TransformableImage:Sw},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}},emits:["resize","move"],render:function(e,t,n,r,o,i){var a=er("transformable-image");return Rn(),Un(a,{"touch-move":n.touchMove,"touch-resize":n.touchResize,"mouse-move":n.mouseMove,"wheel-resize":n.wheelResize,onMove:t[1]||(t[1]=function(t){return e.$emit("move",t)}),onResize:t[2]||(t[2]=function(t){return e.$emit("resize",t)})},{default:jn(function(){return[L(e.$slots,"default")]}),_:3},8,["touch-move","touch-resize","mouse-move","wheel-resize"])}},$w=Gg("vue-preview"),Mw={props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:$w({fill:this.fill}),wrapper:$w("wrapper"),imageWrapper:$w("image-wrapper"),image:Zg($w("image"),this.imageClass)}},style:function(){if(this.fill)return{};var e={};return this.width&&(e.width="".concat(this.size.width,"px")),this.height&&(e.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},wrapperStyle:function(){var e={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},imageStyle:function(){if(this.coordinates&&this.image){var e=this.coordinates.width/this.size.width,t=Ug(Ug({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/e,scaleY:1/e}),n=this.imageSize.width,r=this.imageSize.height,o=Hb({width:n,height:r},t.rotate),i={width:"".concat(n,"px"),height:"".concat(r,"px"),left:"0px",top:"0px"},a={rotate:{left:(n-o.width)*t.scaleX/2,top:(r-o.height)*t.scaleY/2},scale:{left:(1-t.scaleX)*n/2,top:(1-t.scaleY)*r/2}};return i.transform="translate(\n\t\t\t\t".concat(-this.coordinates.left/e-a.rotate.left-a.scale.left,"px,").concat(-this.coordinates.top/e-a.rotate.top-a.scale.top,"px) ")+kw(t),this.transitions&&this.transitions.enabled&&(i.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),i}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(e){(e.width||e.height)&&this.onChangeImage()}},mounted:function(){var e=this;this.onChangeImage(),this.$refs.image.addEventListener("load",function(){e.refreshImage()}),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var e=this.$refs.image;this.calculatedImageSize.height=e.naturalHeight,this.calculatedImageSize.width=e.naturalWidth},refresh:function(){var e=this.$refs.root;this.width||(this.calculatedSize.width=e.clientWidth),this.height||(this.calculatedSize.height=e.clientHeight)},onChangeImage:function(){var e=this.$refs.image;e&&e.complete&&this.refreshImage(),this.refresh()}},render:function(e,t,n,r,o,i){return Rn(),Un("div",{ref:"root",class:i.classes.root,style:i.style},[En("div",{ref:"wrapper",class:i.classes.wrapper,style:i.wrapperStyle},[S(En("img",{ref:"image",src:n.image&&n.image.src,class:i.classes.image,style:i.imageStyle},null,14,["src"]),[[Ve,n.image&&n.image.src]])],6)],6)}},Rw={components:{Preview:Mw},inheritAttrs:!1,render:function(e,t,n,r,o,i){var a=er("preview");return Rn(),Un(a,_(e.$attrs,{fill:!0}),null,16)}},Aw=Gg("vue-rectangle-stencil"),Ow={name:"RectangleStencil",components:{StencilPreview:Rw,BoundingBox:bw,DraggableArea:yw},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return uw}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return fw}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:Zg(Aw({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:Zg(Aw("preview"),this.previewClass),boundingBox:Zg(Aw("bounding-box"),this.boundingBoxClass)}},style:function(){var e=this.stencilCoordinates,t=e.height,n=e.width,r=e.left,o=e.top,i={width:"".concat(n,"px"),height:"".concat(t,"px"),transform:"translate(".concat(r,"px, ").concat(o,"px)")};return this.transitions&&this.transitions.enabled&&(i.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),i}},methods:{onMove:function(e){this.$emit("move",e),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(e){this.$emit("resize",e),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}},emits:["resize","resize-end","move","move-end"],render:function(e,t,n,r,o,i){var a=er("stencil-preview"),l=er("draggable-area"),s=er("bounding-box");return Rn(),Un("div",{class:i.classes.stencil,style:i.style},[En(s,{width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,transitions:n.transitions,class:i.classes.boundingBox,handlers:n.handlers,"handlers-component":n.handlersComponent,"handlers-classes":n.handlersClasses,"handlers-wrappers-classes":n.handlersWrappersClasses,lines:n.lines,"lines-component":n.linesComponent,"lines-classes":n.linesClasses,"lines-wrappers-classes":n.linesWrappersClasses,resizable:n.resizable,onResize:i.onResize,onResizeEnd:i.onResizeEnd},{default:jn(function(){return[En(l,{movable:n.movable,onMove:i.onMove,onMoveEnd:i.onMoveEnd},{default:jn(function(){return[En(a,{image:n.image,coordinates:n.coordinates,width:n.stencilCoordinates.width,height:n.stencilCoordinates.height,class:i.classes.preview,transitions:n.transitions},null,8,["image","coordinates","width","height","class","transitions"])]}),_:1},8,["movable","onMove","onMoveEnd"])]}),_:1},8,["width","height","transitions","class","handlers","handlers-component","handlers-classes","handlers-wrappers-classes","lines","lines-component","lines-classes","lines-wrappers-classes","resizable","onResize","onResizeEnd"])],6)}},Tw=["transitions"],Pw=Gg("vue-advanced-cropper"),Dw={name:"Cropper",components:{BackgroundWrapper:zw},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return Ow}},backgroundWrapperComponent:{type:[Object,String],default:function(){return zw}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(e){return-1!==$b.indexOf(e)}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object]},defaultVisibleArea:{type:[Function,Object]},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(e){return!("string"==typeof e&&"fill"!==e&&"fit"!==e)}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(e){var t=e.event,n=e.coordinates,r=e.aspectRatio,o=e.positionRestrictions,i=e.sizeRestrictions,a=tb(tb({},n),{right:n.left+n.width,bottom:n.top+n.height}),l=t.params||{},s=tb({},t.directions),d=l.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};i.widthFrozen&&(s.left=0,s.right=0),i.heightFrozen&&(s.top=0,s.bottom=0),kb.forEach(function(e){d[e]||(s[e]=0)});var c=Db(a,s=lw({coordinates:a,directions:s,sizeRestrictions:i,positionRestrictions:o})).width,u=Db(a,s).height,h=l.preserveRatio?Eb(a):Lb(c/u,r);if(h){var p=l.respectDirection;if(p||(p=a.width>=a.height||1===h?"width":"height"),"width"===p){var f=c/h-a.height;if(d.top&&d.bottom){var v=s.top,m=s.bottom;s.bottom=sw(f,m,v),s.top=sw(f,v,m)}else d.bottom?s.bottom=f:d.top?s.top=f:d.right?s.right=0:d.left&&(s.left=0)}else if("height"===p){var g=a.width-u*h;if(d.left&&d.right){var b=s.left,w=s.right;s.left=-sw(g,b,w),s.right=-sw(g,w,b)}else d.left?s.left=-g:d.right?s.right=-g:d.top?s.top=0:d.bottom&&(s.bottom=0)}s=lw({directions:s,coordinates:a,sizeRestrictions:i,positionRestrictions:o,preserveRatio:!0,compensate:l.compensate})}return c=Db(a,s).width,u=Db(a,s).height,(h=l.preserveRatio?Eb(a):Lb(c/u,r))&&Math.abs(h-c/u)>.001&&kb.forEach(function(e){d[e]||(s[e]=0)}),Gb({event:new vb({left:-s.left,top:-s.top}),coordinates:{width:n.width+s.right+s.left,height:n.height+s.top+s.bottom,left:n.left,top:n.top},positionRestrictions:o})}},moveAlgorithm:{type:Function,default:Gb},initStretcher:{type:Function,default:function(e){var t=e.stretcher,n=e.imageSize,r=Eb(n);t.style.width=n.width+"px",t.style.height=t.clientWidth/r+"px",t.style.width=t.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(e){var t=e.visibleArea,n=e.coordinates,r=e.aspectRatio,o=e.sizeRestrictions,i=e.positionRestrictions,a=tb(tb({},n),Zb({width:n.width,height:n.height,aspectRatio:r,sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minHeight:Math.min(t.height,o.minHeight),minWidth:Math.min(t.width,o.minWidth)}}));return Ub(a=_b(a,Ob(Tb(n),Tb(a))),Xb(Ab(t),i))}},fitVisibleArea:{type:Function,default:function(e){var t=e.visibleArea,n=e.boundaries,r=e.getAreaRestrictions,o=e.coordinates,i=tb({},t);i.height=i.width/Eb(n),i.top+=(t.height-i.height)/2,(o.height-i.height>0||o.width-i.width>0)&&(i=Bb(i,Math.max(o.height/i.height,o.width/i.width)));var a=Fb(Ib(o,Ab(i=Bb(i,Wb(i,r({visibleArea:i,type:"resize"}))))));return i.width<o.width&&(a.left=0),i.height<o.height&&(a.top=0),Ub(i=_b(i,a),r({visibleArea:i,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.visibleArea,n=e.boundaries,r=e.imageSize,o=e.imageRestriction,i=e.type,a={};return"fill-area"===o?a={left:0,top:0,right:r.width,bottom:r.height}:"fit-area"===o&&(Eb(n)>Eb(r)?(a={top:0,bottom:r.height},t&&"move"===i&&(t.width>r.width?(a.left=-(t.width-r.width)/2,a.right=r.width-a.left):(a.left=0,a.right=r.width))):(a={left:0,right:r.width},t&&"move"===i&&(t.height>r.height?(a.top=-(t.height-r.height)/2,a.bottom=r.height-a.top):(a.top=0,a.bottom=r.height)))),a}},sizeRestrictionsAlgorithm:{type:Function,default:function(e){return{minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.imageSize,n={};return"none"!==e.imageRestriction&&(n={left:0,top:0,right:t.width,bottom:t.height}),n}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:null,src:null},defaultImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:Ug({},Mb)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var e=this.imageTransforms.rotate*Math.PI/180;return{width:Math.abs(this.imageAttributes.width*Math.cos(e))+Math.abs(this.imageAttributes.height*Math.sin(e)),height:Math.abs(this.imageAttributes.width*Math.sin(e))+Math.abs(this.imageAttributes.height*Math.cos(e))}},initialized:function(){return Boolean(this.visibleArea&&this.imageLoaded)},settings:function(){var e=sb(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:sb(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:e}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var e=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:ab(this.minWidth)?0:db(this.minWidth),minHeight:ab(this.minHeight)?0:db(this.minHeight),maxWidth:ab(this.maxWidth)?1/0:db(this.maxWidth),maxHeight:ab(this.maxHeight)?1/0:db(this.maxHeight)});if(e=function(e){var t=e.areaRestrictions,n=e.sizeRestrictions,r=e.boundaries,o=e.positionRestrictions,i=tb(tb({},n),{minWidth:void 0!==n.minWidth?n.minWidth:0,minHeight:void 0!==n.minHeight?n.minHeight:0,maxWidth:void 0!==n.maxWidth?n.maxWidth:1/0,maxHeight:void 0!==n.maxHeight?n.maxHeight:1/0});void 0!==o.left&&void 0!==o.right&&(i.maxWidth=Math.min(i.maxWidth,o.right-o.left)),void 0!==o.bottom&&void 0!==o.top&&(i.maxHeight=Math.min(i.maxHeight,o.bottom-o.top));var a=Vb(t),l=Nb(r,a);return a.width<1/0&&(!i.maxWidth||i.maxWidth>l.width)&&(i.maxWidth=Math.min(i.maxWidth,l.width)),a.height<1/0&&(!i.maxHeight||i.maxHeight>l.height)&&(i.maxHeight=Math.min(i.maxHeight,l.height)),i.minWidth>i.maxWidth&&(i.minWidth=i.maxWidth,i.widthFrozen=!0),i.minHeight>i.maxHeight&&(i.minHeight=i.maxHeight,i.heightFrozen=!0),i}({sizeRestrictions:e,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var t=this.getStencilSize(),n=Vb(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));e.maxWidth=Math.min(e.maxWidth,n.width*t.width/this.boundaries.width),e.maxHeight=Math.min(e.maxHeight,n.height*t.height/this.boundaries.height),e.maxWidth<e.minWidth&&(e.minWidth=e.maxWidth),e.maxHeight<e.minHeight&&(e.minHeight=e.maxHeight)}return e}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:Pw(),image:Zg(Pw("image"),this.imageClass),stencil:Pw("stencil"),boundaries:Zg(Pw("boundaries"),this.boundariesClass),stretcher:Zg(Pw("stretcher")),background:Zg(Pw("background"),this.backgroundClass),foreground:Zg(Pw("foreground"),this.foregroundClass),imageWrapper:Zg(Pw("image-wrapper")),cropperWrapper:Zg(Pw("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var e=this.coordinates,t=e.width,n=e.height,r=e.left,o=e.top;return{width:t/this.coefficient,height:n/this.coefficient,left:(r-this.visibleArea.left)/this.coefficient,top:(o-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var e={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(e.opacity="0"),e},imageStyle:function(){var e=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},t=(e.width-this.imageSize.width)/(2*this.coefficient),n=(e.height-this.imageSize.height)/(2*this.coefficient),r=(1-1/this.coefficient)*e.width/2,o=(1-1/this.coefficient)*e.height/2,i=Ug(Ug({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/e.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/e.height)}),a={width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-t-r-this.imageTransforms.translateX,"px, ").concat(-n-o-this.imageTransforms.translateY,"px)")+kw(i)};return this.transitionsOptions.enabled&&(a.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),a}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var e=this;this.$nextTick(function(){e.resetCoordinates(),e.runAutoZoom("setCoordinates"),e.onChange()})},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(e,t){["aspectRatio","minAspectRatio","maxAspectRatio"].find(function(n){return e[n]!==t[n]})&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=eb(this.update,this.debounce),this.debouncedDisableTransitions=eb(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.debouncedUpdate.clear(),this.debouncedDisableTransitions.clear()},methods:{getResult:function(){var e=this.initialized?this.prepareResult(Ug({},this.coordinates)):this.defaultCoordinates(),t={rotate:this.imageTransforms.rotate%360,flip:Ug({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var n=this;return{image:this.image,coordinates:e,visibleArea:this.visibleArea?Ug({},this.visibleArea):null,imageTransforms:t,get canvas(){return n.canvas?n.getCanvas():void 0}}}return{image:this.image,coordinates:e,visibleArea:this.visibleArea?Ug({},this.visibleArea):null,canvas:void 0,imageTransforms:t}},zoom:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).transitions,r=void 0===n||n;this.onManipulateImage(new pb({},{factor:1/e,center:t}),{normalize:!1,transitions:r})},move:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).transitions,r=void 0===n||n;this.onManipulateImage(new pb({left:e||0,top:t||0}),{normalize:!1,transitions:r})},setCoordinates:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.autoZoom,o=void 0===r||r,i=n.transitions,a=void 0===i||i;this.$nextTick(function(){t.imageLoaded?(t.transitionsActive||(a&&t.enableTransitions(),t.coordinates=t.applyTransform(e),o&&t.runAutoZoom("setCoordinates"),a&&t.debouncedDisableTransitions()),t.onChange()):t.delayedTransforms=e})},refresh:function(){var e=this,t=this.$refs.image;if(this.src&&t)return this.initialized?this.updateVisibleArea().then(function(){e.onChange()}):this.resetVisibleArea().then(function(){e.onChange()})},reset:function(){var e=this;return this.resetVisibleArea().then(function(){e.onChange(!1)})},awaitRender:function(e){var t=this;this.awaiting||(this.awaiting=!0,this.$nextTick(function(){e(),t.awaiting=!1}))},prepareResult:function(e){return this.roundResult?(t=Ug(Ug({},this.getPublicProperties()),{},{positionRestrictions:aw(this.positionRestrictions,this.visibleArea),coordinates:e}),n=t.coordinates,r=t.sizeRestrictions,o=t.positionRestrictions,(i={width:Math.round(n.width),height:Math.round(n.height),left:Math.round(n.left),top:Math.round(n.top)}).width>r.maxWidth?i.width=Math.floor(n.width):i.width<r.minWidth&&(i.width=Math.ceil(n.width)),i.height>r.maxHeight?i.height=Math.floor(n.height):i.height<r.minHeight&&(i.height=Math.ceil(n.height)),Ub(i,o)):e;var t,n,r,o,i},processAutoZoom:function(e,t,n,r){var o=this.autoZoomAlgorithm;o||(o=this.stencilSize?Jb:this.autoZoom?ew:tw);var i=o({event:{type:e,params:r},visibleArea:t,coordinates:n,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return Ug(Ug({},i),{},{changed:!Rb(i.visibleArea,t)||!Rb(i.coordinates,n)})},runAutoZoom:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transitions,r=void 0!==n&&n,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,Tw),i=this.processAutoZoom(e,this.visibleArea,this.coordinates,o),a=i.visibleArea,l=i.coordinates,s=i.changed;r&&s&&this.enableTransitions(),this.visibleArea=a,this.coordinates=l,r&&s&&this.debouncedDisableTransitions()},normalizeEvent:function(e){return function(e){var t=e.event,n=e.visibleArea,r=e.coefficient;if("manipulateImage"===t.type)return tb(tb({},t),{move:{left:t.move&&t.move.left?r*t.move.left:0,top:t.move&&t.move.top?r*t.move.top:0},scale:{factor:t.scale&&t.scale.factor?t.scale.factor:1,center:t.scale&&t.scale.center?{left:t.scale.center.left*r+n.left,top:t.scale.center.top*r+n.top}:null}});if("resize"===t.type){var o=tb(tb({},t),{directions:tb({},t.directions)});return kb.forEach(function(e){o.directions[e]*=r}),o}if("move"===t.type){var i=tb(tb({},t),{directions:tb({},t.directions)});return zb.forEach(function(e){i.directions[e]*=r}),i}return t}(Ug(Ug({},this.getPublicProperties()),{},{event:e}))},getCanvas:function(){if(this.$refs.canvas){var e=this.$refs.canvas,t=this.$refs.image,n=0!==this.imageTransforms.rotate||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?function(e,t,n){var r=n.rotate,o=n.flip,i={width:t.naturalWidth,height:t.naturalHeight},a=Hb(i,r),l=e.getContext("2d");e.height=a.height,e.width=a.width,l.save();var s=Yb(Tb(tb({left:0,top:0},i)),r);return l.translate(-(s.left-a.width/2),-(s.top-a.height/2)),l.rotate(r*Math.PI/180),l.translate(o.horizontal?i.width:0,o.vertical?i.height:0),l.scale(o.horizontal?-1:1,o.vertical?-1:1),l.drawImage(t,0,0,i.width,i.height),l.restore(),e}(this.$refs.sourceCanvas,t,this.imageTransforms):t,r=Ug({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),o=function(e){return e.find(function(e){return t=e,!Number.isNaN(parseFloat(t))&&isFinite(t);var t})},i=Zb({sizeRestrictions:{minWidth:o([r.width,r.minWidth])||0,minHeight:o([r.height,r.minHeight])||0,maxWidth:o([r.width,r.maxWidth])||1/0,maxHeight:o([r.height,r.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(r.maxArea&&i.width*i.height>r.maxArea){var a=Math.sqrt(r.maxArea/(i.width*i.height));i={width:Math.round(a*i.width),height:Math.round(a*i.height)}}return function(e,t,n,r,o){e.width=r?r.width:n.width,e.height=r?r.height:n.height;var i=e.getContext("2d");i.clearRect(0,0,e.width,e.height),o&&(o.imageSmoothingEnabled&&(i.imageSmoothingEnabled=o.imageSmoothingEnabled),o.imageSmoothingQuality&&(i.imageSmoothingQuality=o.imageSmoothingQuality),o.fillColor&&(i.fillStyle=o.fillColor,i.fillRect(0,0,e.width,e.height),i.save()));var a=n.left<0?-n.left:0,l=n.top<0?-n.top:0;i.drawImage(t,n.left+a,n.top+l,n.width,n.height,a*(e.width/n.width),l*(e.height/n.height),e.width,e.height)}(e,n,this.coordinates,i,r),e}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.visibleArea&&t?function(e,t){return tb(tb({},e),{minWidth:Math.min(t.width,e.minWidth),minHeight:Math.min(t.height,e.minHeight),maxWidth:Math.min(t.width,e.maxWidth),maxHeight:Math.min(t.height,e.maxHeight)})}(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,r=this.visibleArea&&t?aw(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return function(e){var t=e.coordinates,n=e.transform,r=e.imageSize,o=e.sizeRestrictions,i=e.positionRestrictions,a=e.aspectRatio,l=e.visibleArea,s=function(e,t){return Gb({coordinates:e,positionRestrictions:i,event:new vb({left:t.left-e.left,top:t.top-e.top})})},d=tb({},t);return(Array.isArray(n)?n:[n]).forEach(function(e){var t,n,i,c;ab((t="function"==typeof e?e({coordinates:d,imageSize:r,visibleArea:l}):e).width)&&ab(t.height)||(n=d,i=tb(tb({},d),t),c=tb(tb(tb({},n),Zb({width:i.width,height:i.height,sizeRestrictions:o,aspectRatio:a})),{left:0,top:0}),d=s(c,{left:n.left,top:n.top})),ab(t.left)&&ab(t.top)||(d=s(d,tb(tb({},d),t)))}),d}({transform:e,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:n,positionRestrictions:r,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var e=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var t=this.defaultSize;t||(t=this.stencilSize?ow:rw);var n=this.sizeRestrictions;n.minWidth,n.minHeight,n.maxWidth,n.maxHeight;var r=ib(t)?t({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):t,o=this.defaultPosition||nw,i=[r,function(t){var n=t.coordinates;return Ug({},ib(o)?o({coordinates:n,imageSize:e.imageSize,visibleArea:e.visibleArea}):e.defaultPosition)}];this.delayedTransforms&&i.push.apply(i,qg(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(i,!0),this.delayedTransforms=null}},clearImage:function(){var e=this;this.imageLoaded=!1,setTimeout(function(){var t=e.$refs.stretcher;t&&(t.style.height="auto",t.style.width="auto"),e.coordinates=e.defaultCoordinates(),e.boundaries={width:0,height:0}},this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var e=this,t=this.$refs.stretcher,n=this.$refs.cropper;return this.initStretcher({cropper:n,stretcher:t,imageSize:this.imageSize}),this.$nextTick().then(function(){var t,r,o,i,a,l,s,d={cropper:n,imageSize:e.imageSize};if(ib(e.defaultBoundaries)?e.boundaries=e.defaultBoundaries(d):"fit"===e.defaultBoundaries?e.boundaries=(o=(t=d).imageSize,i=(r=t.cropper).clientHeight,a=r.clientWidth,l=i,(s=o.width*i/o.height)>a&&(s=a,l=o.height*a/o.width),{width:s,height:l}):e.boundaries=function(e){var t=e.cropper;return{width:t.clientWidth,height:t.clientHeight}}(d),!e.boundaries.width||!e.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")})},resetVisibleArea:function(){var e=this;return this.appliedImageTransforms=Ug(Ug({},this.defaultImageTransforms),{},{flip:Ug({},this.defaultImageTransforms.flip)}),this.updateBoundaries().then(function(){"visible-area"!==e.priority&&(e.visibleArea=null,e.resetCoordinates());var t,n,r,o,i,a=e.defaultVisibleArea||iw;e.visibleArea=ib(a)?a({imageSize:e.imageSize,boundaries:e.boundaries,coordinates:"visible-area"!==e.priority?e.coordinates:null,getAreaRestrictions:e.getAreaRestrictions,stencilSize:e.getStencilSize()}):e.defaultVisibleArea,e.visibleArea=(n=(t={visibleArea:e.visibleArea,boundaries:e.boundaries,getAreaRestrictions:e.getAreaRestrictions}).boundaries,r=t.getAreaRestrictions,o=tb({},t.visibleArea),i=Eb(n),o.width/o.height!==i&&(o.height=o.width/i),Ub(o,r({visibleArea:o,type:"move"}))),"visible-area"===e.priority?e.resetCoordinates():e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("resetVisibleArea")}).catch(function(){e.visibleArea=null})},updateVisibleArea:function(){var e=this;return this.updateBoundaries().then(function(){e.visibleArea=e.fitVisibleArea({imageSize:e.imageSize,boundaries:e.boundaries,visibleArea:e.visibleArea,coordinates:e.coordinates,getAreaRestrictions:e.getAreaRestrictions}),e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("updateVisibleArea")}).catch(function(){e.visibleArea=null})},onChange:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.debounce?this.debouncedUpdate():this.update()},onChangeImage:function(){var e,t=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if(function(e){if(ob(e))return!1;var t=window.location,n=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(e)||[],r={protocol:n[1]||"",host:n[2]||"",port:n[3]||""},o=function(e){return e.port||("http"===(e.protocol||t.protocol)?80:433)};return!(!r.protocol&&!r.host&&!r.port||Boolean(r.protocol&&r.protocol==t.protocol&&r.host&&r.host==t.host&&r.host&&o(r)==o(t)))}(this.src)){var n=ab(this.crossOrigin)?this.canvas:this.crossOrigin;!0===n&&(n="anonymous"),this.imageAttributes.crossOrigin=n||null}if(this.checkOrientation){var r=(e=this.src,new Promise(function(t){(function(e){return new Promise(function(t,n){try{if(e)if(/^data:/i.test(e))t(function(e){e=e.replace(/^data:([^;]+);base64,/gim,"");for(var t=atob(e),n=t.length,r=new ArrayBuffer(n),o=new Uint8Array(r),i=0;i<n;i++)o[i]=t.charCodeAt(i);return r}(e));else if(/^blob:/i.test(e)){var r=new FileReader;r.onload=function(e){t(e.target.result)},i=e,a=function(e){r.readAsArrayBuffer(e)},(l=new XMLHttpRequest).open("GET",i,!0),l.responseType="blob",l.onload=function(){200!=this.status&&0!==this.status||a(this.response)},l.send()}else{var o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&(200===o.status||0===o.status?t(o.response):n("Warning: could not load an image to parse its orientation"),o=null)},o.onprogress=function(){"image/jpeg"!==o.getResponseHeader("content-type")&&o.abort()},o.withCredentials=!1,o.open("GET",e,!0),o.responseType="arraybuffer",o.send(null)}else n("Error: the image is empty")}catch(s){n(s)}var i,a,l})})(e).then(function(n){var r=function(e){try{var t,n=new DataView(e),r=void 0,o=void 0,i=void 0,a=void 0;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var l=n.byteLength,s=2;s+1<l;){if(255===n.getUint8(s)&&225===n.getUint8(s+1)){i=s;break}s++}if(i&&(r=i+10,"Exif"===function(e,t,n){var r,o="";for(r=t,n+=t;r<n;r++)o+=String.fromCharCode(e.getUint8(r));return o}(n,i+4,4))){var d=n.getUint16(r);if(((o=18761===d)||19789===d)&&42===n.getUint16(r+2,o)){var c=n.getUint32(r+4,o);c>=8&&(a=r+c)}}if(a)for(var u=n.getUint16(a,o),h=0;h<u;h++)if(s=a+12*h+2,274===n.getUint16(s,o)){s+=8,t=n.getUint16(s,o),n.setUint16(s,1,o);break}return t}catch(p){return null}}(n);t(n?{source:e,arrayBuffer:n,orientation:r}:{source:e,arrayBuffer:null,orientation:null})}).catch(function(n){t({source:e,arrayBuffer:null,orientation:null})})}));setTimeout(function(){r.then(t.onParseImage)},this.transitionTime)}else setTimeout(function(){t.onParseImage({source:t.src})},this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var e=this,t=this.$refs.image;t&&!this.imageLoaded&&(this.imageAttributes.height=t.naturalHeight,this.imageAttributes.width=t.naturalWidth,this.imageLoaded=!0,this.resetVisibleArea().then(function(){e.$emit("ready"),e.onChange(!1)}))},onParseImage:function(e){var t=this,n=e.source,r=e.arrayBuffer,o=e.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,r&&o&&o>1?rb(n)||!ob(n)?(this.imageAttributes.src=URL.createObjectURL(new Blob([r])),this.imageAttributes.revoke=!0):this.imageAttributes.src=function(e){for(var t=[],n=new Uint8Array(e);n.length>0;){var r=n.subarray(0,8192);t.push(String.fromCharCode.apply(null,Array.from?Array.from(r):r.slice())),n=n.subarray(8192)}return"data:image/jpeg;base64,"+btoa(t.join(""))}(r):this.imageAttributes.src=n,ib(this.defaultTransforms)?this.appliedImageTransforms=xw(this.defaultTransforms()):lb(this.defaultTransforms)?this.appliedImageTransforms=xw(this.defaultTransforms):this.appliedImageTransforms=function(e){var t=xw({});if(e)switch(e){case 2:t.flip.horizontal=!0;break;case 3:t.rotate=-180;break;case 4:t.flip.vertical=!0;break;case 5:t.rotate=90,t.flip.vertical=!0;break;case 6:t.rotate=90;break;case 7:t.rotate=90,t.flip.horizontal=!0;break;case 8:t.rotate=-90}return t}(o),this.defaultImageTransforms=Ug(Ug({},this.appliedImageTransforms),{},{flip:Ug({},this.appliedImageTransforms.flip)}),this.$nextTick(function(){var e=t.$refs.image;e&&e.complete&&(Boolean(e.naturalWidth)?t.onSuccessLoadImage():t.onFailLoadImage())})},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(e){var t=this;this.transitionsOptions.enabled||this.awaitRender(function(){t.coordinates=t.moveAlgorithm(Ug(Ug({},t.getPublicProperties()),{},{positionRestrictions:aw(t.positionRestrictions,t.visibleArea),coordinates:t.coordinates,event:t.normalizeEvent(e)})),t.onChange()})},onResize:function(e){var t=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender(function(){var n=t.sizeRestrictions,r=Math.min(t.coordinates.width,t.coordinates.height,20*t.coefficient);t.coordinates=t.resizeAlgorithm(Ug(Ug({},t.getPublicProperties()),{},{positionRestrictions:aw(t.positionRestrictions,t.visibleArea),sizeRestrictions:{maxWidth:Math.min(n.maxWidth,t.visibleArea.width),maxHeight:Math.min(n.maxHeight,t.visibleArea.height),minWidth:Math.max(n.minWidth,r),minHeight:Math.max(n.minHeight,r)},event:t.normalizeEvent(e)})),t.onChange(),t.ticking=!1})},onManipulateImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.transitionsOptions.enabled){var n=t.transitions,r=void 0!==n&&n,o=t.normalize,i=void 0===o||o;r&&this.enableTransitions();var a=function(e){var t=e.event,n=e.coordinates,r=e.visibleArea,o=e.sizeRestrictions,i=e.getAreaRestrictions,a=e.positionRestrictions,l=e.adjustStencil,s=t.scale,d=t.move,c=tb({},r),u=tb({},n),h=1,p=1,f=s.factor&&Math.abs(s.factor-1)>.001;c=_b(c,{left:d.left||0,top:d.top||0});var v={stencil:{minimum:Math.max(o.minWidth?o.minWidth/u.width:0,o.minHeight?o.minHeight/u.height:0),maximum:Math.min(o.maxWidth?o.maxWidth/u.width:1/0,o.maxHeight?o.maxHeight/u.height:1/0,jb(u,a))},area:{maximum:jb(c,i({visibleArea:c,type:"resize"}))}};s.factor&&f&&(s.factor<1?(p=Math.max(s.factor,v.stencil.minimum))>1&&(p=1):s.factor>1&&(p=Math.min(s.factor,Math.min(v.area.maximum,v.stencil.maximum)))<1&&(p=1)),p&&(c=Bb(c,p,s.center));var m=n.left-r.left,g=r.width+r.left-(n.width+n.left),b=n.top-r.top,w=r.height+r.top-(n.height+n.top);return c=Ub(c=_b(c,Ib(c,{left:void 0!==a.left?a.left-m*p:void 0,top:void 0!==a.top?a.top-b*p:void 0,bottom:void 0!==a.bottom?a.bottom+w*p:void 0,right:void 0!==a.right?a.right+g*p:void 0})),i({visibleArea:c,type:"move"})),u.width=u.width*p,u.height=u.height*p,u.left=c.left+m*p,u.top=c.top+b*p,u=Ub(u,Xb(Ab(c),a)),s.factor&&f&&l&&(s.factor>1?h=Math.min(v.area.maximum,s.factor)/p:s.factor<1&&(h=Math.max(u.height/c.height,u.width/c.width,s.factor/p)),1!==h&&(c=_b(c=Ub(c=Bb(c,h,s.factor>1?s.center:Tb(u)),i({visibleArea:c,type:"move"})),Fb(Ib(u,Ab(c)))))),{coordinates:u,visibleArea:c}}(Ug(Ug({},this.getPublicProperties()),{},{event:i?this.normalizeEvent(e):e,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),l=a.visibleArea,s=a.coordinates;this.visibleArea=l,this.coordinates=s,this.runAutoZoom("manipulateImage"),this.onChange(),r&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.visibleArea,n=e.type,r=void 0===n?"move":n;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:t,type:r})},getAspectRatio:function(e){var t,n,r=this.stencilProps,o=r.aspectRatio,i=r.minAspectRatio,a=r.maxAspectRatio;if(this.$refs.stencil&&this.$refs.stencil.aspectRatios){var l=this.$refs.stencil.aspectRatios();t=l.minimum,n=l.maximum}if(ab(t)&&(t=ab(o)?i:o),ab(n)&&(n=ab(o)?a:o),!e&&(ab(t)||ab(n))){var s=this.getStencilSize(),d=s?Eb(s):null;ab(t)&&(t=cb(d)?d:void 0),ab(n)&&(n=cb(d)?d:void 0)}return{minimum:t,maximum:n}},getStencilSize:function(){if(this.stencilSize)return t=(e={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)}).boundaries,r=e.aspectRatio,Lb(Eb(o=ib(n=e.stencilSize)?n({boundaries:t,aspectRatio:r}):n),r)&&(o=Zb({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:o.width,height:o.height,aspectRatio:{minimum:r.minimum,maximum:r.maximum}})),(o.width>t.width||o.height>t.height)&&(o=Zb({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:o.width,height:o.height,aspectRatio:{minimum:Eb(o),maximum:Eb(o)}})),o;var e,t,n,r,o},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return Ug({},Mb)},flip:function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).transitions,r=void 0===n||n;if(!this.transitionsActive){r&&this.enableTransitions();var o=Ug({},this.imageTransforms.flip),i=function(e){var t=e.flip,n=e.previousFlip,r=e.rotate,o=e.getAreaRestrictions,i=e.coordinates,a=e.visibleArea,l=e.imageSize,s=tb({},i),d=tb({},a),c=n.horizontal!==t.horizontal,u=n.vertical!==t.vertical;if(c||u){var h=Yb({left:l.width/2,top:l.height/2},-r),p=Yb(Tb(s),-r),f=Yb({left:c?h.left-(p.left-h.left):p.left,top:u?h.top-(p.top-h.top):p.top},r);s=_b(s,Ob(f,Tb(s))),p=Yb(Tb(d),-r),d=Ub(d=_b(d,Ob(f=Yb({left:c?h.left-(p.left-h.left):p.left,top:u?h.top-(p.top-h.top):p.top},r),Tb(d))),o({visibleArea:d,type:"move"}))}return{coordinates:s,visibleArea:d}}({flip:{horizontal:e?!o.horizontal:o.horizontal,vertical:t?!o.vertical:o.vertical},previousFlip:o,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),a=i.visibleArea,l=i.coordinates;e&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),t&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=a,this.coordinates=l,this.onChange(),r&&this.debouncedDisableTransitions()}},rotate:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).transitions,n=void 0===t||t;if(!this.transitionsActive){n&&this.enableTransitions();var r=Ug({},this.imageSize);this.appliedImageTransforms.rotate+=e;var o=function(e){var t=e.aspectRatio,n=e.getAreaRestrictions,r=e.coordinates,o=e.visibleArea,i=e.sizeRestrictions,a=e.positionRestrictions,l=e.imageSize,s=e.previousImageSize,d=e.angle,c=tb({},r),u=tb({},o),h=Yb(Tb(tb({left:0,top:0},s)),d);return(c=tb(tb({},Zb({sizeRestrictions:i,aspectRatio:t,width:c.width,height:c.height})),Yb(Tb(c),d))).left-=h.left-l.width/2+c.width/2,c.top-=h.top-l.height/2+c.height/2,u=Bb(u,Wb(u,n({visibleArea:u,type:"resize"}))),{coordinates:c=Ub(c,a),visibleArea:u=Ub(u=_b(u,Ob(Tb(c),Tb(r))),n({visibleArea:u,type:"move"}))}}({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:r,imageSize:this.imageSize,angle:e,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),i=o.visibleArea,a=o.coordinates,l=this.processAutoZoom("rotateImage",i,a);i=l.visibleArea,a=l.coordinates,this.visibleArea=i,this.coordinates=a,this.onChange(),n&&this.debouncedDisableTransitions()}}},emits:["change","error","ready"]},Fw={key:0,ref:"canvas",style:{display:"none"}},_w={key:1,ref:"sourceCanvas",style:{display:"none"}};Dw.render=function(e,t,n,r,o,i){return Rn(),Un("div",{ref:"cropper",class:i.classes.cropper},[En("div",{ref:"stretcher",class:i.classes.stretcher},null,2),En("div",{class:i.classes.boundaries,style:i.boundariesStyle},[(Rn(),Un(Vn(n.backgroundWrapperComponent),{class:i.classes.cropperWrapper,"wheel-resize":i.settings.resizeImage.wheel,"touch-resize":i.settings.resizeImage.touch,"touch-move":i.settings.moveImage.touch,"mouse-move":i.settings.moveImage.mouse,onMove:i.onManipulateImage,onResize:i.onManipulateImage},{default:jn(function(){return[En("div",{class:i.classes.background,style:i.boundariesStyle},null,6),En("div",{class:i.classes.imageWrapper},[En("img",{ref:"image",crossorigin:o.imageAttributes.crossOrigin,src:o.imageAttributes.src,class:i.classes.image,style:i.imageStyle,onMousedown:t[1]||(t[1]=tr(function(){},["prevent"]))},null,46,["crossorigin","src"])],2),En("div",{class:i.classes.foreground,style:i.boundariesStyle},null,6),S((Rn(),Un(Vn(n.stencilComponent),_({ref:"stencil",image:i.image,coordinates:o.coordinates,"stencil-coordinates":i.stencilCoordinates,transitions:i.transitionsOptions},n.stencilProps,{onResize:i.onResize,onResizeEnd:i.onResizeEnd,onMove:i.onMove,onMoveEnd:i.onMoveEnd}),null,16,["image","coordinates","stencil-coordinates","transitions","onResize","onResizeEnd","onMove","onMoveEnd"])),[[Ve,o.imageLoaded]]),n.canvas?(Rn(),Un("canvas",Fw,null,512)):In("",!0),n.canvas?(Rn(),Un("canvas",_w,null,512)):In("",!0)]}),_:1},8,["class","wheel-resize","touch-resize","touch-move","mouse-move","onMove","onResize"]))],6)],2)};const Bw={class:"image-editor-header"},Ew={class:"editor-title"},jw={class:"header-actions"},Iw={class:"image-editor-content"},Lw={class:"image-editor-image-area"},Nw={class:"cropper-container"},Hw={class:"image-editor-controls"},Yw={class:"controls-content"},Ww={key:0,class:"control-section"},Uw={class:"control-header"},Vw={class:"control-title"},qw={class:"transform-controls"},Xw={key:1,class:"control-section"},Qw={class:"control-header"},Kw={class:"control-title"},Zw={class:"filter-controls"},Gw={class:"filter-item"},Jw={class:"filter-label"},ey={class:"filter-control"},ty={class:"filter-value"},ny={class:"filter-item"},ry={class:"filter-label"},oy={class:"filter-control"},iy={class:"filter-value"},ay={class:"filter-item"},ly={class:"filter-label"},sy={class:"filter-control"},dy={class:"filter-value"},cy={key:2,class:"control-section"},uy={class:"control-header"},hy={class:"control-title"},py={class:"transform-controls"},fy={key:3,class:"control-section"},vy={class:"control-header"},my={class:"control-title"},gy={class:"transform-controls"},by={key:4,class:"control-section"},wy={class:"control-header"},yy={class:"control-title"},xy={class:"filter-controls"},ky={class:"filter-item"},Cy={class:"filter-label"},Sy={class:"filter-control"},zy={class:"filter-value"},$y={class:"filter-item"},My={class:"filter-label"},Ry={class:"filter-control"},Ay={class:"filter-value"},Oy={class:"filter-item"},Ty={class:"filter-label"},Py={class:"filter-control"},Dy={class:"filter-value"},Fy={class:"filter-item"},_y={class:"filter-label"},By={class:"filter-control"},Ey={class:"filter-value"},jy={key:5,class:"control-section"},Iy={class:"control-header"},Ly={class:"control-title"},Ny={class:"transform-controls effects-grid"},Hy={key:6,class:"control-section"},Yy={class:"control-header"},Wy={class:"control-title"},Uy={class:"transform-controls"},Vy=x({__name:"ImageEditor",props:{visible:{type:Boolean},imageSrc:{},title:{},cancelText:{},confirmText:{},showAspectRatio:{type:Boolean,default:!0},showFilters:{type:Boolean,default:!0},showTransform:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0},showColorAdjust:{type:Boolean,default:!0},showTonalAdjust:{type:Boolean,default:!0},showImageQuality:{type:Boolean,default:!0},showEffects:{type:Boolean,default:!0},showAdvancedTools:{type:Boolean,default:!0},showResetFilters:{type:Boolean,default:!0},showResetTransform:{type:Boolean,default:!0},showResetColors:{type:Boolean,default:!0},showResetTonal:{type:Boolean,default:!0},showResetQuality:{type:Boolean,default:!0},showResetEffects:{type:Boolean,default:!0},enableRotate:{type:Boolean,default:!0},enableFlip:{type:Boolean,default:!0},filterRanges:{default:()=>({brightness:{min:50,max:150,step:5},contrast:{min:50,max:150,step:5},saturate:{min:0,max:200,step:10}})},initialFilters:{default:()=>({brightness:100,contrast:100,saturate:100})},initialAspectRatio:{default:"free"},customAspectRatios:{}},emits:["update:visible","cancel","confirm","filter-change","color-adjust-change","tonal-adjust-change","image-quality-change","effects-change","aspect-ratio-change"],setup(e,{expose:t,emit:n}){const r=e,o=n,{t:l}=Tn(),s=Xn(),d=f(null),c=f(r.initialAspectRatio),u=f(null),h=f({brightness:r.initialFilters.brightness??100,contrast:r.initialFilters.contrast??100,saturate:r.initialFilters.saturate??100}),p=f({hue:0,blur:0,sepia:0,grayscale:0}),v=f({highlights:0,shadows:0}),m=f({sharpness:0,dehaze:0}),g=f({invert:!1,vintage:!1,cold:!1,warm:!1,hdr:!1,film:!1,blackWhiteEnhance:!1,skinSmooth:!1}),b=a(()=>r.customAspectRatios||[{label:l("Free Crop"),value:"free"},{label:"1:1",value:"1:1"},{label:"4:3",value:"4:3"},{label:"3:4",value:"3:4"},{label:"16:9",value:"16:9"},{label:"9:16",value:"9:16"}]),w=a(()=>{if("free"===c.value)return null;const[e,t]=c.value.split(":").map(Number);return e/t});function y(e){"Escape"===e.key&&r.visible&&(e.preventDefault(),e.stopPropagation(),k())}function x(e){u.value=e}function k(){o("update:visible",!1),o("cancel")}function C(){let e=u.value;if(!(null==e?void 0:e.canvas)&&d.value&&(e=d.value.getResult()),!(null==e?void 0:e.canvas))return;const t=e.canvas,n=document.createElement("canvas");n.width=t.width,n.height=t.height;const r=n.getContext("2d");if(!r)return;let i=`brightness(${h.value.brightness}%) contrast(${h.value.contrast}%) saturate(${h.value.saturate}%)`;if(0!==p.value.hue&&(i+=` hue-rotate(${p.value.hue}deg)`),p.value.blur>0&&(i+=` blur(${p.value.blur}px)`),p.value.sepia>0&&(i+=` sepia(${p.value.sepia}%)`),p.value.grayscale>0&&(i+=` grayscale(${p.value.grayscale}%)`),g.value.invert&&(i+=" invert(100%)"),g.value.vintage&&(i+=" sepia(30%) saturate(120%) contrast(110%)"),g.value.cold&&(i+=" hue-rotate(180deg) saturate(120%)"),g.value.warm&&(i+=" hue-rotate(20deg) saturate(110%) brightness(105%)"),g.value.hdr&&(i+=" contrast(130%) saturate(120%) brightness(110%)"),g.value.film&&(i+=" sepia(20%) contrast(105%) saturate(90%)"),g.value.blackWhiteEnhance&&(i+=" grayscale(100%) contrast(120%) brightness(105%)"),g.value.skinSmooth&&(i+=" blur(0.5px) brightness(102%) saturate(105%)"),0!==v.value.highlights){i+=` brightness(${100+.3*v.value.highlights}%)`}if(0!==v.value.shadows){i+=` contrast(${100+.2*v.value.shadows}%)`}m.value.sharpness>0&&(i+=` contrast(${100+.5*m.value.sharpness}%)`),m.value.dehaze>0&&(i+=` contrast(${100+.8*m.value.dehaze}%) brightness(${100+.3*m.value.dehaze}%)`),r.filter=i,r.drawImage(t,0,0),o("confirm",{canvas:n,filters:{...h.value},colorAdjust:{...p.value},tonalAdjust:{...v.value},imageQuality:{...m.value},effects:{...g.value},originalCanvas:t})}function S(){if(!d.value)return;let e=`brightness(${h.value.brightness}%) contrast(${h.value.contrast}%) saturate(${h.value.saturate}%)`;if(0!==p.value.hue&&(e+=` hue-rotate(${p.value.hue}deg)`),p.value.blur>0&&(e+=` blur(${p.value.blur}px)`),p.value.sepia>0&&(e+=` sepia(${p.value.sepia}%)`),p.value.grayscale>0&&(e+=` grayscale(${p.value.grayscale}%)`),g.value.invert&&(e+=" invert(100%)"),g.value.vintage&&(e+=" sepia(30%) saturate(120%) contrast(110%)"),g.value.cold&&(e+=" hue-rotate(180deg) saturate(120%)"),g.value.warm&&(e+=" hue-rotate(20deg) saturate(110%) brightness(105%)"),g.value.hdr&&(e+=" contrast(130%) saturate(120%) brightness(110%)"),g.value.film&&(e+=" sepia(20%) contrast(105%) saturate(90%)"),g.value.blackWhiteEnhance&&(e+=" grayscale(100%) contrast(120%) brightness(105%)"),g.value.skinSmooth&&(e+=" blur(0.5px) brightness(102%) saturate(105%)"),0!==v.value.highlights){const t=100+.3*v.value.highlights;e+=` brightness(${t}%)`}if(0!==v.value.shadows){const t=100+.2*v.value.shadows;e+=` contrast(${t}%)`}m.value.sharpness>0&&(e+=` contrast(${100+.5*m.value.sharpness}%)`),m.value.dehaze>0&&(e+=` contrast(${100+.8*m.value.dehaze}%) brightness(${100+.3*m.value.dehaze}%)`);const t=d.value.$el;if(t){t.querySelectorAll(".vue-advanced-cropper__image, .vue-advanced-cropper__background-image, img").forEach(t=>{t.style.filter=e})}}function z(){h.value={brightness:r.initialFilters.brightness??100,contrast:r.initialFilters.contrast??100,saturate:r.initialFilters.saturate??100},S()}function $(){p.value={hue:0,blur:0,sepia:0,grayscale:0},S()}function M(){v.value={highlights:0,shadows:0},S()}function R(){m.value={sharpness:0,dehaze:0},S()}function A(){g.value={invert:!1,vintage:!1,cold:!1,warm:!1,hdr:!1,film:!1,blackWhiteEnhance:!1,skinSmooth:!1},S()}function O(e){g.value[e]||Object.keys(g.value).forEach(e=>{g.value[e]=!1}),g.value[e]=!g.value[e],S()}function T(){h.value={brightness:105,contrast:110,saturate:115},S()}function P(){z(),$(),M(),R(),A(),c.value=r.initialAspectRatio,d.value&&d.value.reset()}function F(e){d.value&&d.value.rotate(e)}function _(e){d.value&&("horizontal"===e?d.value.flip(!0,!1):d.value.flip(!1,!0))}function B(){d.value&&d.value.reset()}function E(){d.value&&d.value.zoom(1.1)}function j(){d.value&&d.value.zoom(.9)}return i(()=>r.visible,e=>{e?D(()=>{if(c.value=r.initialAspectRatio,h.value={brightness:r.initialFilters.brightness??100,contrast:r.initialFilters.contrast??100,saturate:r.initialFilters.saturate??100},p.value={hue:0,blur:0,sepia:0,grayscale:0},v.value={highlights:0,shadows:0},m.value={sharpness:0,dehaze:0},g.value={invert:!1,vintage:!1,cold:!1,warm:!1,hdr:!1,film:!1,blackWhiteEnhance:!1,skinSmooth:!1},S(),d.value){const e=d.value.getResult();e&&(u.value=e)}document.body.style.overflow="hidden",document.addEventListener("keydown",y)}):(document.body.style.overflow="",document.removeEventListener("keydown",y))}),i(w,e=>{d.value&&D(()=>{var e;null==(e=d.value)||e.refresh()})}),i(c,e=>{o("aspect-ratio-change",e)}),i(h,e=>{o("filter-change",e)},{deep:!0}),i(p,e=>{o("color-adjust-change",e)},{deep:!0}),i(v,e=>{o("tonal-adjust-change",e)},{deep:!0}),i(m,e=>{o("image-quality-change",e)},{deep:!0}),i(g,e=>{o("effects-change",e)},{deep:!0}),t({resetFilters:z,resetColorAdjust:$,resetTonalAdjust:M,resetImageQuality:R,resetEffects:A,resetAll:P,resetRotation:B,rotateImage:F,flipImage:_,zoomIn:E,zoomOut:j,toggleEffect:O,autoEnhance:T,updatePreviewFilter:S,get cropperRef(){return d.value},get filters(){return h.value},get colorAdjust(){return p.value},get tonalAdjust(){return v.value},get imageQuality(){return m.value},get effects(){return g.value}}),(t,n)=>(Rn(),Un(nr,{to:"body"},[En(De,{name:"image-editor-fade","enter-active-class":"image-editor-enter-active","leave-active-class":"image-editor-leave-active","enter-from-class":"image-editor-enter-from","leave-to-class":"image-editor-leave-to"},{default:jn(()=>[e.visible?(Rn(),Mn("div",{key:0,class:"image-editor-overlay",onClick:tr(k,["self"])},[An("div",{class:Wn(["image-editor-container",{dark:Ln(s).isDark}])},[An("div",Bw,[An("h2",Ew,Hn(e.title||Ln(l)("Image Editing")),1),An("div",jw,[En(Ln(Ut),{tertiary:"",type:"default",onClick:k,class:"cancel-btn"},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Dv))]),_:1})]),default:jn(()=>[Kn(" "+Hn(e.cancelText||Ln(l)("Cancel")),1)]),_:1}),En(Ln(Ut),{type:"primary",onClick:C,class:"confirm-btn"},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Sv))]),_:1})]),default:jn(()=>[Kn(" "+Hn(e.confirmText||Ln(l)("Confirm")),1)]),_:1})])]),An("div",Iw,[An("div",Lw,[An("div",Nw,[En(Ln(Dw),{ref_key:"cropperRef",ref:d,src:e.imageSrc,"stencil-props":{aspectRatio:w.value},onChange:x,class:"image-cropper"},null,8,["src","stencil-props"])])]),An("div",Hw,[An("div",Yw,[e.showAspectRatio?(Rn(),Mn("div",Ww,[An("div",Uw,[An("h3",Vw,Hn(Ln(l)("Aspect Ratio")),1)]),An("div",qw,[(Rn(!0),Mn(Ze,null,Yn(b.value,e=>(Rn(),Un(Ln(Ut),{key:e.value,size:"small",type:c.value===e.value?"primary":"default",onClick:t=>c.value=e.value,class:"transform-btn"},{default:jn(()=>[Kn(Hn(e.label),1)]),_:2},1032,["type","onClick"]))),128))])])):In("",!0),e.showFilters?(Rn(),Mn("div",Xw,[An("div",Qw,[An("h3",Kw,Hn(Ln(l)("Filters")),1),e.showResetFilters?(Rn(),Un(Ln(tu),{key:0,placement:"top",trigger:"hover"},{trigger:jn(()=>[En(Ln(Ut),{size:"tiny",quaternary:"",circle:"",onClick:z,class:"reset-icon-btn",title:Ln(l)("Reset")},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Hm))]),_:1})]),_:1},8,["title"])]),default:jn(()=>[Kn(" "+Hn(Ln(l)("Reset")),1)]),_:1})):In("",!0)]),An("div",Zw,[An("div",Gw,[An("div",Jw,Hn(Ln(l)("Brightness")),1),An("div",ey,[En(Ln(Rf),{value:h.value.brightness,"onUpdate:value":[n[0]||(n[0]=e=>h.value.brightness=e),S],min:e.filterRanges.brightness.min,max:e.filterRanges.brightness.max,step:e.filterRanges.brightness.step,class:"filter-slider"},null,8,["value","min","max","step"]),An("span",ty,Hn(h.value.brightness)+"%",1)])]),An("div",ny,[An("div",ry,Hn(Ln(l)("Contrast")),1),An("div",oy,[En(Ln(Rf),{value:h.value.contrast,"onUpdate:value":[n[1]||(n[1]=e=>h.value.contrast=e),S],min:e.filterRanges.contrast.min,max:e.filterRanges.contrast.max,step:e.filterRanges.contrast.step,class:"filter-slider"},null,8,["value","min","max","step"]),An("span",iy,Hn(h.value.contrast)+"%",1)])]),An("div",ay,[An("div",ly,Hn(Ln(l)("Saturation")),1),An("div",sy,[En(Ln(Rf),{value:h.value.saturate,"onUpdate:value":[n[2]||(n[2]=e=>h.value.saturate=e),S],min:e.filterRanges.saturate.min,max:e.filterRanges.saturate.max,step:e.filterRanges.saturate.step,class:"filter-slider"},null,8,["value","min","max","step"]),An("span",dy,Hn(h.value.saturate)+"%",1)])])])])):In("",!0),e.showTransform?(Rn(),Mn("div",cy,[An("div",uy,[An("h3",hy,Hn(Ln(l)("Transform")),1),e.showResetTransform?(Rn(),Un(Ln(tu),{key:0,placement:"top",trigger:"hover"},{trigger:jn(()=>[En(Ln(Ut),{size:"tiny",quaternary:"",circle:"",onClick:B,class:"reset-icon-btn",title:Ln(l)("Reset")},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Hm))]),_:1})]),_:1},8,["title"])]),default:jn(()=>[Kn(" "+Hn(Ln(l)("Reset")),1)]),_:1})):In("",!0)]),An("div",py,[e.enableRotate?(Rn(),Un(Ln(Ut),{key:0,size:"small",onClick:n[3]||(n[3]=e=>F(-90)),class:"transform-btn"},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Hm))]),_:1})]),default:jn(()=>[Kn(" "+Hn(Ln(l)("Rotate Left")),1)]),_:1})):In("",!0),e.enableRotate?(Rn(),Un(Ln(Ut),{key:1,size:"small",onClick:n[4]||(n[4]=e=>F(90)),class:"transform-btn"},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Hm),{style:{transform:"scaleX(-1)"}})]),_:1})]),default:jn(()=>[Kn(" "+Hn(Ln(l)("Rotate Right")),1)]),_:1})):In("",!0),e.enableFlip?(Rn(),Un(Ln(Ut),{key:2,size:"small",onClick:n[5]||(n[5]=e=>_("horizontal")),class:"transform-btn"},{default:jn(()=>[Kn(Hn(Ln(l)("Flip Horizontal")),1)]),_:1})):In("",!0),e.enableFlip?(Rn(),Un(Ln(Ut),{key:3,size:"small",onClick:n[6]||(n[6]=e=>_("vertical")),class:"transform-btn"},{default:jn(()=>[Kn(Hn(Ln(l)("Flip Vertical")),1)]),_:1})):In("",!0)])])):In("",!0),e.showZoom?(Rn(),Mn("div",fy,[An("div",vy,[An("h3",my,Hn(Ln(l)("Zoom")),1)]),An("div",gy,[En(Ln(Ut),{size:"small",onClick:j,class:"transform-btn"},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Um))]),_:1})]),default:jn(()=>[Kn(" "+Hn(Ln(l)("Zoom Out")),1)]),_:1}),En(Ln(Ut),{size:"small",onClick:E,class:"transform-btn"},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(ov))]),_:1})]),default:jn(()=>[Kn(" "+Hn(Ln(l)("Zoom In")),1)]),_:1})])])):In("",!0),e.showColorAdjust?(Rn(),Mn("div",by,[An("div",wy,[An("h3",yy,Hn(Ln(l)("Color Adjust")),1),e.showResetColors?(Rn(),Un(Ln(tu),{key:0,placement:"top",trigger:"hover"},{trigger:jn(()=>[En(Ln(Ut),{size:"tiny",quaternary:"",circle:"",onClick:$,class:"reset-icon-btn",title:Ln(l)("Reset")},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Hm))]),_:1})]),_:1},8,["title"])]),default:jn(()=>[Kn(" "+Hn(Ln(l)("Reset")),1)]),_:1})):In("",!0)]),An("div",xy,[An("div",ky,[An("div",Cy,Hn(Ln(l)("Hue")),1),An("div",Sy,[En(Ln(Rf),{value:p.value.hue,"onUpdate:value":[n[7]||(n[7]=e=>p.value.hue=e),S],min:-180,max:180,step:5,class:"filter-slider"},null,8,["value"]),An("span",zy,Hn(p.value.hue)+"°",1)])]),An("div",$y,[An("div",My,Hn(Ln(l)("Blur")),1),An("div",Ry,[En(Ln(Rf),{value:p.value.blur,"onUpdate:value":[n[8]||(n[8]=e=>p.value.blur=e),S],min:0,max:10,step:.5,class:"filter-slider"},null,8,["value"]),An("span",Ay,Hn(p.value.blur)+"px",1)])]),An("div",Oy,[An("div",Ty,Hn(Ln(l)("Sepia")),1),An("div",Py,[En(Ln(Rf),{value:p.value.sepia,"onUpdate:value":[n[9]||(n[9]=e=>p.value.sepia=e),S],min:0,max:100,step:5,class:"filter-slider"},null,8,["value"]),An("span",Dy,Hn(p.value.sepia)+"%",1)])]),An("div",Fy,[An("div",_y,Hn(Ln(l)("Grayscale")),1),An("div",By,[En(Ln(Rf),{value:p.value.grayscale,"onUpdate:value":[n[10]||(n[10]=e=>p.value.grayscale=e),S],min:0,max:100,step:5,class:"filter-slider"},null,8,["value"]),An("span",Ey,Hn(p.value.grayscale)+"%",1)])])])])):In("",!0),e.showEffects?(Rn(),Mn("div",jy,[An("div",Iy,[An("h3",Ly,Hn(Ln(l)("Effects")),1),e.showResetEffects?(Rn(),Un(Ln(tu),{key:0,placement:"top",trigger:"hover"},{trigger:jn(()=>[En(Ln(Ut),{size:"tiny",quaternary:"",circle:"",onClick:A,class:"reset-icon-btn",title:Ln(l)("Reset")},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Hm))]),_:1})]),_:1},8,["title"])]),default:jn(()=>[Kn(" "+Hn(Ln(l)("Reset")),1)]),_:1})):In("",!0)]),An("div",Ny,[En(Ln(Ut),{size:"small",type:g.value.invert?"primary":"default",onClick:n[11]||(n[11]=e=>O("invert")),class:"transform-btn"},{default:jn(()=>[Kn(Hn(Ln(l)("Invert")),1)]),_:1},8,["type"]),En(Ln(Ut),{size:"small",type:g.value.vintage?"primary":"default",onClick:n[12]||(n[12]=e=>O("vintage")),class:"transform-btn"},{default:jn(()=>[Kn(Hn(Ln(l)("Vintage")),1)]),_:1},8,["type"]),En(Ln(Ut),{size:"small",type:g.value.cold?"primary":"default",onClick:n[13]||(n[13]=e=>O("cold")),class:"transform-btn"},{default:jn(()=>[Kn(Hn(Ln(l)("Cold Tone")),1)]),_:1},8,["type"]),En(Ln(Ut),{size:"small",type:g.value.warm?"primary":"default",onClick:n[14]||(n[14]=e=>O("warm")),class:"transform-btn"},{default:jn(()=>[Kn(Hn(Ln(l)("Warm Tone")),1)]),_:1},8,["type"]),En(Ln(Ut),{size:"small",type:g.value.hdr?"primary":"default",onClick:n[15]||(n[15]=e=>O("hdr")),class:"transform-btn"},{default:jn(()=>[Kn(Hn(Ln(l)("HDR Effect")),1)]),_:1},8,["type"]),En(Ln(Ut),{size:"small",type:g.value.film?"primary":"default",onClick:n[16]||(n[16]=e=>O("film")),class:"transform-btn"},{default:jn(()=>[Kn(Hn(Ln(l)("Film Look")),1)]),_:1},8,["type"]),En(Ln(Ut),{size:"small",type:g.value.blackWhiteEnhance?"primary":"default",onClick:n[17]||(n[17]=e=>O("blackWhiteEnhance")),class:"transform-btn"},{default:jn(()=>[Kn(Hn(Ln(l)("B&W Enhance")),1)]),_:1},8,["type"]),En(Ln(Ut),{size:"small",type:g.value.skinSmooth?"primary":"default",onClick:n[18]||(n[18]=e=>O("skinSmooth")),class:"transform-btn"},{default:jn(()=>[Kn(Hn(Ln(l)("Skin Smooth")),1)]),_:1},8,["type"])])])):In("",!0),e.showAdvancedTools?(Rn(),Mn("div",Hy,[An("div",Yy,[An("h3",Wy,Hn(Ln(l)("Advanced Tools")),1)]),An("div",Uy,[En(Ln(Ut),{size:"small",onClick:T,class:"transform-btn"},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(rg))]),_:1})]),default:jn(()=>[Kn(" "+Hn(Ln(l)("Auto Enhance")),1)]),_:1}),En(Ln(Ut),{size:"small",onClick:P,class:"transform-btn"},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Hm))]),_:1})]),default:jn(()=>[Kn(" "+Hn(Ln(l)("Reset All")),1)]),_:1})])])):In("",!0),L(t.$slots,"custom-controls",{cropper:d.value,filters:h.value,colorAdjust:p.value,effects:g.value},void 0,!0)])])])],2)])):In("",!0)]),_:3})]))}}),qy=qn(Vy,[["__scopeId","data-v-712a08b2"]]),Xy=[];for(let vC=0;vC<256;++vC)Xy.push((vC+256).toString(16).slice(1));let Qy;const Ky=new Uint8Array(16);const Zy={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Gy(e,t,n){var r;if(Zy.randomUUID&&!e)return Zy.randomUUID();const o=(e=e||{}).random??(null==(r=e.rng)?void 0:r.call(e))??function(){if(!Qy){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Qy=crypto.getRandomValues.bind(crypto)}return Qy(Ky)}();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=15&o[6]|64,o[8]=63&o[8]|128,function(e,t=0){return(Xy[e[t+0]]+Xy[e[t+1]]+Xy[e[t+2]]+Xy[e[t+3]]+"-"+Xy[e[t+4]]+Xy[e[t+5]]+"-"+Xy[e[t+6]]+Xy[e[t+7]]+"-"+Xy[e[t+8]]+Xy[e[t+9]]+"-"+Xy[e[t+10]]+Xy[e[t+11]]+Xy[e[t+12]]+Xy[e[t+13]]+Xy[e[t+14]]+Xy[e[t+15]]).toLowerCase()}(o)}const Jy=rr("uploadQueue",()=>{const e=f([]),t=f(!1),n=f(0);return{fileQueue:e,showQueue:t,currentUploads:n,hasFiles:()=>e.value.length>0,isUploading:()=>e.value.some(e=>"uploading"===e.status),uploadingCount:()=>e.value.filter(e=>"uploading"===e.status).length,overallProgress:()=>{const t=e.value.filter(e=>"uploading"===e.status);if(0===t.length)return 0;const n=t.reduce((e,t)=>e+t.progress,0);return Math.round(n/t.length)},addFiles:function(t){e.value.unshift(...t)},removeFile:function(t){const n=e.value.findIndex(e=>e.id===t);-1!==n&&e.value.splice(n,1)},updateFileStatus:function(t,n,r,o=null,i=null){const a=e.value.find(e=>e.id===t);a&&(a.status=n,a.progress=r,null!==o&&(a.error=o),null!==i&&(a.response=i))},updateFileFormData:function(t,n){const r=e.value.find(e=>e.id===t);r&&(r.formData=n)},updateFileThumbnail:function(t,n){const r=e.value.find(e=>e.id===t);if(r){r.thumbnail=n;const o=e.value.findIndex(e=>e.id===t);-1!==o&&(e.value[o]={...e.value[o]})}},clearQueue:function(){e.value=e.value.filter(e=>"uploading"===e.status||"pending"===e.status)},toggleQueue:function(){t.value=!t.value},setShowQueue:function(e){t.value=e},incrementCurrentUploads:function(){n.value++},decrementCurrentUploads:function(){n.value>0&&n.value--}}});const ex={all:tx=tx||new Map,on:function(e,t){var n=tx.get(e);n?n.push(t):tx.set(e,[t])},off:function(e,t){var n=tx.get(e);n&&(t?n.splice(n.indexOf(t)>>>0,1):tx.set(e,[]))},emit:function(e,t){var n=tx.get(e);n&&n.slice().map(function(e){e(t)}),(n=tx.get("*"))&&n.slice().map(function(n){n(e,t)})}};var tx;const nx={TRIGGER_UPLOAD_BUTTON:"trigger-upload-button",OPEN_UPLOAD_QUEUE:"open-upload-queue"};const rx=new class{constructor(){t(this,"registered",!1),t(this,"pasteHandler",null)}register(e){return!this.registered&&(this.pasteHandler=e,document.addEventListener("paste",e),this.registered=!0,!0)}unregister(){return!(!this.registered||!this.pasteHandler)&&(document.removeEventListener("paste",this.pasteHandler),this.pasteHandler=null,this.registered=!1,!0)}isRegistered(){return this.registered}openUploadQueue(){ex.emit(nx.OPEN_UPLOAD_QUEUE)}};const ox=new class{constructor(){t(this,"registered",!1),t(this,"dragEnterHandler",null),t(this,"dragOverHandler",null),t(this,"dragLeaveHandler",null),t(this,"dropHandler",null),t(this,"dragCounter",0),t(this,"config",{})}register(e,t={}){return!this.registered&&(this.config={dragText:t.dragText||"拖拽文件到此处上传",dragSubtext:t.dragSubtext||"支持图片格式: jpg, png, gif, webp",...t},this.dragEnterHandler=e=>{e.preventDefault(),this.dragCounter++,1===this.dragCounter&&this.showDragOverlay()},this.dragOverHandler=e=>{e.preventDefault();const t=e;t.dataTransfer&&(t.dataTransfer.dropEffect="copy")},this.dragLeaveHandler=e=>{e.preventDefault(),this.dragCounter--,0===this.dragCounter&&this.hideDragOverlay()},this.dropHandler=t=>{var n;t.preventDefault(),this.dragCounter=0,this.hideDragOverlay();const r=null==(n=t.dataTransfer)?void 0:n.files;r&&r.length>0&&e(r)},document.addEventListener("dragenter",this.dragEnterHandler),document.addEventListener("dragover",this.dragOverHandler),document.addEventListener("dragleave",this.dragLeaveHandler),document.addEventListener("drop",this.dropHandler),this.registered=!0,!0)}unregister(){return!!this.registered&&(this.dragEnterHandler&&(document.removeEventListener("dragenter",this.dragEnterHandler),this.dragEnterHandler=null),this.dragOverHandler&&(document.removeEventListener("dragover",this.dragOverHandler),this.dragOverHandler=null),this.dragLeaveHandler&&(document.removeEventListener("dragleave",this.dragLeaveHandler),this.dragLeaveHandler=null),this.dropHandler&&(document.removeEventListener("drop",this.dropHandler),this.dropHandler=null),this.hideDragOverlay(),this.dragCounter=0,this.registered=!1,!0)}isRegistered(){return this.registered}showDragOverlay(){let e=document.getElementById("drag-drop-overlay");if(!e){e=document.createElement("div"),e.id="drag-drop-overlay",e.innerHTML=`\n        <div class="drag-drop-content">\n          <div class="drag-drop-icon">\n            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20Z" fill="currentColor"/>\n              <path d="M12 14L8 10H11V6H13V10H16L12 14Z" fill="currentColor"/>\n            </svg>\n          </div>\n          <div class="drag-drop-text">${this.config.dragText}</div>\n          <div class="drag-drop-subtext">${this.config.dragSubtext}</div>\n        </div>\n      `,e.style.cssText="\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.8);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        z-index: 999999;\n        backdrop-filter: blur(4px);\n        opacity: 0;\n        transition: opacity 0.3s ease;\n        pointer-events: none;\n      ";const t=e.querySelector(".drag-drop-content");t&&(t.style.cssText="\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          color: white;\n          text-align: center;\n          padding: 40px;\n          border: 3px dashed rgba(255, 255, 255, 0.5);\n          border-radius: 12px;\n          background: rgba(255, 255, 255, 0.1);\n          backdrop-filter: blur(8px);\n          max-width: 400px;\n          animation: dragBounce 0.6s ease-out;\n        ");const n=e.querySelector(".drag-drop-icon");n&&(n.style.cssText="\n          margin-bottom: 16px;\n          opacity: 0.8;\n        ");const r=e.querySelector(".drag-drop-text");r&&(r.style.cssText="\n          font-size: 20px;\n          font-weight: 600;\n          margin-bottom: 8px;\n        ");const o=e.querySelector(".drag-drop-subtext");o&&(o.style.cssText="\n          font-size: 14px;\n          opacity: 0.7;\n        ");const i=document.createElement("style");i.textContent="\n        @keyframes dragBounce {\n          0% { transform: scale(0.8); opacity: 0; }\n          50% { transform: scale(1.05); }\n          100% { transform: scale(1); opacity: 1; }\n        }\n      ",document.head.appendChild(i),document.body.appendChild(e)}setTimeout(()=>{e&&(e.style.opacity="1")},10)}hideDragOverlay(){const e=document.getElementById("drag-drop-overlay");e&&(e.style.opacity="0",setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},300))}openUploadQueue(){ex.emit(nx.OPEN_UPLOAD_QUEUE)}},ix={class:"image-uploader"},ax={class:"flex justify-between mb-4"},lx={class:"space-x-2"},sx={key:0,class:"mb-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg"},dx={class:"mb-3"},cx={class:"flex space-x-2"},ux={key:0,class:"mt-3"},hx={class:"mt-2 space-y-1"},px={class:"ml-2 text-gray-500"},fx={key:1,class:"mb-4 text-sm text-gray-500"},vx={key:0,class:"py-4 text-center text-gray-500"},mx={class:"flex items-center"},gx={class:"w-16 h-16 mr-3 overflow-hidden rounded-md bg-gray-200 dark:bg-gray-700 flex items-center justify-center"},bx=["src","alt"],wx={class:"flex-1 min-w-0"},yx={class:"text-sm font-medium truncate"},xx={class:"text-xs text-gray-500"},kx={class:"mt-1 h-6 flex items-center"},Cx={key:0,class:"w-full"},Sx={class:"flex items-center justify-between mb-1"},zx={class:"text-xs text-zinc-500"},$x={class:"text-xs text-zinc-900 dark:text-zinc-100 font-medium"},Mx={class:"w-full h-1 bg-zinc-200 dark:bg-zinc-700 rounded-full overflow-hidden"},Rx={key:1,class:"text-xs text-red-500 truncate"},Ax={class:"cursor-help"},Ox={class:"tooltip-content"},Tx=["onClick"],Px={key:2},Dx={key:2,class:"text-xs text-green-500 flex items-center"},Fx={key:3,class:"text-xs text-gray-500 flex items-center"},_x={class:"flex justify-between mt-2"},Bx={key:0,class:"flex space-x-1"},Ex={class:"flex space-x-1"},jx={key:0,class:"upload-indicator"},Ix={class:"upload-indicator-text"},Lx={class:"flex justify-end mt-4"},Nx={class:"flex justify-end mt-4"},Hx={key:0},Yx={class:"mb-4"},Wx={class:"text-sm text-gray-500 mb-2"},Ux={class:"flex justify-end mt-4"},Vx={class:"error-details-content"},qx={class:"text-red-500 mb-2"},Xx={class:"bg-gray-100 dark:bg-gray-800 p-3 rounded overflow-auto max-h-80 whitespace-pre-wrap break-all text-sm"},Qx=x({__name:"ImageUploader",props:{endpoint:{type:String,default:"/api/v2/upload"},maxFileSize:{type:Number,default:5242880},minFileSize:{type:Number,default:0},maxTotalFileSize:{type:Number,default:0},maxNumberOfFiles:{type:Number,default:0},minNumberOfFiles:{type:Number,default:0},allowedFileTypes:{type:Array,default:()=>[".jpg",".jpeg",".png",".gif",".bmp",".webp",".tif"]},concurrency:{type:Number,default:3},formData:{type:Object,default:()=>({})},headers:{type:Object,default:()=>({})},tip:{type:String,default:""},defaultStorage:{type:String,default:""},continueQueue:{type:Boolean,default:!0}},emits:["upload-success","upload-error","upload-progress","queue-change"],setup(e,{expose:t,emit:o}){const l=e,s=o,d=_n(),c=Bn(),u=Pn(),h=Jy(),p=Ah(),v=Tn(),m=f(null),g=f(null),b=f(null),w=a({get:()=>h.showQueue,set:e=>h.showQueue=e}),y=a(()=>d.isMobile?"100%":"450px"),x=a(()=>h.fileQueue),k=a(()=>h.hasFiles()),C=a(()=>h.isUploading()),S=a(()=>h.uploadingCount()),z=a(()=>h.overallProgress()),$=a(()=>x.value.some(e=>"success"===e.status)),M=f({}),R=f(!1),A=f(""),O=f(!1),T=f([]),P=f({}),D=f(!1),F=f(null),_=f(null),B=f("free"),E=f(!1),j=f(!1),I=f(null),L=f(!1),N=f(null),H=f(!1),Y=f(""),W=a(()=>{var e;return(null==(e=u.group)?void 0:e.storages)||[]}),U=f([]),V=a(()=>{const e=d.isMobile?"80vh":"100vh",t=(d.isMobile?160:190)+(R.value?d.isMobile?120:160:0);return{height:(d.isMobile,`calc(${e} - ${t}px)`)}}),q=()=>{var e,t,n,r;if(l.defaultStorage)return l.defaultStorage;const o=null==(t=null==(e=c.profile)?void 0:e.options)?void 0:t.default_storage_id;if(o){if(((null==(n=u.group)?void 0:n.storages)||[]).some(e=>e.id===o))return o}const i=(null==(r=u.group)?void 0:r.storages)||[];return i.length>0?i[0].id:null},X=f({storage_id:q(),album_id:null,expired_at:null,intro:"","tags[]":[],is_public:!1}),Q=f({name:"",storage_id:q(),album_id:null,expired_at:null,intro:"","tags[]":[],is_public:!1});function K(e){return Array.isArray(e)?e.filter(e=>null!=e&&""!==e):[]}function Z(e){var t;const n=(null==(t=e.response)?void 0:t.data)||{},r=e.formData||{};let o=[];return n.tags&&Array.isArray(n.tags)&&n.tags.length>0?o=function(e){return e&&Array.isArray(e)?e.map(e=>"string"==typeof e?e:e&&"object"==typeof e&&e.name?e.name:null).filter(e=>null!==e):[]}(n.tags):r["tags[]"]&&Array.isArray(r["tags[]"])&&r["tags[]"].length>0&&(o=K(r["tags[]"])),{name:n.name||r.name||e.file.name,storage_id:n.storage_id||r.storage_id||q(),album_id:n.album_id||r.album_id||null,expired_at:n.expired_at||r.expired_at||null,intro:void 0!==n.intro?n.intro:r.intro||"","tags[]":o,is_public:void 0!==n.is_public?Boolean(n.is_public):void 0!==r.is_public&&Boolean(r.is_public)}}async function G(){var e,t,n;if(c.isLoggedIn)try{const r=await or({query:{page:1,per_page:100}}),o=(null==(t=null==(e=r.data)?void 0:e.data)?void 0:t.data)||(null==(n=r.data)?void 0:n.data)||r.data||[];U.value=Array.isArray(o)?o:[]}catch(r){U.value=[]}}function J(){var e;null==(e=m.value)||e.click()}function ee(e){const t=e.target;if(!t.files||0===t.files.length)return;const n=Array.from(t.files);t.value="",te(n)}function te(e){const t=e.filter(e=>{var t;const n="."+(null==(t=e.name.split(".").pop())?void 0:t.toLowerCase());return!l.allowedFileTypes.includes(n)});if(t.length>0)return void p.error(`不支持的文件类型: ${t.map(e=>e.name).join(", ")}`);const n=e.filter(e=>!t.includes(e));if(0===n.length)return;const r=[];n.forEach(e=>{if(l.maxFileSize>0&&e.size>l.maxFileSize)return void p.error(`文件 ${e.name} 大小超过限制 ${pg.fileSize(l.maxFileSize)}`);if(l.minFileSize>0&&e.size<l.minFileSize)return void p.error(`文件 ${e.name} 大小低于最小限制 ${pg.fileSize(l.minFileSize)}`);const t=URL.createObjectURL(e),n={id:Gy(),file:e,objectUrl:t,thumbnail:null,status:"pending",progress:0,error:null,response:null,formData:{}};ne(n),r.push(n)}),h.addFiles(r),h.showQueue=!0,s("queue-change",x.value)}function ne(e){const t=new Image;t.onload=()=>{const n=document.createElement("canvas"),r=n.getContext("2d");let o=t.width,i=t.height;o>i?o>160&&(i*=160/o,o=160):i>160&&(o*=160/i,i=160),n.width=o,n.height=i,r&&(r.drawImage(t,0,0,o,i),e.thumbnail=n.toDataURL("image/jpeg"),h.updateFileThumbnail(e.id,e.thumbnail))},t.onerror=()=>{},t.src=e.objectUrl}function re(){x.value.forEach(e=>{if("uploading"===e.status){const t=M.value[e.id];t&&(t.cancel("用户取消上传"),delete M.value[e.id])}e.objectUrl&&URL.revokeObjectURL(e.objectUrl)}),h.clearQueue(),s("queue-change",x.value)}async function oe(e){F.value=e;const t=x.value[e],n=await async function(e){return new Promise(t=>{const n=new Image;n.onload=()=>{t(e.objectUrl)},n.onerror=()=>{e.objectUrl&&URL.revokeObjectURL(e.objectUrl);const n=URL.createObjectURL(e.file);e.objectUrl=n;const r=x.value.findIndex(t=>t.id===e.id);-1!==r&&(x.value[r].objectUrl=n,ne(x.value[r])),t(n)},n.src=e.objectUrl})}(t);_.value={...t,objectUrl:n},D.value=!0,B.value="free"}function ie(){D.value=!1,F.value=null,_.value=null}function ae(e){e.canvas&&_.value&&null!==F.value&&e.canvas.toBlob(e=>{if(!e||!_.value||null===F.value)return;const t=_.value.file.name,n=t.split(".").pop()||"jpg",r=new File([e],t,{type:`image/${n}`}),o=F.value,i=x.value[o],a=i.objectUrl,l=URL.createObjectURL(r),d={...i,file:r,objectUrl:l,thumbnail:null,status:"pending",progress:0,error:null,response:null};x.value[o]=d,ne(d),D.value=!1,F.value=null,_.value=null,setTimeout(()=>{a&&URL.revokeObjectURL(a)},100),s("queue-change",x.value)},"image/jpeg",.9)}function le(e,t=!1){const n=x.value[e];if("uploading"===n.status)return;h.updateFileStatus(n.id,"uploading",0,null);const r=new FormData;r.append("file",n.file);const o=function(e){const t={...l.formData},n={...X.value},r=e.formData||{},o={...t,...n,...r};void 0!==o.is_public&&(o.is_public=o.is_public?1:0);return Object.keys(o).forEach(e=>{null!==o[e]&&void 0!==o[e]&&""!==o[e]||delete o[e]}),o}(n);Object.entries(o).forEach(([e,t])=>{if(null!=t&&""!==t)if(Array.isArray(t)){const n=e.endsWith("[]")?e:`${e}[]`;t.forEach(e=>r.append(n,e))}else r.append(e,t)});const i=lr.CancelToken.source();M.value[n.id]=i;let a=0;lr.post(l.endpoint,r,{headers:{"Content-Type":"multipart/form-data",...l.headers},cancelToken:i.token,onUploadProgress:e=>{const t=e.total||n.file.size;if(t>0){const r=Math.round(100*e.loaded/t);r!==a&&(a=r,h.updateFileStatus(n.id,"uploading",Math.min(r,99),null),s("upload-progress",{file:n,progress:r}))}}}).then(e=>{const r=e.data;if("error"===r.status){const e=r.message||"上传失败";h.updateFileStatus(n.id,"error",0,e),s("upload-error",{file:n,error:e})}else h.updateFileStatus(n.id,"success",100,null,r),s("upload-success",{file:n,response:r});delete M.value[n.id],t&&ue()}).catch(e=>{if(delete M.value[n.id],lr.isCancel(e))return void h.updateFileStatus(n.id,"pending",0,null);let r="上传失败";if(e.response){const t=e.response.data;if(t.message)r=t.message;else if(t.data&&t.data.errors){const e=Object.keys(t.data.errors)[0],n=t.data.errors[e];r=Array.isArray(n)?n[0]:n}}else e.message&&(r=e.message);h.updateFileStatus(n.id,"error",0,r),s("upload-error",{file:n,error:r}),t&&ue()})}function se(e){const t=x.value[e],n=M.value[t.id];n&&(n.cancel("用户取消上传"),delete M.value[t.id]),h.updateFileStatus(t.id,"pending",0,null)}function de(){Object.values(M.value).forEach(e=>{e.cancel("用户取消所有上传")}),M.value={},x.value.forEach(e=>{"uploading"===e.status&&h.updateFileStatus(e.id,"pending",0,null)})}function ce(){const e=x.value.filter(e=>"pending"===e.status);if(0===e.length)return void p.info("没有待上传的文件");const t=Math.min(l.concurrency,e.length);for(let n=0;n<t;n++){const e=x.value.findIndex(e=>"pending"===e.status);-1!==e&&le(e,!0)}}function ue(){if(h.uploadingCount()>=l.concurrency)return;const e=x.value.findIndex(e=>"pending"===e.status);-1!==e&&le(e,!0)}function he(e){e.preventDefault(),h.showQueue=!0}function pe(e){const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")?p.success("链接已复制到剪贴板"):p.error("复制失败")}catch(n){p.error("复制失败")}finally{document.body.removeChild(t)}}function fe(){c.isLoggedIn&&0===U.value.length&&G(),E.value=!0}function ve(){g.value&&g.value.validate(e=>{e||(!function(){const e={storage_id:X.value.storage_id,album_id:X.value.album_id,expired_at:X.value.expired_at,intro:X.value.intro,"tags[]":K(X.value["tags[]"]),is_public:X.value.is_public};x.value.forEach(t=>{"success"!==t.status&&(t.formData={...t.formData,...e})})}(),E.value=!1,p.success("全局设置已保存并应用到未上传的文件"))})}async function me(){var e,t,n,r;if(!b.value||null===I.value)return;const o=I.value,i=x.value[o];if("success"===i.status&&(null==(t=null==(e=i.response)?void 0:e.data)?void 0:t.id))try{const e={ids:[i.response.data.id],name:Q.value.name,album_id:Q.value.album_id||null,is_public:Q.value.is_public?1:0,intro:Q.value.intro||"",expired_at:Q.value.expired_at,tags:K(Q.value["tags[]"])};await ar({body:e}),function(e,t){var n,r;(null==(n=e.response)?void 0:n.data)&&(e.response.data={...e.response.data,...t,tags:t.tags?t.tags.map(e=>({name:e})):e.response.data.tags}),e.formData={...e.formData,...t,"tags[]":t.tags||t["tags[]"]||(null==(r=e.formData)?void 0:r["tags[]"])||[]}}(i,{name:e.name,album_id:e.album_id,is_public:Boolean(e.is_public),intro:e.intro,expired_at:e.expired_at,tags:e.tags}),p.success("文件信息已更新"),j.value=!1}catch(a){p.error((null==(r=null==(n=a.response)?void 0:n.data)?void 0:r.message)||"更新失败")}else i.formData={name:Q.value.name,storage_id:Q.value.storage_id,album_id:Q.value.album_id,is_public:Q.value.is_public,intro:Q.value.intro||"",expired_at:Q.value.expired_at,"tags[]":K(Q.value["tags[]"])},p.success("文件设置已保存，将在上传时应用"),j.value=!1}function ge(e){const t=e;if(!t.clipboardData)return;const n=t.clipboardData.items,r=[];for(let o=0;o<n.length;o++){const e=n[o];if(-1!==e.type.indexOf("image")){const t=e.getAsFile();t&&r.push(t)}}r.length>0&&te(r)}function be(e){0!==e.length&&te(Array.from(e))}function we(){const e=x.value.filter(e=>"success"===e.status);if(0===e.length)return void p.info("没有已上传的文件");const t=e.map(e=>e.response.data.public_url).join("\n");navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(t).then(()=>{p.success("所有链接已复制到剪贴板")}).catch(()=>{pe(t)}):pe(t)}function ye(e){if(!N.value||!N.value.response||!N.value.response.data)return"";const t=N.value.response.data.public_url,n=N.value.response.data.name||N.value.file.name;switch(e){case"html":return`<img src="${t}" alt="${n}" />`;case"markdown":return`![${n}](${t})`;case"markdown_with_link":return`[![${n}](${t})](${t})`;case"bbcode":return`[img]${t}[/img]`;default:return t}}function xe(e){navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then(()=>{p.success("复制成功")}).catch(()=>{pe(e)}):pe(e)}function ke(e){switch(e){case"pending":return v.t("Waiting");case"downloading":return v.t("Downloading");case"success":return v.t("Success");case"error":return v.t("Failed");default:return""}}function Ce(e){switch(e){case"pending":default:return"text-gray-500";case"downloading":return"text-blue-500";case"success":return"text-green-500";case"error":return"text-red-500"}}function Se(){if(!A.value.trim())return void p.error(v.t("Please enter image URLs"));const e=A.value.split("\n").map(e=>e.trim()).filter(e=>e.length>0);if(0===e.length)return void p.error(v.t("No valid URLs found"));O.value=!0,T.value=e.map(e=>({url:e,status:"pending"}));const t=e.map((e,t)=>async function(e,t){T.value[t].status="downloading";try{const n=lr.CancelToken.source();P.value[e]=n;if(!/^https?:\/\/.+\.(jpg|jpeg|png|gif|bmp|webp|tif)(\?.*)?$/i.test(e))throw new Error("不支持的图片格式或无效的URL");const r=await lr.get(e,{responseType:"blob",timeout:3e4,cancelToken:n.token});let o="remote-image";try{if(o=new URL(e).pathname.split("/").pop()||"remote-image",!o.includes(".")){const e=r.data.type;o+=`.${e.split("/")[1]||"jpg"}`}}catch{o="remote-image.jpg"}const i=new File([r.data],o,{type:r.data.type});if(0===i.size)throw new Error("文件大小为0，可能是无效的图片");T.value[t].status="success";const a=URL.createObjectURL(i),l={id:Gy(),file:i,objectUrl:a,thumbnail:null,status:"pending",progress:0,error:null,response:null,formData:{}};ne(l),h.addFiles([l]),delete P.value[e]}catch(n){if(delete P.value[e],lr.isCancel(n))return void(T.value[t].status="pending");T.value[t]={...T.value[t],status:"error",error:n.message||"下载失败"}}}(e,t));Promise.allSettled(t).finally(()=>{O.value=!1,Object.values(P.value).forEach(e=>e.cancel()),P.value={}})}return n(async()=>{await G(),"undefined"!=typeof window&&(rx.register(ge),ox.register(be))}),r(()=>{"undefined"!=typeof window&&(rx.unregister(),ox.unregister()),x.value.forEach(e=>{e.objectUrl&&URL.revokeObjectURL(e.objectUrl)})}),i(()=>{var e;return null==(e=c.profile)?void 0:e.options},()=>{const e=q();X.value.storage_id=e,Q.value.storage_id=e}),i(()=>c.isLoggedIn,e=>{e&&0===U.value.length&&G()}),i(()=>{var e;return null==(e=u.group)?void 0:e.storages},()=>{var e;const t=X.value.storage_id;if(t){if(!((null==(e=u.group)?void 0:e.storages)||[]).some(e=>e.id===t)){const e=q();X.value.storage_id=e,Q.value.storage_id=e}}}),t({selectFiles:J,uploadAll:ce,cancelAllUploads:de,removeAll:()=>h.clearQueue(),getFiles:()=>x.value,showUploadQueue:()=>{h.showQueue=!0},getUploadingCount:()=>x.value.filter(e=>"uploading"===e.status).length,isUploading:()=>x.value.some(e=>"uploading"===e.status)}),(e,t)=>{var n;return Rn(),Mn("div",ix,[An("input",{ref_key:"fileInputRef",ref:m,type:"file",multiple:"",accept:"image/*",class:"hidden",onChange:ee},null,544),En(Ln(Nh),{show:w.value,"onUpdate:show":t[3]||(t[3]=e=>w.value=e),width:y.value,height:Ln(d).isMobile?"80%":"",placement:Ln(d).isMobile?"bottom":"right","mask-closable":!1,class:"upload-queue-drawer"},{default:jn(()=>[En(Ln(Yh),{title:e.$t("Upload Queue"),closable:"","native-scrollbar":!1,class:"overflow-hidden"},{default:jn(()=>[An("div",ax,[An("div",lx,[En(Ln(tu),{placement:"bottom",trigger:"hover"},{trigger:jn(()=>[En(Ln(Ut),{type:"default",size:"small",onClick:J},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(em))]),_:1})]),_:1})]),default:jn(()=>[Kn(" "+Hn(e.$t("Select")),1)]),_:1}),En(Ln(tu),{placement:"bottom",trigger:"hover"},{trigger:jn(()=>[En(Ln(Ut),{type:"default",size:"small",onClick:t[0]||(t[0]=e=>R.value=!R.value)},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Xv))]),_:1})]),_:1})]),default:jn(()=>[Kn(" "+Hn(e.$t("Remote Download")),1)]),_:1}),En(Ln(tu),{placement:"bottom",trigger:"hover"},{trigger:jn(()=>[En(Ln(Ut),{type:"primary",size:"small",disabled:!k.value||C.value,onClick:ce},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Bv))]),_:1})]),_:1},8,["disabled"])]),default:jn(()=>[Kn(" "+Hn(e.$t("All Upload")),1)]),_:1}),En(Ln(tu),{placement:"bottom",trigger:"hover"},{trigger:jn(()=>[En(Ln(Ut),{type:"error",size:"small",disabled:!k.value,onClick:re},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(hg))]),_:1})]),_:1},8,["disabled"])]),default:jn(()=>[Kn(" "+Hn(e.$t("All Delete")),1)]),_:1}),En(Ln(tu),{placement:"bottom",trigger:"hover"},{trigger:jn(()=>[En(Ln(Ut),{type:"warning",size:"small",disabled:!C.value,onClick:de},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Ov))]),_:1})]),_:1},8,["disabled"])]),default:jn(()=>[Kn(" "+Hn(e.$t("All Cancel")),1)]),_:1}),$.value?(Rn(),Un(Ln(tu),{key:0,placement:"bottom",trigger:"hover"},{trigger:jn(()=>[En(Ln(Ut),{type:"info",size:"small",onClick:we},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Uv))]),_:1})]),_:1})]),default:jn(()=>[Kn(" "+Hn(e.$t("Copy All Links")),1)]),_:1})):In("",!0)]),An("div",null,[En(Ln(tu),{placement:"bottom",trigger:"hover"},{trigger:jn(()=>[En(Ln(Ut),{type:"info",size:"small",onClick:fe},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Zm))]),_:1})]),_:1})]),default:jn(()=>[Kn(" "+Hn(e.$t("Global Settings")),1)]),_:1})])]),R.value?(Rn(),Mn("div",sx,[An("div",dx,[En(Ln(Xf),{class:"text-sm font-medium"},{default:jn(()=>[Kn(Hn(e.$t("Remote Download")),1)]),_:1})]),En(Ln(rs),{value:A.value,"onUpdate:value":t[1]||(t[1]=e=>A.value=e),type:"textarea",placeholder:e.$t("Please enter image URLs, one per line"),autosize:{minRows:3,maxRows:8},class:"mb-3"},null,8,["value","placeholder"]),An("div",cx,[En(Ln(Ut),{type:"primary",size:"small",loading:O.value,disabled:!A.value.trim(),onClick:Se},{default:jn(()=>[Kn(Hn(e.$t("Start Download")),1)]),_:1},8,["loading","disabled"]),En(Ln(Ut),{type:"default",size:"small",onClick:t[2]||(t[2]=e=>R.value=!1)},{default:jn(()=>[Kn(Hn(e.$t("Collapse")),1)]),_:1})]),T.value.length>0?(Rn(),Mn("div",ux,[En(Ln(Xf),{class:"text-sm text-gray-600"},{default:jn(()=>[Kn(Hn(e.$t("Download Progress"))+":",1)]),_:1}),An("div",hx,[(Rn(!0),Mn(Ze,null,Yn(T.value,(e,t)=>(Rn(),Mn("div",{key:t,class:"text-xs"},[An("span",{class:Wn(Ce(e.status))},Hn(e.url),3),An("span",px,Hn(ke(e.status)),1)]))),128))])])):In("",!0)])):In("",!0),l.tip?(Rn(),Mn("div",fx,Hn(l.tip),1)):In("",!0),An("div",{class:"files-container",style:pn(V.value)},[En(Ln(Cf),null,{default:jn(()=>[k.value?In("",!0):(Rn(),Mn("div",vx,Hn(e.$t("No files, please select files to upload")),1)),(Rn(!0),Mn(Ze,null,Yn(x.value,(t,n)=>(Rn(),Mn("div",{key:t.id,class:"file-item mb-4 p-3 rounded-lg bg-gray-50 dark:bg-gray-800"},[An("div",mx,[An("div",gx,[t.thumbnail?(Rn(),Mn("img",{key:0,src:t.thumbnail,alt:t.file.name,class:"w-full h-full object-cover"},null,8,bx)):(Rn(),Un(Ln(du),{key:1,size:"24",class:"text-gray-400"},{default:jn(()=>[En(Ln(rm))]),_:1}))]),An("div",wx,[An("div",yx,Hn(t.file.name),1),An("div",xx,Hn(Ln(pg).fileSize(t.file.size)),1),An("div",kx,["uploading"===t.status?(Rn(),Mn("div",Cx,[An("div",Sx,[An("span",zx,Hn(e.$t("Uploading"))+"...",1),An("span",$x,Hn(t.progress)+"%",1)]),An("div",Mx,[An("div",{class:"h-full bg-primary rounded-full transition-all duration-300 ease-out",style:pn({width:`${t.progress}%`})},null,4)])])):In("",!0),"error"===t.status?(Rn(),Mn("div",Rx,[t.error&&t.error.length<=100?(Rn(),Un(Ln(tu),{key:0,trigger:"hover",placement:"top",style:{"max-width":"300px"}},{trigger:jn(()=>[An("span",Ax,Hn(t.error),1)]),default:jn(()=>[An("div",Ox,Hn(t.error),1)]),_:2},1024)):t.error?(Rn(),Mn("span",{key:1,class:"cursor-pointer underline",onClick:e=>{return n=t.error,Y.value=n,void(H.value=!0);var n}},Hn(t.error.substring(0,50)+"..."),9,Tx)):(Rn(),Mn("span",Px,Hn(e.$t("Upload Failed")),1))])):In("",!0),"success"===t.status?(Rn(),Mn("div",Dx,Hn(e.$t("Upload Successful")),1)):In("",!0),"pending"===t.status?(Rn(),Mn("div",Fx,[En(Ln(du),{size:"14",class:"mr-1"},{default:jn(()=>[En(Ln(dg))]),_:1}),Kn(" "+Hn(e.$t("Waiting for upload")),1)])):In("",!0)])])]),An("div",_x,[An("div",null,["success"===t.status?(Rn(),Mn("div",Bx,[En(Ln(Ut),{quaternary:"",circle:"",size:"small",title:e.$t("Copy URL"),onClick:tr(e=>function(e){const t=e.response.data.public_url;navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(t).then(()=>{p.success("链接已复制到剪贴板")}).catch(()=>{pe(t)}):pe(t)}(t),["stop"])},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Uv))]),_:1})]),_:1},8,["title","onClick"]),En(Ln(Ut),{quaternary:"",circle:"",size:"small",title:e.$t("Embed Codes"),onClick:tr(e=>function(e){N.value=e,L.value=!0}(t),["stop"])},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Iv))]),_:1})]),_:1},8,["title","onClick"])])):In("",!0)]),An("div",Ex,[En(Ln(Ut),{quaternary:"",circle:"",size:"small",title:e.$t("Edit"),disabled:"uploading"===t.status,onClick:e=>oe(n)},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Dm))]),_:1})]),_:1},8,["title","disabled","onClick"]),En(Ln(Ut),{quaternary:"",circle:"",size:"small",title:e.$t("Settings"),disabled:"uploading"===t.status||"success"===t.status&&!Ln(c).isLoggedIn,onClick:e=>function(e){c.isLoggedIn&&0===U.value.length&&G(),I.value=e;const t=x.value[e];Q.value=Z(t),j.value=!0}(n)},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Zm))]),_:1})]),_:1},8,["title","disabled","onClick"]),En(Ln(Ut),{quaternary:"",circle:"",size:"small",title:e.$t("Upload"),disabled:"uploading"===t.status||"success"===t.status,onClick:e=>"error"===t.status?function(e){const t=x.value[e];h.updateFileStatus(t.id,"pending",0,null),le(e)}(n):le(n)},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Bv))]),_:1})]),_:1},8,["title","disabled","onClick"]),En(Ln(Ut),{quaternary:"",circle:"",size:"small",title:e.$t("Cancel"),disabled:"uploading"!==t.status,onClick:e=>se(n)},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Ov))]),_:1})]),_:1},8,["title","disabled","onClick"]),En(Ln(Ut),{quaternary:"",circle:"",size:"small",title:e.$t("Delete"),disabled:"uploading"===t.status,onClick:e=>function(e){const t=x.value[e];"uploading"===t.status&&se(e),t.objectUrl&&URL.revokeObjectURL(t.objectUrl),h.removeFile(t.id),s("queue-change",x.value)}(n)},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(hg))]),_:1})]),_:1},8,["title","disabled","onClick"])])])]))),128))]),_:1})],4)]),_:1},8,["title"])]),_:1},8,["show","width","height","placement"]),(Rn(),Un(nr,{to:"body"},[k.value&&!w.value?(Rn(),Mn("div",{key:0,class:"floating-queue-button",onMousedown:tr(he,["stop","prevent"]),onClick:tr(he,["stop","prevent"])},[En(Ln(xs),{value:S.value>0?S.value:void 0,processing:C.value},{default:jn(()=>[En(Ln(Ut),{circle:"",type:"primary"},{icon:jn(()=>[En(Ln(du),null,{default:jn(()=>[En(Ln(Bv))]),_:1})]),_:1})]),_:1},8,["value","processing"]),C.value?(Rn(),Mn("div",jx,[An("div",Ix,Hn(e.$t("Uploading")),1),En(Ln(xf),{percentage:z.value,"show-indicator":!1,processing:"",height:4},null,8,["percentage"])])):In("",!0)],32)):In("",!0)])),En(qy,{visible:D.value,"onUpdate:visible":t[4]||(t[4]=e=>D.value=e),"image-src":(null==(n=_.value)?void 0:n.objectUrl)||"",onCancel:ie,onConfirm:ae},null,8,["visible","image-src"]),En(Ln(ir),{show:E.value,"onUpdate:show":t[12]||(t[12]=e=>E.value=e),preset:"card",style:{width:"90%","max-width":"600px"},title:e.$t("Upload Global Settings"),"mask-closable":!1},{default:jn(()=>[En(Ln(np),{ref_key:"formRef",ref:g,model:X.value,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging"},{default:jn(()=>[En(Ln(_p),{label:e.$t("Storage Location"),path:"storage_id"},{default:jn(()=>[En(Ln(Jc),{value:X.value.storage_id,"onUpdate:value":t[5]||(t[5]=e=>X.value.storage_id=e),options:W.value,placeholder:e.$t("Please select storage location"),"label-field":"name","value-field":"id",filterable:""},null,8,["value","options","placeholder"])]),_:1},8,["label"]),Ln(c).isLoggedIn?(Rn(),Un(Ln(_p),{key:0,label:e.$t("Album"),path:"album_id"},{default:jn(()=>[En(Ln(Jc),{value:X.value.album_id,"onUpdate:value":t[6]||(t[6]=e=>X.value.album_id=e),options:U.value,placeholder:e.$t("Please select album"),"label-field":"name","value-field":"id",filterable:"",clearable:""},null,8,["value","options","placeholder"])]),_:1},8,["label"])):In("",!0),En(Ln(_p),{label:e.$t("Expiration Time"),path:"expired_at"},{default:jn(()=>[En(Ln(Rh),{"formatted-value":X.value.expired_at,"onUpdate:formattedValue":t[7]||(t[7]=e=>X.value.expired_at=e),type:"datetime",placeholder:e.$t("Select expiration time"),"is-date-disabled":e=>e<Date.now(),"value-format":"yyyy-MM-dd HH:mm:ss",clearable:"",style:{width:"100%"}},null,8,["formatted-value","placeholder","is-date-disabled"])]),_:1},8,["label"]),En(Ln(_p),{label:e.$t("Description"),path:"intro"},{default:jn(()=>[En(Ln(rs),{value:X.value.intro,"onUpdate:value":t[8]||(t[8]=e=>X.value.intro=e),type:"textarea",placeholder:e.$t("Please enter description"),resizable:""},null,8,["value","placeholder"])]),_:1},8,["label"]),En(Ln(_p),{label:e.$t("Tags"),path:"tags[]"},{default:jn(()=>[En(Ln(Kh),{value:X.value["tags[]"],"onUpdate:value":t[9]||(t[9]=e=>X.value["tags[]"]=e)},null,8,["value"])]),_:1},8,["label"]),En(Ln(_p),{label:e.$t("Is Public"),path:"is_public"},{default:jn(()=>[En(Ln(Pf),{value:X.value.is_public,"onUpdate:value":t[10]||(t[10]=e=>X.value.is_public=e)},null,8,["value"])]),_:1},8,["label"])]),_:1},8,["model"]),An("div",Lx,[En(Ln(Ut),{onClick:t[11]||(t[11]=e=>E.value=!1)},{default:jn(()=>[Kn(Hn(e.$t("Cancel")),1)]),_:1}),En(Ln(Ut),{type:"primary",class:"ml-2",onClick:ve},{default:jn(()=>[Kn(Hn(e.$t("Confirm")),1)]),_:1})])]),_:1},8,["show","title"]),En(Ln(ir),{show:j.value,"onUpdate:show":t[22]||(t[22]=e=>j.value=e),preset:"card",style:{width:"90%","max-width":"600px"},title:e.$t("File Settings"),"mask-closable":!1},{default:jn(()=>[En(Ln(np),{ref_key:"fileFormRef",ref:b,model:Q.value,"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging"},{default:jn(()=>{var n,r,o,i,a,l;return[null!==I.value&&"success"===(null==(n=x.value[I.value])?void 0:n.status)?(Rn(),Un(Ln(_p),{key:0,label:e.$t("Custom Name"),path:"name"},{default:jn(()=>[En(Ln(rs),{value:Q.value.name,"onUpdate:value":t[13]||(t[13]=e=>Q.value.name=e),placeholder:e.$t("Please enter custom name")},null,8,["value","placeholder"])]),_:1},8,["label"])):In("",!0),null!==I.value&&"success"===(null==(r=x.value[I.value])?void 0:r.status)?(Rn(),Un(Ln(_p),{key:1,label:e.$t("Description"),path:"intro"},{default:jn(()=>[En(Ln(rs),{value:Q.value.intro,"onUpdate:value":t[14]||(t[14]=e=>Q.value.intro=e),type:"textarea",placeholder:e.$t("Please enter description"),resizable:""},null,8,["value","placeholder"])]),_:1},8,["label"])):In("",!0),null===I.value||"success"!==(null==(o=x.value[I.value])?void 0:o.status)?(Rn(),Un(Ln(_p),{key:2,label:e.$t("Storage Location"),path:"storage_id"},{default:jn(()=>[En(Ln(Jc),{value:Q.value.storage_id,"onUpdate:value":t[15]||(t[15]=e=>Q.value.storage_id=e),options:W.value,placeholder:e.$t("Please select storage location"),"label-field":"name","value-field":"id",filterable:""},null,8,["value","options","placeholder"])]),_:1},8,["label"])):In("",!0),!Ln(c).isLoggedIn||null!==I.value&&"success"===(null==(i=x.value[I.value])?void 0:i.status)?In("",!0):(Rn(),Un(Ln(_p),{key:3,label:e.$t("Album"),path:"album_id"},{default:jn(()=>[En(Ln(Jc),{value:Q.value.album_id,"onUpdate:value":t[16]||(t[16]=e=>Q.value.album_id=e),options:U.value,placeholder:e.$t("Please select album"),"label-field":"name","value-field":"id",filterable:"",clearable:""},null,8,["value","options","placeholder"])]),_:1},8,["label"])),null===I.value||"success"!==(null==(a=x.value[I.value])?void 0:a.status)?(Rn(),Un(Ln(_p),{key:4,label:e.$t("Expiration Time"),path:"expired_at"},{default:jn(()=>[En(Ln(Rh),{"formatted-value":Q.value.expired_at,"onUpdate:formattedValue":t[17]||(t[17]=e=>Q.value.expired_at=e),type:"datetime",placeholder:e.$t("Select expiration time"),"is-date-disabled":e=>e<Date.now(),"value-format":"yyyy-MM-dd HH:mm:ss",clearable:"",style:{width:"100%"}},null,8,["formatted-value","placeholder","is-date-disabled"])]),_:1},8,["label"])):In("",!0),null===I.value||"success"!==(null==(l=x.value[I.value])?void 0:l.status)?(Rn(),Un(Ln(_p),{key:5,label:e.$t("Description"),path:"intro"},{default:jn(()=>[En(Ln(rs),{value:Q.value.intro,"onUpdate:value":t[18]||(t[18]=e=>Q.value.intro=e),type:"textarea",placeholder:e.$t("Please enter description"),resizable:""},null,8,["value","placeholder"])]),_:1},8,["label"])):In("",!0),En(Ln(_p),{label:e.$t("Tags"),path:"tags[]"},{default:jn(()=>[En(Ln(Kh),{value:Q.value["tags[]"],"onUpdate:value":t[19]||(t[19]=e=>Q.value["tags[]"]=e)},null,8,["value"])]),_:1},8,["label"]),En(Ln(_p),{label:e.$t("Is Public"),path:"is_public"},{default:jn(()=>[En(Ln(Pf),{value:Q.value.is_public,"onUpdate:value":t[20]||(t[20]=e=>Q.value.is_public=e)},null,8,["value"])]),_:1},8,["label"])]}),_:1},8,["model"]),An("div",Nx,[En(Ln(Ut),{onClick:t[21]||(t[21]=e=>j.value=!1)},{default:jn(()=>[Kn(Hn(e.$t("Cancel")),1)]),_:1}),En(Ln(Ut),{type:"primary",class:"ml-2",onClick:me},{default:jn(()=>[Kn(Hn(e.$t("Confirm")),1)]),_:1})])]),_:1},8,["show","title"]),En(Ln(ir),{show:L.value,"onUpdate:show":t[29]||(t[29]=e=>L.value=e),preset:"card",style:{width:"90%","max-width":"600px"},title:e.$t("Embed Codes")},{default:jn(()=>[N.value?(Rn(),Mn("div",Hx,[An("div",Yx,[An("p",Wx,Hn(e.$t("Image"))+": "+Hn(N.value.file.name),1),N.value.response&&N.value.response.data&&N.value.response.data.public_url?(Rn(),Un(Ln(Qp),{key:0,src:N.value.response.data.public_url,"object-fit":"contain",width:150,class:"rounded mb-3"},null,8,["src"])):In("",!0)]),En(Ln(Nf),{type:"line"},{default:jn(()=>[En(Ln(_f),{name:"html",tab:e.$t("HTML")},{default:jn(()=>[En(Ln(is),null,{default:jn(()=>[En(Ln(rs),{value:ye("html"),readonly:"",type:"textarea"},null,8,["value"]),En(Ln(Ut),{type:"primary",ghost:"",onClick:t[23]||(t[23]=e=>xe(ye("html")))},{default:jn(()=>[Kn(Hn(e.$t("Copy")),1)]),_:1})]),_:1})]),_:1},8,["tab"]),En(Ln(_f),{name:"markdown",tab:e.$t("Markdown")},{default:jn(()=>[En(Ln(is),null,{default:jn(()=>[En(Ln(rs),{value:ye("markdown"),readonly:"",type:"textarea"},null,8,["value"]),En(Ln(Ut),{type:"primary",ghost:"",onClick:t[24]||(t[24]=e=>xe(ye("markdown")))},{default:jn(()=>[Kn(Hn(e.$t("Copy")),1)]),_:1})]),_:1})]),_:1},8,["tab"]),En(Ln(_f),{name:"markdown_with_link",tab:e.$t("Markdown with Link")},{default:jn(()=>[En(Ln(is),null,{default:jn(()=>[En(Ln(rs),{value:ye("markdown_with_link"),readonly:"",type:"textarea"},null,8,["value"]),En(Ln(Ut),{type:"primary",ghost:"",onClick:t[25]||(t[25]=e=>xe(ye("markdown_with_link")))},{default:jn(()=>[Kn(Hn(e.$t("Copy")),1)]),_:1})]),_:1})]),_:1},8,["tab"]),En(Ln(_f),{name:"bbcode",tab:e.$t("BBCode")},{default:jn(()=>[En(Ln(is),null,{default:jn(()=>[En(Ln(rs),{value:ye("bbcode"),readonly:"",type:"textarea"},null,8,["value"]),En(Ln(Ut),{type:"primary",ghost:"",onClick:t[26]||(t[26]=e=>xe(ye("bbcode")))},{default:jn(()=>[Kn(Hn(e.$t("Copy")),1)]),_:1})]),_:1})]),_:1},8,["tab"]),En(Ln(_f),{name:"url",tab:e.$t("URL")},{default:jn(()=>[En(Ln(is),null,{default:jn(()=>[En(Ln(rs),{value:ye("url"),readonly:""},null,8,["value"]),En(Ln(Ut),{type:"primary",ghost:"",onClick:t[27]||(t[27]=e=>xe(ye("url")))},{default:jn(()=>[Kn(Hn(e.$t("Copy")),1)]),_:1})]),_:1})]),_:1},8,["tab"])]),_:1})])):In("",!0),An("div",Ux,[En(Ln(Ut),{onClick:t[28]||(t[28]=e=>L.value=!1)},{default:jn(()=>[Kn(Hn(e.$t("Close")),1)]),_:1})])]),_:1},8,["show","title"]),En(Ln(ir),{show:H.value,"onUpdate:show":t[30]||(t[30]=e=>H.value=e),preset:"dialog",title:e.$t("Upload Error Details"),"close-on-esc":!0,style:{width:"90%","max-width":"600px"}},{default:jn(()=>[An("div",Vx,[An("div",qx,Hn(e.$t("Error Message"))+":",1),An("div",Xx,Hn(Y.value),1)])]),_:1},8,["show","title"])])}}}),Kx=qn(Qx,[["__scopeId","data-v-411f603d"]]),Zx={copyText:e=>navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e):(e=>new Promise((t,n)=>{const r=document.createElement("textarea");r.value=e,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select();try{const e=document.execCommand("copy");document.body.removeChild(r),e?t():n("Copy command was unsuccessful")}catch(o){document.body.removeChild(r),n("Copy command failed")}}))(e),formatExtension:e=>e?e.toUpperCase():"UNKNOWN"};function Gx(e,t,n,r){return new(n||(n=Promise))(function(t,o){function i(e){try{l(r.next(e))}catch(gk){o(gk)}}function a(e){try{l(r.throw(e))}catch(gk){o(gk)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n(function(e){e(r)})).then(i,a)}l((r=r.apply(e,[])).next())})}function Jx(e){return Gx(this,0,void 0,function*(){const t=URL.createObjectURL(e),n=yield function(e){return Gx(this,0,void 0,function*(){return new Promise(function(t,n){const r=document.createElement("img");r.crossOrigin="anonymous",r.src=e,r.onload=function(e){const n=e.target;t(n)},r.onabort=n,r.onerror=n})})}(t);return yield function(e){return Gx(this,0,void 0,function*(){return new Promise(function(t,n){const r=document.createElement("canvas"),o=r.getContext("2d");if(o){const{width:i,height:a}=e;r.width=i,r.height=a,o.drawImage(e,0,0,i,a),r.toBlob(function(e){e?t(e):n("Cannot get blob from image element")},"image/png",1)}})})}(n)})}function ek(e){return Gx(this,0,void 0,function*(){const t={[e.type]:e},n=new ClipboardItem(t);yield navigator.clipboard.write([n])})}function tk(e){return Gx(this,0,void 0,function*(){const t=yield function(e){return Gx(this,0,void 0,function*(){const t=yield fetch(`${e}`);return yield t.blob()})}(e);if(function(e){return e.type.includes("jpeg")}(t)){const e=yield Jx(t);return yield ek(e),t}if(function(e){return e.type.includes("png")}(t))return yield ek(t),t;throw new Error("Cannot copy this type of image to clipboard")})}const nk=e=>tk(e);var rk,ok={exports:{}};function ik(){return rk||(rk=1,ok.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",o="second",i="minute",a="hour",l="day",s="week",d="month",c="quarter",u="year",h="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},g=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},b={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+g(r,2,"0")+":"+g(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(r,d),i=n-o<0,a=t.clone().add(r+(i?-1:1),d);return+(-(r+(n-o)/(i?o-a:a-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:d,y:u,w:s,d:l,D:h,h:a,m:i,s:o,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},w="en",y={};y[w]=m;var x="$isDayjsObject",k=function(e){return e instanceof $||!(!e||!e[x])},C=function e(t,n,r){var o;if(!t)return w;if("string"==typeof t){var i=t.toLowerCase();y[i]&&(o=i),n&&(y[i]=n,o=i);var a=t.split("-");if(!o&&a.length>1)return e(a[0])}else{var l=t.name;y[l]=t,o=l}return!r&&o&&(w=o),o||!r&&w},S=function(e,t){if(k(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new $(n)},z=b;z.l=C,z.i=k,z.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var $=function(){function m(e){this.$L=C(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[x]=!0}var g=m.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(z.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(f);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return z},g.isValid=function(){return!(this.$d.toString()===p)},g.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return S(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<S(e)},g.$g=function(e,t,n){return z.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,r=!!z.u(t)||t,c=z.p(e),p=function(e,t){var o=z.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?o:o.endOf(l)},f=function(e,t){return z.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},v=this.$W,m=this.$M,g=this.$D,b="set"+(this.$u?"UTC":"");switch(c){case u:return r?p(1,0):p(31,11);case d:return r?p(1,m):p(0,m+1);case s:var w=this.$locale().weekStart||0,y=(v<w?v+7:v)-w;return p(r?g-y:g+(6-y),m);case l:case h:return f(b+"Hours",0);case a:return f(b+"Minutes",1);case i:return f(b+"Seconds",2);case o:return f(b+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,s=z.p(e),c="set"+(this.$u?"UTC":""),p=(n={},n[l]=c+"Date",n[h]=c+"Date",n[d]=c+"Month",n[u]=c+"FullYear",n[a]=c+"Hours",n[i]=c+"Minutes",n[o]=c+"Seconds",n[r]=c+"Milliseconds",n)[s],f=s===l?this.$D+(t-this.$W):t;if(s===d||s===u){var v=this.clone().set(h,1);v.$d[p](f),v.init(),this.$d=v.set(h,Math.min(this.$D,v.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[z.p(e)]()},g.add=function(r,c){var h,p=this;r=Number(r);var f=z.p(c),v=function(e){var t=S(p);return z.w(t.date(t.date()+Math.round(e*r)),p)};if(f===d)return this.set(d,this.$M+r);if(f===u)return this.set(u,this.$y+r);if(f===l)return v(1);if(f===s)return v(7);var m=(h={},h[i]=t,h[a]=n,h[o]=e,h)[f]||1,g=this.$d.getTime()+r*m;return z.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",o=z.z(this),i=this.$H,a=this.$m,l=this.$M,s=n.weekdays,d=n.months,c=n.meridiem,u=function(e,n,o,i){return e&&(e[n]||e(t,r))||o[n].slice(0,i)},h=function(e){return z.s(i%12||12,e,"0")},f=c||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(v,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return z.s(t.$y,4,"0");case"M":return l+1;case"MM":return z.s(l+1,2,"0");case"MMM":return u(n.monthsShort,l,d,3);case"MMMM":return u(d,l);case"D":return t.$D;case"DD":return z.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return u(n.weekdaysMin,t.$W,s,2);case"ddd":return u(n.weekdaysShort,t.$W,s,3);case"dddd":return s[t.$W];case"H":return String(i);case"HH":return z.s(i,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return f(i,a,!0);case"A":return f(i,a,!1);case"m":return String(a);case"mm":return z.s(a,2,"0");case"s":return String(t.$s);case"ss":return z.s(t.$s,2,"0");case"SSS":return z.s(t.$ms,3,"0");case"Z":return o}return null}(e)||o.replace(":","")})},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(r,h,p){var f,v=this,m=z.p(h),g=S(r),b=(g.utcOffset()-this.utcOffset())*t,w=this-g,y=function(){return z.m(v,g)};switch(m){case u:f=y()/12;break;case d:f=y();break;case c:f=y()/3;break;case s:f=(w-b)/6048e5;break;case l:f=(w-b)/864e5;break;case a:f=w/n;break;case i:f=w/t;break;case o:f=w/e;break;default:f=w}return p?f:z.a(f)},g.daysInMonth=function(){return this.endOf(d).$D},g.$locale=function(){return y[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=C(e,t,!0);return r&&(n.$L=r),n},g.clone=function(){return z.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},m}(),M=$.prototype;return S.prototype=M,[["$ms",r],["$s",o],["$m",i],["$H",a],["$W",l],["$M",d],["$y",u],["$D",h]].forEach(function(e){M[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),S.extend=function(e,t){return e.$i||(e(t,$,S),e.$i=!0),S},S.locale=C,S.isDayjs=k,S.unix=function(e){return S(1e3*e)},S.en=y[w],S.Ls=y,S.p={},S}()),ok.exports}const ak=sr(ik());var lk,sk={exports:{}};lk||(lk=1,sk.exports=function(e){function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=t(e),r={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(e,t){return"W"===t?e+"周":e+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(e,t){var n=100*e+t;return n<600?"凌晨":n<900?"早上":n<1100?"上午":n<1300?"中午":n<1800?"下午":"晚上"}};return n.default.locale(r,null,!0),r}(ik()));var dk,ck={exports:{}};dk||(dk=1,ck.exports={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}});var uk,hk={exports:{}};var pk=(uk||(uk=1,hk.exports=function(e,t,n){e=e||{};var r=t.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(e,t,n,o){return r.fromToBase(e,t,n,o)}n.en.relativeTime=o,r.fromToBase=function(t,r,i,a,l){for(var s,d,c,u=i.$locale().relativeTime||o,h=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=h.length,f=0;f<p;f+=1){var v=h[f];v.d&&(s=a?n(t).diff(i,v.d,!0):i.diff(t,v.d,!0));var m=(e.rounding||Math.round)(Math.abs(s));if(c=s>0,m<=v.r||!v.r){m<=1&&f>0&&(v=h[f-1]);var g=u[v.l];l&&(m=l(""+m)),d="string"==typeof g?g.replace("%d",m):g(m,r,v.l,c);break}}if(r)return d;var b=c?u.future:u.past;return"function"==typeof b?b(d):b.replace("%s",d)},r.to=function(e,t){return i(e,t,this,!0)},r.from=function(e,t){return i(e,t,this)};var a=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(a(this),e)},r.fromNow=function(e){return this.from(a(this),e)}}),hk.exports);const fk=sr(pk);var vk,mk={exports:{}};var gk,bk=(vk||(vk=1,mk.exports=(gk={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},function(e,t,n){var r=t.prototype,o=r.format;n.en.formats=gk,r.format=function(e){void 0===e&&(e="YYYY-MM-DDTHH:mm:ssZ");var t,n=this.$locale().formats,r=(t=void 0===n?{}:n,e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,n,r){var o=r&&r.toUpperCase();return n||t[r]||gk[r]||t[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(e,t,n){return t||n.slice(1)})}));return o.call(this,r)}})),mk.exports);const wk=sr(bk);var yk,xk={exports:{}};var kk=(yk||(yk=1,xk.exports=function(){var e,t,n=1e3,r=6e4,o=36e5,i=864e5,a=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,l=31536e6,s=2628e6,d=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,c={years:l,months:s,days:i,hours:o,minutes:r,seconds:n,milliseconds:1,weeks:6048e5},u=function(e){return e instanceof b},h=function(e,t,n){return new b(e,n,t.$l)},p=function(e){return t.p(e)+"s"},f=function(e){return e<0},v=function(e){return f(e)?Math.ceil(e):Math.floor(e)},m=function(e){return Math.abs(e)},g=function(e,t){return e?f(e)?{negative:!0,format:""+m(e)+t}:{negative:!1,format:""+e+t}:{negative:!1,format:""}},b=function(){function f(e,t,n){var r=this;if(this.$d={},this.$l=n,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return h(e*c[p(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach(function(t){r.$d[p(t)]=e[t]}),this.calMilliseconds(),this;if("string"==typeof e){var o=e.match(d);if(o){var i=o.slice(2).map(function(e){return null!=e?Number(e):0});return this.$d.years=i[0],this.$d.months=i[1],this.$d.weeks=i[2],this.$d.days=i[3],this.$d.hours=i[4],this.$d.minutes=i[5],this.$d.seconds=i[6],this.calMilliseconds(),this}}return this}var m=f.prototype;return m.calMilliseconds=function(){var e=this;this.$ms=Object.keys(this.$d).reduce(function(t,n){return t+(e.$d[n]||0)*c[n]},0)},m.parseFromMilliseconds=function(){var e=this.$ms;this.$d.years=v(e/l),e%=l,this.$d.months=v(e/s),e%=s,this.$d.days=v(e/i),e%=i,this.$d.hours=v(e/o),e%=o,this.$d.minutes=v(e/r),e%=r,this.$d.seconds=v(e/n),e%=n,this.$d.milliseconds=e},m.toISOString=function(){var e=g(this.$d.years,"Y"),t=g(this.$d.months,"M"),n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);var r=g(n,"D"),o=g(this.$d.hours,"H"),i=g(this.$d.minutes,"M"),a=this.$d.seconds||0;this.$d.milliseconds&&(a+=this.$d.milliseconds/1e3,a=Math.round(1e3*a)/1e3);var l=g(a,"S"),s=e.negative||t.negative||r.negative||o.negative||i.negative||l.negative,d=o.format||i.format||l.format?"T":"",c=(s?"-":"")+"P"+e.format+t.format+r.format+d+o.format+i.format+l.format;return"P"===c||"-P"===c?"P0D":c},m.toJSON=function(){return this.toISOString()},m.format=function(e){var n=e||"YYYY-MM-DDTHH:mm:ss",r={Y:this.$d.years,YY:t.s(this.$d.years,2,"0"),YYYY:t.s(this.$d.years,4,"0"),M:this.$d.months,MM:t.s(this.$d.months,2,"0"),D:this.$d.days,DD:t.s(this.$d.days,2,"0"),H:this.$d.hours,HH:t.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:t.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:t.s(this.$d.seconds,2,"0"),SSS:t.s(this.$d.milliseconds,3,"0")};return n.replace(a,function(e,t){return t||String(r[e])})},m.as=function(e){return this.$ms/c[p(e)]},m.get=function(e){var t=this.$ms,n=p(e);return"milliseconds"===n?t%=1e3:t="weeks"===n?v(t/c[n]):this.$d[n],t||0},m.add=function(e,t,n){var r;return r=t?e*c[p(t)]:u(e)?e.$ms:h(e,this).$ms,h(this.$ms+r*(n?-1:1),this)},m.subtract=function(e,t){return this.add(e,t,!0)},m.locale=function(e){var t=this.clone();return t.$l=e,t},m.clone=function(){return h(this.$ms,this)},m.humanize=function(t){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!t)},m.valueOf=function(){return this.asMilliseconds()},m.milliseconds=function(){return this.get("milliseconds")},m.asMilliseconds=function(){return this.as("milliseconds")},m.seconds=function(){return this.get("seconds")},m.asSeconds=function(){return this.as("seconds")},m.minutes=function(){return this.get("minutes")},m.asMinutes=function(){return this.as("minutes")},m.hours=function(){return this.get("hours")},m.asHours=function(){return this.as("hours")},m.days=function(){return this.get("days")},m.asDays=function(){return this.as("days")},m.weeks=function(){return this.get("weeks")},m.asWeeks=function(){return this.as("weeks")},m.months=function(){return this.get("months")},m.asMonths=function(){return this.as("months")},m.years=function(){return this.get("years")},m.asYears=function(){return this.as("years")},f}(),w=function(e,t,n){return e.add(t.years()*n,"y").add(t.months()*n,"M").add(t.days()*n,"d").add(t.hours()*n,"h").add(t.minutes()*n,"m").add(t.seconds()*n,"s").add(t.milliseconds()*n,"ms")};return function(n,r,o){e=o,t=o().$utils(),o.duration=function(e,t){var n=o.locale();return h(e,{$l:n},t)},o.isDuration=u;var i=r.prototype.add,a=r.prototype.subtract;r.prototype.add=function(e,t){return u(e)?w(this,e,1):i.bind(this)(e,t)},r.prototype.subtract=function(e,t){return u(e)?w(this,e,-1):a.bind(this)(e,t)}}}()),xk.exports);const Ck=sr(kk);ak.extend(fk),ak.extend(wk),ak.extend(Ck);function Sk(e,t,n,r){const o=Qn();return a(()=>ak(e,t,n,r).locale(o.locale)).value}ak.locale(localStorage.getItem("locale")||"zh-CN");const zk=rr("photo",()=>{const e=f(!1),t=f(!0),n=f({}),r=f(1),o=f([]),i=a(()=>o.value.every(e=>e.selected)),l=a(()=>o.value.flatMap(e=>e.photos.filter(e=>e.selected))),{t:s}=Tn(),d=f(!1),c=f(!1),u=f(null),h=Bn();function p(i={}){!e.value&&t.value&&(e.value=!0,dr({query:{page:r.value,per_page:40,...{...n.value,...i}}}).then(e=>{var n,r,i,a;t.value=(null==(n=e.data)?void 0:n.data.meta.current_page)!==(null==(r=e.data)?void 0:r.data.meta.last_page);const l=(null==(i=e.data)?void 0:i.data.data)||[];for(const t of l){const e=Sk(t.created_at).format("L"),n=o.value.find(t=>t.date===e),r={key:t.id.toString(),selected:!1,src:(null==(a=h.profile.options)?void 0:a.show_original_photos)?t.public_url:t.thumbnail_url||t.public_url,...t};if(n){n.photos.some(e=>e.id==t.id)||n.photos.push(r)}else o.value.push({date:e,photos:[r]})}}).finally(()=>{e.value=!1}))}function v(e){r.value=e}function m(){o.value=[]}function g(e){for(let t=o.value.length-1;t>=0;t--)for(let n=o.value[t].photos.length-1;n>=0;n--)if(e.includes(o.value[t].photos[n].key)&&(o.value[t].photos.splice(n,1),0===o.value[t].photos.length)){o.value.splice(t,1);break}}return{isLoading:e,hasMore:t,page:r,setPage:v,setQueries:function(e){n.value=e},queries:n,groups:o,selections:l,isAllSelected:i,fetchPhotos:p,resetPhotos:function(r={}){e.value=!1,t.value=!0,n.value=r||{},v(1),m(),p()},setGroups:function(e){o.value=e},toggleSelect:function(e){for(const t of o.value){const n=t.photos.find(t=>t.key===e);n&&(n.selected=!n.selected,t.selected=t.photos.every(e=>e.selected))}},selectAll:function(){const e=!i.value;for(const t of o.value)t.selected=e,t.photos.forEach(t=>t.selected=e)},clearGroups:m,pushGroup:function(e,t){o.value.push({date:e,photos:t})},toggleSelectAllByGroup:function(e){const t=o.value.find(t=>t.date===e);t&&(t.selected=!t.selected,t.photos.forEach(e=>e.selected=t.selected))},unselectAll:function(){o.value.forEach(e=>{e.selected=!1,e.photos.forEach(e=>e.selected=!1)})},deletePhotos:g,copyImage:function(e){return nk(e)},copyLink:function(e){let t="";return l.value.forEach(n=>{var r;let o="thumbnail_url"===e?n.thumbnail_url:n.public_url;(null==(r=h.profile)?void 0:r.options)&&"encode_copied_url"in h.profile.options&&h.profile.options.encode_copied_url&&(o=encodeURI(o));const i={url:o,html:`<img src="${o}" alt="${n.key}" />`,bbcode:`[img]${o}[/img]`,markdown:`![${n.key}](${o})`,markdown_with_link:`[![${n.key}](${o})](${o})`,thumbnail_url:n.thumbnail_url}[e];t+=i+"\r\n"}),Zx.copyText(t.replace(/\r\n$/,""))},openPhoto:function(e){const t=e;window.open(t.public_url||e.src)},deleteSelectedPhotos:async function(){return cr({body:l.value.map(e=>e.id)}).then(e=>(g(l.value.map(e=>e.key)),h.fetchUserProfile(),e))},editModalActive:d,setEditModalActive:function(e){d.value=e},shareModalActive:c,setShareModalActive:function(e){c.value=e},albumSelectorRef:u,setAlbumSelectorRef:function(e){u.value=e},selectedToAlbum:async function(e){const t=e.map(e=>ur({path:{id:e.id},body:l.value.map(e=>e.id)}));return Promise.all(t)}}}),$k=rr("photoSelector",()=>{const e=f(!1),t=f(!0),n=f({}),r=f(1),o=f([]),i=a(()=>o.value.every(e=>e.selected)),l=a(()=>o.value.flatMap(e=>e.photos.filter(e=>e.selected))),s=Bn();function d(i={}){!e.value&&t.value&&(e.value=!0,dr({query:{page:r.value,per_page:40,...{...n.value,...i}}}).then(e=>{var n,r,i,a;t.value=(null==(n=e.data)?void 0:n.data.meta.current_page)!==(null==(r=e.data)?void 0:r.data.meta.last_page);const l=(null==(i=e.data)?void 0:i.data.data)||[];for(const t of l){const e=Sk(t.created_at).format("L"),n=o.value.find(t=>t.date===e),r={key:t.id.toString(),selected:!1,src:(null==(a=s.profile.options)?void 0:a.show_original_photos)?t.public_url:t.thumbnail_url||t.public_url,...t};if(n){n.photos.some(e=>e.id==t.id)||n.photos.push(r)}else o.value.push({date:e,photos:[r]})}}).finally(()=>{e.value=!1}))}function c(e){r.value=e}function u(){o.value=[]}return{isLoading:e,hasMore:t,page:r,setPage:c,setQueries:function(e){n.value=e},queries:n,groups:o,selections:l,isAllSelected:i,fetchPhotos:d,resetPhotos:function(r={}){e.value=!1,t.value=!0,n.value=r||{},c(1),u(),d()},setGroups:function(e){o.value=e},toggleSelect:function(e){for(const t of o.value){const n=t.photos.find(t=>t.key===e);n&&(n.selected=!n.selected,t.selected=t.photos.every(e=>e.selected))}},selectAll:function(){const e=!i.value;for(const t of o.value)t.selected=e,t.photos.forEach(t=>t.selected=e)},clearGroups:u,pushGroup:function(e,t){o.value.push({date:e,photos:t})},toggleSelectAllByGroup:function(e){const t=o.value.find(t=>t.date===e);t&&(t.selected=!t.selected,t.photos.forEach(e=>e.selected=t.selected))},unselectAll:function(){o.value.forEach(e=>{e.selected=!1,e.photos.forEach(e=>e.selected=!1)})}}}),Mk=x({__name:"UploadButton",setup(e,{expose:t}){const r=Ah(),o=Pn(),i=Bn(),l=zk(),s=Dn(),d=Tn(),c=f(null),u=f(0),h=f(0),p=f(!1);let v=null;const m=a(()=>{var e,t,n,r,a,l,s;const c={storage_id:((null==(e=o.group)?void 0:e.storages)||[]).length>0?null==(t=o.group)?void 0:t.storages[0].id:void 0,"tags[]":[],is_public:!1},u={},h=i.token;h&&(u.Authorization=`Bearer ${h}`);const p=d.t("You can currently upload up to {max} images, allowing {limit} uploads at a time. The site has hosted {count} images.",{max:pg.fileSize(1024*((null==(n=o.group)?void 0:n.group.options.max_upload_size)||0)).toString(),limit:((null==(r=o.group)?void 0:r.group.options.limit_concurrent_upload)||3).toString(),count:((null==(a=o.configs)?void 0:a.app.photo_count)||0).toString()});return{endpoint:"/api/v2/upload",maxFileSize:1024*((null==(l=o.group)?void 0:l.group.options.max_upload_size)||0),concurrency:(null==(s=o.group)?void 0:s.group.options.limit_concurrent_upload)||3,allowedFileTypes:[".jpg",".jpeg",".webp",".avif",".bmp",".gif",".png",".tif",".tiff",".jp2",".j2k",".jpf",".jpm",".jpg2",".j2c",".jpc",".jpx",".heic",".heif"],formData:c,headers:u,tip:p}});function g(){var e,t;if(c.value){const n=(null==(t=(e=c.value).getFiles)?void 0:t.call(e))||[];u.value=n.filter(e=>"uploading"===e.status).length,h.value=n.filter(e=>"pending"===e.status).length,p.value=u.value>0}}function b(){var e,t,n,a,l;if(!(null==(e=o.configs)?void 0:e.app.guest_upload)&&!i.isLoggedIn)return void r.error(d.t("Please login before uploading images"));"open_queue"===((null==(n=null==(t=i.profile)?void 0:t.options)?void 0:n.upload_button_action)||"select_files")?null==(a=c.value)||a.showUploadQueue():null==(l=c.value)||l.selectFiles()}function w(e,t){setTimeout(async()=>{if(i.isLoggedIn&&await i.fetchUserProfile(),s.path.includes("/user/photo")&&i.isLoggedIn){const e={...l.queries};l.resetPhotos(e)}},300)}function y(){c.value&&c.value.showUploadQueue()}return n(()=>{v=window.setInterval(g,1e3),ex.on(nx.TRIGGER_UPLOAD_BUTTON,b),ex.on(nx.OPEN_UPLOAD_QUEUE,y)}),hr(()=>{null!==v&&clearInterval(v),ex.off(nx.TRIGGER_UPLOAD_BUTTON,b),ex.off(nx.OPEN_UPLOAD_QUEUE,y)}),t({selectFiles:()=>{var e;return null==(e=c.value)?void 0:e.selectFiles()},showUploadQueue:y,handleUploadClick:b,uploaderRef:c}),(e,t)=>(Rn(),Mn("div",null,[En(Kx,_({ref_key:"uploaderRef",ref:c},m.value,{onUploadSuccess:w}),null,16),En(Ln(xs),{value:h.value>0?h.value:void 0,processing:p.value},{default:jn(()=>[En(Ln(Ut),{circle:"",secondary:"",strong:"",onClick:b,title:Ln(d).t("Upload")},{icon:jn(()=>[En(Ln(du),{component:Ln(Bv),size:22},null,8,["component"])]),_:1},8,["title"])]),_:1},8,["value","processing"])]))}}),Rk=x({__name:"SidebarButton",setup(e){const t=Fn();return(e,n)=>(Rn(),Un(Ln(Ut),{circle:"",quaternary:"",onClick:n[0]||(n[0]=e=>Ln(t).toggleSidebar())},{icon:jn(()=>[En(Ln(du),{component:Ln(Sm),size:25},null,8,["component"])]),_:1}))}}),Ak={class:"truncate text-lg"},Ok=x({__name:"HeaderTitle",props:{title:{type:String,required:!0}},setup(e){const t=e;return(e,n)=>(Rn(),Mn("div",Ak,Hn(t.title),1))}}),Tk=x({__name:"LoginButton",setup(e){const t=Nn();return(e,n)=>(Rn(),Un(Ln(Ut),{tertiary:"",type:"primary",onClick:n[0]||(n[0]=e=>Ln(t).push({name:"Login"}))},{icon:jn(()=>[En(Ln(du),{component:Ln(jg)},null,8,["component"])]),default:jn(()=>[Kn(" "+Hn(e.$t("Go to Login")),1)]),_:1}))}}),Pk=x({__name:"ExploreButton",setup(e){const t=Nn(),{t:n}=Tn();return(e,r)=>(Rn(),Un(Ln(Ut),{circle:"",secondary:"",strong:"",title:Ln(n)("Square"),onClick:r[0]||(r[0]=e=>Ln(t).push({name:"explore"}))},{icon:jn(()=>[En(Ln(du),{component:Ln(Hv),size:"25"},null,8,["component"])]),_:1},8,["title"]))}}),Dk={class:"flex items-center"},Fk=["innerHTML"],_k=["src"],Bk={class:"flex items-center gap-2"},Ek=x({__name:"Header",props:{title:{type:String,required:!1},showSidebarButton:{type:Boolean,default:()=>!1},showUploadButton:{type:Boolean,default:()=>!1},showUserButton:{type:Boolean,default:()=>!1},bordered:{type:Boolean,default:()=>!1}},setup(e){const t=e,r=Bn(),o=Pn(),l=a(()=>{var e,t;return(null==(t=null==(e=o.configs)?void 0:e.site)?void 0:t.logo_html)||""}),s=a(()=>{var e,t;return(null==(t=null==(e=o.configs)?void 0:e.site)?void 0:t.icon_url)||"/assets/img.svg"}),d=f(null),c=()=>{D(()=>{setTimeout(()=>{if(d.value){const e=d.value.querySelector("svg");e&&e.classList.add("active")}},100)})};return n(()=>{c()}),i(l,()=>{c()}),(n,i)=>(Rn(),Un(Ln(lf),{bordered:!1,class:"flex text-md px-4 sm:px-6 py-3 items-center justify-between transition-all duration-200 border-b border-zinc-200 dark:border-zinc-800 w-full h-14 z-[100]",position:"absolute"},{default:jn(()=>{var n,i;return[An("div",Dk,[t.showSidebarButton?(Rn(),Un(Rk,{key:0,class:"mr-3"})):In("",!0),An("a",{href:"/",class:"flex items-center shrink-0 mr-3",ref_key:"logoRef",ref:d},[l.value?(Rn(),Mn("span",{key:0,innerHTML:l.value,class:"logo-container h-8 flex items-center"},null,8,Fk)):(Rn(),Mn("img",{key:1,src:s.value,alt:"Logo",class:"h-8 w-auto"},null,8,_k))],512),t.title?(Rn(),Un(Ok,{key:1,title:t.title,class:"self-center text-sm font-medium text-zinc-900 dark:text-zinc-100"},null,8,["title"])):In("",!0)]),An("div",Bk,[(null==(i=null==(n=Ln(o).configs)?void 0:n.app)?void 0:i.enable_explore)?(Rn(),Un(Pk,{key:0})):In("",!0),e.showUploadButton?(Rn(),Un(Mk,{key:1})):In("",!0),En(Pg),Ln(r).isLoggedIn?In("",!0):(Rn(),Un(Tk,{key:2})),e.showUserButton&&Ln(r).isLoggedIn?(Rn(),Un(Yg,{key:3})):In("",!0)])]}),_:1}))}}),jk=qn(Ek,[["__scopeId","data-v-40f119fc"]]),Ik={class:"shrink-0 w-full border-t border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900"},Lk={class:"mx-auto max-w-7xl px-6 py-12 lg:px-8"},Nk={class:"grid grid-cols-2 gap-8 md:grid-cols-4"},Hk={class:"col-span-2 md:col-span-1"},Yk={class:"flex items-center gap-2"},Wk={class:"text-lg font-semibold text-zinc-800 dark:text-white"},Uk={class:"mt-2 text-sm text-zinc-500 dark:text-zinc-400"},Vk={key:0},qk={class:"mt-4 space-y-2"},Xk=["href"],Qk={key:1},Kk={class:"mt-4 space-y-2"},Zk=["href"],Gk={key:2,class:"col-span-2 md:col-span-1"},Jk={class:"mt-4 space-y-2 text-sm"},eC={class:"flex items-center justify-between"},tC={class:"text-zinc-800 dark:text-white"},nC={class:"flex items-center justify-between"},rC={class:"text-zinc-800 dark:text-white"},oC={class:"flex items-center justify-between"},iC={class:"text-zinc-800 dark:text-white"},aC={class:"flex items-center justify-between"},lC={class:"text-zinc-800 dark:text-white"},sC={class:"border-t border-zinc-200 dark:border-zinc-800"},dC={class:"mx-auto max-w-7xl px-6 py-4 lg:px-8"},cC={class:"text-center text-xs text-zinc-500 dark:text-zinc-500"},uC=["title"],hC=["title"],pC=x({__name:"Footer",setup(e){const t=Pn(),r=a(()=>{var e,n;return new Date(1e3*((null==(n=null==(e=t.configs)?void 0:e.app)?void 0:n.timestamp)||0)).getFullYear()}),o=a(()=>{var e,n;return(null==(n=null==(e=t.configs)?void 0:e.app)?void 0:n.name)||""}),i=a(()=>{var e,n,r,o;return(null==(n=null==(e=t.configs)?void 0:e.site)?void 0:n.homepage_description)||(null==(o=null==(r=t.configs)?void 0:r.site)?void 0:o.description)||"简单、高效的图片托管服务"}),l=a(()=>{var e,n;return(null==(n=null==(e=t.configs)?void 0:e.app)?void 0:n.icp_no)||""}),s=a(()=>{var e,n;return(null==(n=null==(e=t.configs)?void 0:e.app)?void 0:n.psb_no)||""}),d=a(()=>{var e,n;return(null==(n=null==(e=t.configs)?void 0:e.site)?void 0:n.stat_key)||""}),c=f(null);n(()=>{(async()=>{var e,t,n;try{const r=await pr({path:{key:d.value}});"success"===(null==(e=r.data)?void 0:e.status)&&(null==(n=null==(t=r.data)?void 0:t.data)?void 0:n.basic)&&(c.value=r.data.data.basic)}catch(gk){}})()});const u=e=>e.toLocaleString("zh-CN"),h=a(()=>t.pages&&0!==t.pages.length?t.pages.map(e=>({label:e.name||e.title,href:"external"===e.type?e.url:`/pages/${e.slug}`})):[]),p=a(()=>{var e,n;const r=null==(n=null==(e=t.configs)?void 0:e.site)?void 0:n.friend_links;if(!r)return[];if(Array.isArray(r))return 0===r.length?[]:r.map(e=>({label:e.name,href:e.url}));if("object"==typeof r){const e=Object.keys(r);return 0===e.length?[]:e.map(e=>{const t=r[e];return{label:t.name,href:t.url}})}return[]});return(e,t)=>(Rn(),Mn("footer",Ik,[An("div",Lk,[An("div",Nk,[An("div",Hk,[An("div",Yk,[An("span",Wk,Hn(o.value),1)]),An("p",Uk,Hn(i.value),1)]),h.value.length>0?(Rn(),Mn("div",Vk,[t[0]||(t[0]=An("h3",{class:"text-sm font-semibold text-zinc-800 dark:text-white"},"快速链接",-1)),An("ul",qk,[(Rn(!0),Mn(Ze,null,Yn(h.value,e=>(Rn(),Mn("li",{key:e.label},[An("a",{href:e.href,class:"text-sm text-zinc-500 dark:text-zinc-400 hover:text-zinc-800 dark:hover:text-white transition-colors"},Hn(e.label),9,Xk)]))),128))])])):In("",!0),p.value.length>0?(Rn(),Mn("div",Qk,[t[1]||(t[1]=An("h3",{class:"text-sm font-semibold text-zinc-800 dark:text-white"},"友情链接",-1)),An("ul",Kk,[(Rn(!0),Mn(Ze,null,Yn(p.value,e=>(Rn(),Mn("li",{key:e.label},[An("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",class:"text-sm text-zinc-500 dark:text-zinc-400 hover:text-zinc-800 dark:hover:text-white transition-colors"},Hn(e.label),9,Zk)]))),128))])])):In("",!0),c.value?(Rn(),Mn("div",Gk,[t[6]||(t[6]=An("h3",{class:"text-sm font-semibold text-zinc-800 dark:text-white"},"数据统计",-1)),An("ul",Jk,[An("li",eC,[t[2]||(t[2]=An("span",{class:"text-zinc-500 dark:text-zinc-400"},"图片",-1)),An("span",tC,Hn(u(c.value.photo_count)),1)]),An("li",nC,[t[3]||(t[3]=An("span",{class:"text-zinc-500 dark:text-zinc-400"},"相册",-1)),An("span",rC,Hn(u(c.value.album_count)),1)]),An("li",oC,[t[4]||(t[4]=An("span",{class:"text-zinc-500 dark:text-zinc-400"},"用户",-1)),An("span",iC,Hn(u(c.value.user_count)),1)]),An("li",aC,[t[5]||(t[5]=An("span",{class:"text-zinc-500 dark:text-zinc-400"},"分享",-1)),An("span",lC,Hn(u(c.value.share_count)),1)])])])):In("",!0)])]),An("div",sC,[An("div",dC,[An("p",cC,[An("span",null,"© "+Hn(r.value)+" "+Hn(o.value),1),l.value?(Rn(),Mn(Ze,{key:0},[t[7]||(t[7]=An("span",{class:"mx-2"},"·",-1)),An("a",{href:"https://beian.miit.gov.cn/",target:"_blank",rel:"noopener noreferrer",title:l.value,class:"hover:text-zinc-900 dark:hover:text-white transition-colors"},Hn(l.value),9,uC)],64)):In("",!0),s.value?(Rn(),Mn(Ze,{key:1},[t[8]||(t[8]=An("span",{class:"mx-2"},"·",-1)),An("a",{href:"https://www.beian.gov.cn/",target:"_blank",rel:"noopener noreferrer",title:s.value,class:"hover:text-zinc-900 dark:hover:text-white transition-colors"},Hn(s.value),9,hC)],64)):In("",!0)])])])]))}}),fC=x({__name:"Layout",props:{showHeader:{type:Boolean,default:()=>!0},showFooter:{type:Boolean,default:()=>!0},headerTitle:{type:String,default:()=>""},toggleHeader:{type:Boolean,default:()=>!0},immersiveHeader:{type:Boolean,default:()=>!1},onScroll:{type:Function,default:()=>{}},contentClass:{type:String,default:()=>""},contentStyle:{type:Object,default:()=>({})}},setup(e){const t=Fn(),r=Xn(),o=Bn(),l=Pn(),s=e,d=f(!s.immersiveHeader);let c=0;const u=a(()=>!s.showHeader||s.toggleHeader||s.immersiveHeader?"":"pt-14"),h=a(()=>s.immersiveHeader?d.value?["header-visible"]:["header-hidden"]:s.toggleHeader?p.value:[]),p=f([s.toggleHeader?"!-top-60":""]);i(()=>s.toggleHeader,e=>{p.value=e?["!-top-60"]:[]}),i(()=>s.immersiveHeader,e=>{d.value=!e});const v=(e=>{let t=null;return(...n)=>{null===t&&(t=requestAnimationFrame(()=>{e(...n),t=null}))}})(e=>{const t=e.target,n=Math.max(0,t.scrollTop);if(s.immersiveHeader){if(n<=0)!1!==d.value&&(d.value=!1);else{const e=((e,t,n=15)=>{const r=e-t;return Math.abs(r)<n?null:r>0?"down":"up"})(n,c);"down"===e?!0!==d.value&&(d.value=!0):"up"===e&&!1!==d.value&&(d.value=!1)}c=n}else if(s.toggleHeader){const e=n>50?["top-0"]:["!-top-60"];p.value[0]!==e[0]&&(p.value=e)}s.onScroll&&s.onScroll(e)}),m=f(null);C("scrollContainerRef",m);const g=()=>{if(!m.value)return null;const e=m.value;return e.$el||e};return n(()=>{if(s.immersiveHeader){const e=g();e&&e.addEventListener("scroll",v,{passive:!0})}}),hr(()=>{const e=g();e&&e.removeEventListener("scroll",v)}),(n,i)=>(Rn(),Un(Ln(nf),{key:Ln(t).key,class:Wn([{dark:Ln(r).isDark},"h-full min-h-screen"]),"has-sider":""},{default:jn(()=>[En(Ln(nf),{class:"inset-0 h-full","has-sider":"",position:"absolute"},{default:jn(()=>[Ln(o).isLoggedIn?(Rn(),Un($g,{key:0})):In("",!0),En(Ln(nf),null,{default:jn(()=>{var t,r;return[s.showHeader?(Rn(),Un(jk,{key:0,class:Wn(h.value),title:s.headerTitle,"show-upload-button":Ln(o).isLoggedIn||(null==(r=null==(t=Ln(l).configs)?void 0:t.app)?void 0:r.guest_upload),"show-sidebar-button":Ln(o).isLoggedIn,"show-user-button":Ln(o).isLoggedIn},null,8,["class","title","show-upload-button","show-sidebar-button","show-user-button"])):In("",!0),En(Ln(rf),{ref_key:"scrollContainerRef",ref:m,"native-scrollbar":!0,class:Wn(["w-full h-full",u.value]),position:"absolute","on-scroll":Ln(v),"content-class":["h-full w-full bg-white dark:bg-zinc-950",s.contentClass].join(" "),"content-style":e.contentStyle},{default:jn(()=>[L(n.$slots,"default"),s.showFooter?L(n.$slots,"footer",{key:0},()=>[En(pC)]):In("",!0)]),_:3},8,["on-scroll","class","content-class","content-style"])]}),_:3})]),_:3})]),_:3},8,["class"]))}});export{Ma as $,Nh as A,Yh as B,Bv as C,Pf as D,nx as E,Uv as F,cv as G,Kh as H,Hl as I,qh as J,xs as K,Qp as L,zr as M,du as N,Co as O,El as P,Ba as Q,Sa as R,Xm as S,_a as T,Fa as U,Kc as V,Sr as W,xo as X,Or as Y,Ko as Z,fC as _,Ah as a,$a as a0,ao as a1,br as a2,gr as a3,vl as a4,go as a5,Xf as a6,_f as a7,_l as a8,rm as a9,hg as aa,xf as ab,Pa as ac,Oa as ad,Ca as ae,Vp as af,ak as ag,Mv as b,bs as c,Hg as d,ex as e,is as f,rs as g,Nf as h,Ef as i,np as j,_p as k,Jc as l,tu as m,pg as n,mo as o,Dp as p,Pp as q,Sk as r,bl as s,Po as t,ka as u,zk as v,Rh as w,Zx as x,yu as y,$k as z};
